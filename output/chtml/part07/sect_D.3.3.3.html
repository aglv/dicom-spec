<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>D.3.3.3 Asynchronous Operations (And Sub-Operations) Window Negotiation</title>
      <link rel="stylesheet" type="text/css" href="dicom.css" />
      <meta name="generator" content="DocBook XSL Stylesheets V1.78.1" />
      <link rel="home" href="PS3.7.html" title="PS3.7" />
      <link rel="up" href="sect_D.3.3.html" title="D.3.3 DICOM Application Association Information" />
      <link rel="prev" href="sect_D.3.3.2.4.html" title="D.3.3.2.4 Implementation Version Name Structure (A-ASSOCIATE-AC)" />
      <link rel="next" href="sect_D.3.3.3.2.html" title="D.3.3.3.2 Asynchronous Operations Window Sub-Item Structure (A-ASSOCIATE-AC)" />
      <style type="text/css"><![CDATA[
	p { font-size: 15px; }
      ]]></style>
   </head>
   <body>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.7 2024c - Message Exchange</span>
            </th>
         </tr>
      </table>
      <div xmlns="" class="navheader">
         <table width="100%" summary="Navigation header">
            <tr>
               <th colspan="3" align="center" rowspan="1">D.3.3.3 Asynchronous Operations (And Sub-Operations) Window Negotiation <a accesskey="current" href="http://dicom.nema.org/medical/dicom/current/output/chtml/part07/sect_D.3.3.3.html" shape="rect">(Current)</a>
               </th>
            </tr>
            <tr>
               <td width="20%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_D.3.3.2.4.html" shape="rect">Prev</a> </td>
               <th width="60%" align="center" rowspan="1" colspan="1">D.3.3 DICOM Application Association Information</th>
               <td width="20%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_D.3.3.3.2.html" shape="rect">Next</a>
               </td>
            </tr>
         </table>
         <hr />
      </div>
      <div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="breadcrumbs">
         <span class="breadcrumb-link">
            <a href="PS3.7.html" shape="rect">PS3.7</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="chapter_D.html" shape="rect">Association Negotiation (Normative)</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="sect_D.3.html" shape="rect">Association Establishment</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="sect_D.3.3.html" shape="rect">DICOM Application Association Information</a>
         </span> &gt; <span class="breadcrumb-node">Asynchronous Operations (And Sub-Operations) Window Negotiation</span>
      </div>
      <div class="section">
         <div class="titlepage">
            <div>
               <div>
                  <h4 class="title">
                     <a id="sect_D.3.3.3" shape="rect"></a>D.3.3.3 Asynchronous Operations (And Sub-Operations) Window Negotiation</h4>
               </div>
            </div>
         </div>
         <p>
            <a id="para_f5c2eda1-19b4-4574-8c81-e1ad78efbf1a" shape="rect"></a>The Asynchronous Operations Window is used to negotiate the maximum number of outstanding operation or sub-operation requests (i.e., command requests) for each direction. The synchronous operations mode is the default mode and shall be supported by all DICOM AEs. This negotiation is optional.</p>
         <p>
            <a id="para_0d523164-c3de-45b4-b8f4-8f09cf7dca68" shape="rect"></a>The Association-requestor conveys in the A-ASSOCIATE request:</p>
         <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; ">
               <li class="listitem">
                  <p>
                     <a id="para_3fa86715-9353-40df-80ee-9230d225f0f4" shape="rect"></a>when negotiating the SCU role for operations, the maximum number of outstanding operations it may invoke asynchronously; when negotiating the SCP role for operations, the maximum number of outstanding sub-operations it may invoke asynchronously; when negotiating the SCP role for notifications, the maximum number of notifications it may invoke asynchronously</p>
               </li>
               <li class="listitem">
                  <p>
                     <a id="para_d55385a4-c5d9-4544-8c4b-ef4a3eb37ba5" shape="rect"></a>when negotiating the SCP role for operations, the maximum number of outstanding operations it may invoke asynchronously; when negotiating the SCU role for operations, the maximum number of outstanding sub-operations it may perform asynchronously; when negotiating the SCU role for notifications, the maximum number of notifications it may perform asynchronously when negotiating the SCP role</p>
               </li>
            </ul>
         </div>
         <p>
            <a id="para_c8dbc17e-73af-4244-9052-79eb101e9c36" shape="rect"></a>A value of zero indicates that the above parameters are unlimited.
      A value of one indicates that there is no Asynchronous Operations support.
      If the Asynchronous Operations Window is absent the default for the above parameters shall be equal to one.</p>
         <p>
            <a id="para_a1bee3e4-adaf-45e9-912b-c94b3ba453f2" shape="rect"></a>The Association-acceptor conveys in the A-ASSOCIATE response:</p>
         <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; ">
               <li class="listitem">
                  <p>
                     <a id="para_517295fc-18cb-4e69-a11f-dd3d2353f3bd" shape="rect"></a>when negotiating the SCP role for operations, the maximum number of outstanding operations; when negotiating the SCU role for operations, the maximum number of sub-operations it allows the Association-requestor to invoke asynchronously; when negotiating the SCU role for notifications, the maximum number of outstanding notifications it allows the Association-requestor to invoke asynchronously when negotiating the SCU role. This number shall be equal or less than the number of outstanding notifications, operations and/or sub-operations the Association-requestor offers to invoke (by the A-ASSOCIATE indication).</p>
               </li>
               <li class="listitem">
                  <p>
                     <a id="para_fa94c939-ba09-4e2f-ac61-230fc3dd4355" shape="rect"></a>when negotiating the SCU role for operations, the maximum number of outstanding operations; when negotiating the SCP role for operations, the maximum number of sub-operations it allows the Association-requestor to perform asynchronously; when negotiating the SCP role for notifications, the maximum number of outstanding notifications it allows the Association-requestor to perform asynchronously. This number shall be equal or less than the number of outstanding notifications, operations and/or sub-operations the Association-requestor offers to perform (by the A-ASSOCIATE indication).</p>
               </li>
            </ul>
         </div>
         <p>
            <a id="para_c2b260ec-b0c5-447d-9957-ac82ccb34bf4" shape="rect"></a>A value of zero indicates that the above parameters are unlimited. If the Asynchronous Operations Window is absent the default for the above parameters shall be equal to one. Figures D.3-5 and D.3-6 illustrate examples of Asynchronous Operations Window negotiation.</p>
         <p>
            <a id="para_6dc8d08d-2763-4c45-a743-32b2a8a5bab9" shape="rect"></a>If this negotiation is not present in the A-ASSOCIATE indication it shall be omitted in the A-ASSOCIATE response.</p>
         <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
            <h3 class="title">Note</h3>
            <p>
               <a id="para_1eae59f1-14f6-4849-af72-2c070e3bfa59" shape="rect"></a>The case where the Association-requestor offers the value of zero (which indicates unlimited operations), the Association-acceptor may return zero (agreeing to unlimited operations) or negotiate the parameter down by conveying a value other than zero.</p>
         </div>
         <p>
            <a id="para_1171c173-4014-4c0d-adbe-1435203cf4ee" shape="rect"></a>
         </p>
         <div class="figure">
            <a id="figure_D.3-5" shape="rect"></a>
            <div class="figure-contents">
               <div class="mediaobject">
                  <img src="figures/PS3.7_D.3-5.svg" alt="Asynchronous Operations Window Negotiation (Window Being Negotiated Down By DICOM Application Entity &quot;B&quot;)" />
               </div>
            </div>
            <p class="title">
               <strong>Figure D.3-5. Asynchronous Operations Window Negotiation (Window Being Negotiated Down By DICOM Application Entity "B")</strong>
            </p>
         </div>
         <p>
            <br class="figure-break" clear="none" />
         </p>
         <p>
            <a id="para_514e9a83-8cd1-4a1d-9661-0ff903471a39" shape="rect"></a>
         </p>
         <div class="figure">
            <a id="figure_D.3-6" shape="rect"></a>
            <div class="figure-contents">
               <div class="mediaobject">
                  <img src="figures/PS3.7_D.3-6.svg" alt="Asynchronous Operations Window Negotiation (Window Being Defaulted to 1, 1 By DICOM Application Entity &quot;B&quot;)" />
               </div>
            </div>
            <p class="title">
               <strong>Figure D.3-6. Asynchronous Operations Window Negotiation (Window Being Defaulted to 1, 1 By DICOM Application Entity "B")</strong>
            </p>
         </div>
         <p>
            <br class="figure-break" clear="none" />
         </p>
         <div class="section">
            <div class="titlepage">
               <div>
                  <div>
                     <h5 class="title">
                        <a id="sect_D.3.3.3.1" shape="rect"></a>D.3.3.3.1 Asynchronous Operations Window Sub-Item Structure (A-ASSOCIATE-RQ)</h5>
                  </div>
               </div>
            </div>
            <p>
               <a id="para_78b94334-53e6-4c58-a0db-7aede92622b4" shape="rect"></a>The Asynchronous Operations Window Sub-Item shall be made of a sequence of mandatory fixed length fields. This Sub-Item is optional and if supported, only one Asynchronous Operations Window Sub-Item shall be present in the User Data Item of the A-ASSOCIATE-RQ. <a class="xref" href="sect_D.3.3.3.html#table_D.3-7" title="Table D.3-7. Asynchronous Operations Window Sub-Item Fields (A-ASSOCIATE-RQ)" shape="rect">Table D.3-7</a> shows the sequence of the mandatory fields.</p>
            <div class="table">
               <a id="table_D.3-7" shape="rect"></a>
               <p class="title">
                  <strong>Table D.3-7. Asynchronous Operations Window Sub-Item Fields (A-ASSOCIATE-RQ)</strong>
               </p>
               <div class="table-contents">
                  <table frame="box" rules="all">
                     <thead>
                        <tr valign="top">
                           <th align="center" rowspan="1" colspan="1">
                              <p>
                                 <a id="para_1855c251-c19d-4b7b-8559-b8aafdca8650" shape="rect"></a>
                                 <span class="bold">
                                    <strong>Item Bytes</strong>
                                 </span>
                              </p>
                           </th>
                           <th align="center" rowspan="1" colspan="1">
                              <p>
                                 <a id="para_73b674f2-2ba6-4cb0-bed8-a466e63e6815" shape="rect"></a>
                                 <span class="bold">
                                    <strong>Field Name</strong>
                                 </span>
                              </p>
                           </th>
                           <th align="center" rowspan="1" colspan="1">
                              <p>
                                 <a id="para_acc35c8a-8ee4-452a-9f5c-268aadd2ab8b" shape="rect"></a>
                                 <span class="bold">
                                    <strong>Description of Field</strong>
                                 </span>
                              </p>
                           </th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr valign="top">
                           <td align="center" rowspan="1" colspan="1">
                              <p>
                                 <a id="para_8f6a9237-a6bf-4a55-9957-907166f93664" shape="rect"></a>1</p>
                           </td>
                           <td align="left" rowspan="1" colspan="1">
                              <p>
                                 <a id="para_552d7807-8305-40ed-9697-857c77d6a5f2" shape="rect"></a>Item-type</p>
                           </td>
                           <td align="left" rowspan="1" colspan="1">
                              <p>
                                 <a id="para_8d9ffcbc-0850-46ff-b976-597a05872e0f" shape="rect"></a>53H</p>
                           </td>
                        </tr>
                        <tr valign="top">
                           <td align="center" rowspan="1" colspan="1">
                              <p>
                                 <a id="para_66eaf02a-367b-4431-aa00-8f9de85230d6" shape="rect"></a>2</p>
                           </td>
                           <td align="left" rowspan="1" colspan="1">
                              <p>
                                 <a id="para_94148972-3f82-4332-bd1a-a506d5646d8a" shape="rect"></a>Reserved</p>
                           </td>
                           <td align="left" rowspan="1" colspan="1">
                              <p>
                                 <a id="para_8779ef8f-c786-48d3-b0f3-b9217ab79fc6" shape="rect"></a>This reserved field shall be sent with a value 00H but not tested to this value when received.</p>
                           </td>
                        </tr>
                        <tr valign="top">
                           <td align="center" rowspan="1" colspan="1">
                              <p>
                                 <a id="para_af7c9a1f-ddf7-485d-919b-ae5c66db693a" shape="rect"></a>3-4</p>
                           </td>
                           <td align="left" rowspan="1" colspan="1">
                              <p>
                                 <a id="para_5b972829-32f9-40de-ab00-3c61a3d2a5a9" shape="rect"></a>Item-length</p>
                           </td>
                           <td align="left" rowspan="1" colspan="1">
                              <p>
                                 <a id="para_5370be8b-99d1-4657-a6b2-46e23d133160" shape="rect"></a>This Item-length shall be the number of bytes from the first byte of the following field to the last byte of the Maximum-number-operations-performed field. In the case of this Sub-Item, it shall have the fixed value of 00000004H encoded as an unsigned binary number.</p>
                           </td>
                        </tr>
                        <tr valign="top">
                           <td align="center" rowspan="1" colspan="1">
                              <p>
                                 <a id="para_aa670df5-b5e7-4f24-a34d-8186af264fba" shape="rect"></a>5-6</p>
                           </td>
                           <td align="left" rowspan="1" colspan="1">
                              <p>
                                 <a id="para_15171cc3-84cd-41bf-a141-ae1c2be87715" shape="rect"></a>Maximum-number-operations-invoked</p>
                           </td>
                           <td align="left" rowspan="1" colspan="1">
                              <p>
                                 <a id="para_2172db9c-445b-4310-a50e-ca10e37bdc1e" shape="rect"></a>This field shall contain the Maximum-number-operations-invoked as defined for the Association-requestor in <a class="xref" href="sect_D.3.3.3.html" title="D.3.3.3 Asynchronous Operations (And Sub-Operations) Window Negotiation" shape="rect">Section D.3.3.3</a>. It shall be encoded as an unsigned binary number.</p>
                           </td>
                        </tr>
                        <tr valign="top">
                           <td align="center" rowspan="1" colspan="1">
                              <p>
                                 <a id="para_204cef34-0479-4caa-a21e-c26c5448dfcc" shape="rect"></a>7-8</p>
                           </td>
                           <td align="left" rowspan="1" colspan="1">
                              <p>
                                 <a id="para_e713bfd9-1b23-499b-a5da-58c46fd4c8e1" shape="rect"></a>Maximum-number-operations-performed</p>
                           </td>
                           <td align="left" rowspan="1" colspan="1">
                              <p>
                                 <a id="para_df3df07e-4003-43ea-85ea-6e226f4f209e" shape="rect"></a>This field shall contain the Maximum-number-operations-performed as defined for the Association-requestor in <a class="xref" href="sect_D.3.3.3.html" title="D.3.3.3 Asynchronous Operations (And Sub-Operations) Window Negotiation" shape="rect">Section D.3.3.3</a>. It shall be encoded as an unsigned binary number.</p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
            </div>
            <br class="table-break" clear="none" />
         </div>
      </div>
      <div class="navfooter">
         <hr />
         <table width="100%" summary="Navigation footer">
            <tr>
               <td width="40%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_D.3.3.2.4.html" shape="rect">Prev</a> </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="u" href="sect_D.3.3.html" shape="rect">Up</a>
               </td>
               <td width="40%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_D.3.3.3.2.html" shape="rect">Next</a>
               </td>
            </tr>
            <tr>
               <td width="40%" align="left" valign="top" rowspan="1" colspan="1">D.3.3.2.4 Implementation Version Name Structure (A-ASSOCIATE-AC) </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="h" href="PS3.7.html" shape="rect">Home</a>
               </td>
               <td width="40%" align="right" valign="top" rowspan="1" colspan="1"> D.3.3.3.2 Asynchronous Operations Window Sub-Item Structure (A-ASSOCIATE-AC)</td>
            </tr>
         </table>
      </div>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.7 2024c - Message Exchange</span>
            </th>
         </tr>
      </table>
   </body>
</html>
