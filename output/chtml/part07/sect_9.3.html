<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>9.3 Protocol</title>
      <link rel="stylesheet" type="text/css" href="dicom.css" />
      <meta name="generator" content="DocBook XSL Stylesheets V1.78.1" />
      <link rel="home" href="PS3.7.html" title="PS3.7" />
      <link rel="up" href="chapter_9.html" title="9 DIMSE-C" />
      <link rel="prev" href="sect_9.2.4.html" title="9.2.4 Disrupting Procedures" />
      <link rel="next" href="sect_9.3.2.html" title="9.3.2 C-FIND Protocol" />
      <style type="text/css"><![CDATA[
	p { font-size: 15px; }
      ]]></style>
   </head>
   <body>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.7 2024c - Message Exchange</span>
            </th>
         </tr>
      </table>
      <div xmlns="" class="navheader">
         <table width="100%" summary="Navigation header">
            <tr>
               <th colspan="3" align="center" rowspan="1">9.3 Protocol <a accesskey="current" href="http://dicom.nema.org/medical/dicom/current/output/chtml/part07/sect_9.3.html" shape="rect">(Current)</a>
               </th>
            </tr>
            <tr>
               <td width="20%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_9.2.4.html" shape="rect">Prev</a> </td>
               <th width="60%" align="center" rowspan="1" colspan="1">9 DIMSE-C</th>
               <td width="20%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_9.3.2.html" shape="rect">Next</a>
               </td>
            </tr>
         </table>
         <hr />
      </div>
      <div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="breadcrumbs">
         <span class="breadcrumb-link">
            <a href="PS3.7.html" shape="rect">PS3.7</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="chapter_9.html" shape="rect">DIMSE-C</a>
         </span> &gt; <span class="breadcrumb-node">Protocol</span>
      </div>
      <div class="section">
         <div class="titlepage">
            <div>
               <div>
                  <h2 class="title" style="clear: both">
                     <a id="sect_9.3" shape="rect"></a>9.3 Protocol</h2>
               </div>
            </div>
         </div>
         <p>
            <a id="para_4f188dab-e7ed-4092-92f7-59e2b5e7350b" shape="rect"></a>This section specifies the protocol necessary to perform the set of DIMSE-C operations. The Value Representations (VR) specified in the following tables shall be encoded as defined in <a href="../part05/PS3.5.html" class="olink" shape="rect">PS3.5</a>.</p>
         <div class="section">
            <div class="titlepage">
               <div>
                  <div>
                     <h3 class="title">
                        <a id="sect_9.3.1" shape="rect"></a>9.3.1 C-STORE Protocol</h3>
                  </div>
               </div>
            </div>
            <p>
               <a id="para_025dd681-b27e-4d02-84a2-189a02f2838d" shape="rect"></a>The information necessary for the C-STORE request and indication DIMSE-C primitives are conveyed in the C-STORE-RQ Message. The information necessary for the C-STORE response and confirmation DIMSE-C primitives are conveyed in the C-STORE-RSP Message.</p>
            <div class="section">
               <div class="titlepage">
                  <div>
                     <div>
                        <h4 class="title">
                           <a id="sect_9.3.1.1" shape="rect"></a>9.3.1.1 C-STORE-RQ</h4>
                     </div>
                  </div>
               </div>
               <p>
                  <a id="para_b89c8c7f-62f6-4385-b3b8-034a92557f3c" shape="rect"></a>The C-STORE-RQ Message contains fields as defined in <a class="xref" href="sect_9.3.html#table_9.3-1" title="Table 9.3-1. C-STORE-RQ Message Fields" shape="rect">Table 9.3-1</a>. Each field shall conform to DICOM encoding and Value Representation as defined in <a href="../part05/PS3.5.html" class="olink" shape="rect">PS3.5</a>. Fields are required as specified in the C-STORE service definition unless otherwise noted in <a class="xref" href="sect_9.3.html#table_9.3-1" title="Table 9.3-1. C-STORE-RQ Message Fields" shape="rect">Table 9.3-1</a>. Fields not specified in the C-STORE service definition but present in <a class="xref" href="sect_9.3.html#table_9.3-1" title="Table 9.3-1. C-STORE-RQ Message Fields" shape="rect">Table 9.3-1</a> are required by the DIMSE-C protocol.</p>
               <div class="table">
                  <a id="table_9.3-1" shape="rect"></a>
                  <p class="title">
                     <strong>Table 9.3-1. C-STORE-RQ Message Fields</strong>
                  </p>
                  <div class="table-contents">
                     <table frame="box" rules="all">
                        <thead>
                           <tr valign="top">
                              <td align="center" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_9af55997-ec9b-4a3c-8d1a-d4df03c34570" shape="rect"></a>
                                    <span class="bold">
                                       <strong>Message Field</strong>
                                    </span>
                                 </p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_694dddc3-3a56-41d0-b477-e8b170640e00" shape="rect"></a>
                                    <span class="bold">
                                       <strong>Tag</strong>
                                    </span>
                                 </p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_332dcade-bb2c-4edb-94d6-70b5735b48fa" shape="rect"></a>
                                    <span class="bold">
                                       <strong>VR</strong>
                                    </span>
                                 </p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_ace6b125-fead-458a-8ffb-7b39e63ca725" shape="rect"></a>
                                    <span class="bold">
                                       <strong>VM</strong>
                                    </span>
                                 </p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_2049fb72-522f-4a03-bf88-8a3c850ec205" shape="rect"></a>
                                    <span class="bold">
                                       <strong>Description of Field</strong>
                                    </span>
                                 </p>
                              </td>
                           </tr>
                        </thead>
                        <tbody>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_474547c4-8b7e-4f6c-8377-11153daeb11f" shape="rect"></a>Command Group Length</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_7498ddcb-c9b6-45ce-87e0-f406c66429b4" shape="rect"></a>(0000,0000)</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_40291b0d-3cd8-495f-b362-333e765d2e2d" shape="rect"></a>UL</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_3fbef2ef-a4bd-418e-814c-03fe06ae07a8" shape="rect"></a>1</p>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_cc69f0a2-5178-45bc-b090-55a34815315e" shape="rect"></a>The even number of bytes from the end of the value field to the beginning of the next group.</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_56777179-77bb-4437-ace0-558e81034d3f" shape="rect"></a>Affected SOP Class UID</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_19aebc77-7ce9-4117-9a45-ac29677f76dd" shape="rect"></a>(0000,0002)</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_47796c07-39b2-42aa-8838-f43228ec0696" shape="rect"></a>UI</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_6c9f22c0-a58f-4f8f-8f0f-0203a7d6be98" shape="rect"></a>1</p>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_8bfaa5d2-4b5a-4ab4-8b07-be85eabf37d2" shape="rect"></a>SOP Class UID of the SOP Instance to be stored.</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_6ecb8f43-47a3-431b-8130-acefc703976e" shape="rect"></a>Command Field</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_c06d04df-56af-4005-85bf-ed2201e52ac1" shape="rect"></a>(0000,0100)</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_ab158eea-5f21-4fbf-8d93-657a102f3657" shape="rect"></a>US</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_dfb4bab1-fdbf-4c32-ba71-8de236e6d175" shape="rect"></a>1</p>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_a210557c-5723-41de-a35e-51bd84f5ff2b" shape="rect"></a>This field distinguishes the DIMSE-C operation conveyed by this Message. The value of this field shall be set to 0001H for the C-STORE-RQ Message.</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_d62f29c9-7827-45a0-9592-65620e3ac480" shape="rect"></a>Message ID</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_bead5908-a464-4366-966f-2d8c2be836d0" shape="rect"></a>(0000,0110)</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_84832b0b-d65d-4fc9-88b1-c9200399ceaa" shape="rect"></a>US</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_e164cb00-6ace-44ba-938e-7daf32b0c5af" shape="rect"></a>1</p>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_8ff1d9dd-53d1-4d18-80e8-e6a0d09e1d11" shape="rect"></a>Implementation-specific value. It distinguishes this Message from other Messages.</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_cc554d1b-55de-47ad-ba6b-ba21318a2ec8" shape="rect"></a>Priority</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_3e84e7f7-14a4-47ec-96ab-e95500d704fb" shape="rect"></a>(0000,0700)</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_aa4ccf75-9f70-46bb-a47f-f8970bf76552" shape="rect"></a>US</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_e4ec6dec-e027-485d-8eda-fa1a9df05f7b" shape="rect"></a>1</p>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_a5916ddc-fe26-4514-84a2-1277b19463b2" shape="rect"></a>The priority shall be set to one of the following values:</p>
                                 <p>
                                    <a id="para_419a9d87-ffd4-4123-9f8a-a033ac2369bb" shape="rect"></a>LOW = 0002H</p>
                                 <p>
                                    <a id="para_09588b44-3ceb-45b1-b623-e28c39a84654" shape="rect"></a>MEDIUM = 0000H</p>
                                 <p>
                                    <a id="para_9e7227da-34bf-4bd8-a14c-5cb86b922ea4" shape="rect"></a>HIGH = 0001H</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_3c9972f2-d03c-44e7-b280-6a2d0e2a3576" shape="rect"></a>Command Data Set Type</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_8c34cf48-216f-4863-a3aa-a0cbadfaa3f1" shape="rect"></a>(0000,0800)</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_c9e3f007-d436-4691-adc4-575f8fcfd7aa" shape="rect"></a>US</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_79e0ab2a-0c9c-4b3d-add8-5addb5b97e0a" shape="rect"></a>1</p>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_34c3fc4d-f1a9-4f72-a088-c0a1005fb20a" shape="rect"></a>This field indicates that a Data Set is present in the Message. It shall be set to any value other than 0101H (Null).</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_b061bb73-8899-4cec-a465-f7bb278966e8" shape="rect"></a>Affected SOP Instance UID</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_7d9bf85d-a11b-4e37-8f01-ccae0a57e4ce" shape="rect"></a>(0000,1000)</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_8da881f8-8b1c-48f5-8b80-b8ff0fd7d431" shape="rect"></a>UI</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_4982d71d-2609-409e-9876-4b276e9273e5" shape="rect"></a>1</p>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_5d24c202-48e6-4eb8-8225-382780a1014a" shape="rect"></a>Contains the UID of the SOP Instance to be stored.</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_3354375e-30e8-4f05-b9bb-26e592231163" shape="rect"></a>Move Originator Application Entity Title</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_495f8c2b-6b1f-4af8-85e1-110643b6c564" shape="rect"></a>(0000,1030)</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_9c40dacd-09a2-493f-b8da-d41e5ac3c2b2" shape="rect"></a>AE</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_db2c0bbf-90a7-433a-8f5e-b9edabe214fb" shape="rect"></a>1</p>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_91fad5dd-93f1-42c5-8cae-4363fe4c684f" shape="rect"></a>Contains the DICOM AE Title of the DICOM AE that invoked the C-MOVE operation from which this C-STORE sub-operation is being performed.</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_0d1266d5-7dde-4702-8ceb-51c236faecf7" shape="rect"></a>Move Originator Message ID</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_42509ad3-8b0d-4b9e-9bf7-ced00b9174ae" shape="rect"></a>(0000,1031)</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_ffaee058-d655-4311-a6a8-430573a8262d" shape="rect"></a>US</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_e749f635-7e6d-425d-93e0-cc31b0a61c84" shape="rect"></a>1</p>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_1be1e178-6be5-4492-ba00-33d98b61b1d7" shape="rect"></a>Contains the Message ID (0000,0110) of the C-MOVE-RQ Message from which this C-STORE sub-operations is being performed.</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_3bbb7491-12df-4450-946f-7e7265770720" shape="rect"></a>Data Set</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_85720fca-52df-4fe8-9b11-99cdefaff3f8" shape="rect"></a>(no tag)</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_e4e0377a-fa88-4b4d-9111-f91df4ce80e0" shape="rect"></a>-</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_c3117455-8782-40d5-b8d6-74d3f3277c28" shape="rect"></a>-</p>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_0459d4d9-ecb0-4206-af50-00366008408e" shape="rect"></a>Application-specific Data Set.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
               </div>
               <br class="table-break" clear="none" />
               <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                  <h3 class="title">Note</h3>
                  <p>
                     <a id="para_48252b33-fe7f-4748-a31b-9a35279c1f9f" shape="rect"></a>The contents of Composite Information Object Definitions, encoded as a series of Data Elements, are defined in <a href="../part03/PS3.3.html" class="olink" shape="rect">PS3.3</a> and <a href="../part04/PS3.4.html" class="olink" shape="rect">PS3.4</a>
                  </p>
               </div>
            </div>
            <div class="section">
               <div class="titlepage">
                  <div>
                     <div>
                        <h4 class="title">
                           <a id="sect_9.3.1.2" shape="rect"></a>9.3.1.2 C-STORE-RSP</h4>
                     </div>
                  </div>
               </div>
               <p>
                  <a id="para_aa062dad-2151-4b2a-b099-feabc0898c11" shape="rect"></a>The C-STORE-RSP Message contains fields as defined in <a class="xref" href="sect_9.3.html#table_9.3-2" title="Table 9.3-2. C-STORE-RSP Message Fields" shape="rect">Table 9.3-2</a> and in <a class="xref" href="chapter_C.html" title="C Status Type Encoding (Normative)" shape="rect">Annex C</a>. Each field shall conform to DICOM encoding and Value Representation as defined in <a href="../part05/PS3.5.html" class="olink" shape="rect">PS3.5</a> of the DICOM Standard. Fields are required as specified in the C-STORE service definition unless otherwise noted in <a class="xref" href="sect_9.3.html#table_9.3-2" title="Table 9.3-2. C-STORE-RSP Message Fields" shape="rect">Table 9.3-2</a>. Fields not specified in the C-STORE service definition but present in <a class="xref" href="sect_9.3.html#table_9.3-2" title="Table 9.3-2. C-STORE-RSP Message Fields" shape="rect">Table 9.3-2</a> are required by the DIMSE-C protocol.</p>
               <div class="table">
                  <a id="table_9.3-2" shape="rect"></a>
                  <p class="title">
                     <strong>Table 9.3-2. C-STORE-RSP Message Fields</strong>
                  </p>
                  <div class="table-contents">
                     <table frame="box" rules="all">
                        <thead>
                           <tr valign="top">
                              <td align="center" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_a812e995-3970-41d5-92d5-3146f07221ba" shape="rect"></a>
                                    <span class="bold">
                                       <strong>Message Field</strong>
                                    </span>
                                 </p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_fac27d24-dcb8-4b5b-af19-0b2cc9a7e494" shape="rect"></a>
                                    <span class="bold">
                                       <strong>Tag</strong>
                                    </span>
                                 </p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_77d79c3e-1703-44fc-b741-18209892b2f4" shape="rect"></a>
                                    <span class="bold">
                                       <strong>VR</strong>
                                    </span>
                                 </p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_517921b4-cb3a-492f-8331-c8bcca1e510e" shape="rect"></a>
                                    <span class="bold">
                                       <strong>VM</strong>
                                    </span>
                                 </p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_29a787ac-f57f-4b8d-8f2d-efe50521948e" shape="rect"></a>
                                    <span class="bold">
                                       <strong>Description of Field</strong>
                                    </span>
                                 </p>
                              </td>
                           </tr>
                        </thead>
                        <tbody>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_848ee563-763c-4ca2-a2e0-92a1636323d9" shape="rect"></a>Command Group Length</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_4ee4e6c6-19b7-4a36-a42f-2b063adcf4e0" shape="rect"></a>(0000,0000)</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_9a4702d4-77a1-4e74-8c16-e11d15d41514" shape="rect"></a>UL</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_bcc72911-dd51-47fe-9760-f1a237f84992" shape="rect"></a>1</p>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_0b1b83df-1d69-40e9-a390-e1cb37f56973" shape="rect"></a>The even number of bytes from the end of the value field to the beginning of the next group.</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_26622104-41b2-4897-b039-38d6b352d803" shape="rect"></a>Affected SOP Class UID</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_0a921457-90a8-4a00-a60b-748b2e1018fe" shape="rect"></a>(0000,0002)</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_eca00dc6-91bf-4ceb-8f94-0555fec1fa4f" shape="rect"></a>UI</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_627f368d-a240-490f-8f4a-5fee24dc1c3e" shape="rect"></a>1</p>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_59086497-8c51-4cb9-8fe8-695d9ddf8748" shape="rect"></a>Contains the SOP Class of the SOP Instance stored.</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_90c716cf-fc69-49bd-9583-3dedad33644b" shape="rect"></a>Command Field</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_0d8d0b8e-e088-412c-9dc9-45bf8285f2cc" shape="rect"></a>(0000,0100)</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_8b99b350-49ff-4206-bc52-496c844913bd" shape="rect"></a>US</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_f3451de3-e4ee-46b5-ae99-7b63b76377aa" shape="rect"></a>1</p>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_e8a26897-448d-45a6-a0b3-0724524e2717" shape="rect"></a>This field distinguishes the DIMSE-C operation conveyed by this Message. The value of this field shall be set to 8001H for the C-STORE-RSP Message.</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_b041bdf6-a944-4306-b7ce-c4371a944599" shape="rect"></a>Message ID Being Responded To</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_33255427-97cc-4ce8-b822-18fb1ea042c0" shape="rect"></a>(0000,0120)</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_438dfede-c01a-4305-af3c-a12c3da4689a" shape="rect"></a>US</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_073ade58-2f89-498e-a6e0-3529e1a95cec" shape="rect"></a>1</p>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_6683ac19-db14-4be4-af87-1e0abdc7f4e7" shape="rect"></a>Shall be set to the value of the Message ID (0000,0110) field used in associated C-STORE-RQ Message.</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_e46267e6-85c4-456b-aa19-fee12aaac8c1" shape="rect"></a>Command Data Set Type</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_1b92b471-f5ea-4694-b832-eed9d2456cb9" shape="rect"></a>(0000,0800)</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_2d937dd0-60ff-4e50-ae9e-3cd20c547bf9" shape="rect"></a>US</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_9c731929-dafa-49fd-832a-391a4e22489e" shape="rect"></a>1</p>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_70f405e0-79e7-4bf0-a7dd-8217ad57660b" shape="rect"></a>This field indicates that no Data Set is present in the Message and shall be set to a value of 0101H (Null).</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_158166c0-9f1b-4c36-aa3e-4ea8cc7bae90" shape="rect"></a>Status</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_6bed570d-a1ed-4ce8-bdb3-8e01627de759" shape="rect"></a>(0000,0900)</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_154a3a6c-a109-47a0-acb2-14c878e539ff" shape="rect"></a>US</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_e942fec7-0988-4fb1-a97c-79aef1c96abf" shape="rect"></a>1</p>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_96dbc267-8ffb-4fa7-94d4-bc09e3bae5e8" shape="rect"></a>The value of this field depends upon the status type. <a class="xref" href="chapter_C.html" title="C Status Type Encoding (Normative)" shape="rect">Annex C</a> defines the encoding of the status types defined in the service definition.</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_baebcad3-6a9b-488f-8661-a95a2c5ef094" shape="rect"></a>Affected SOP Instance UID</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_888375f1-e0ed-437e-a24a-10396bd96aa7" shape="rect"></a>(0000,1000)</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_e5712029-afee-4817-8c66-e85161c6c2be" shape="rect"></a>UI</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_8d1b5236-a0d8-497f-80f5-102b4deb05bb" shape="rect"></a>1</p>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>
                                    <a id="para_ef9e99ec-384c-46e1-a2bd-be4e80ad237f" shape="rect"></a>Contains the UID of the SOP Instance stored.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
               </div>
               <br class="table-break" clear="none" />
            </div>
            <div class="section">
               <div class="titlepage">
                  <div>
                     <div>
                        <h4 class="title">
                           <a id="sect_9.3.1.3" shape="rect"></a>9.3.1.3 C-STORE Protocol Procedures</h4>
                     </div>
                  </div>
               </div>
               <p>
                  <a id="para_010ed68b-9d07-48cf-bb58-62729bf12b7a" shape="rect"></a>The C-STORE procedures are initiated by the invoking DIMSE Service User issuing a C-STORE request primitive. On receipt of the C-STORE request primitive the DIMSE-C protocol machine shall:</p>
               <div class="itemizedlist">
                  <ul class="itemizedlist" style="list-style-type: disc; ">
                     <li class="listitem">
                        <p>
                           <a id="para_bd0f09b5-16e6-4e30-be1d-f9156a641143" shape="rect"></a>construct a Message conveying the C-STORE-RQ</p>
                     </li>
                     <li class="listitem">
                        <p>
                           <a id="para_7de75aff-6b1c-4caa-97bc-c266744d7fda" shape="rect"></a>send the Message using the P-DATA request service (see 8.1)</p>
                     </li>
                  </ul>
               </div>
               <p>
                  <a id="para_5a55ffa7-1c4a-47ee-98dc-6535e89a90f0" shape="rect"></a>On receipt of a Message conveying a C-STORE-RQ the DIMSE-C protocol machine shall issue a C-STORE indication primitive to the performing DIMSE Service User.</p>
               <p>
                  <a id="para_24a8f232-832d-4bd3-89e6-a43fb0dab093" shape="rect"></a>On receipt of the C-STORE response primitive, issued by the performing DIMSE Service User, the DIMSE-C protocol machine shall:</p>
               <div class="itemizedlist">
                  <ul class="itemizedlist" style="list-style-type: disc; ">
                     <li class="listitem">
                        <p>
                           <a id="para_a9ee6be6-b7d5-4753-b925-480d94e498f4" shape="rect"></a>construct a Message conveying the C-STORE-RSP</p>
                     </li>
                     <li class="listitem">
                        <p>
                           <a id="para_d5cc6ef3-1fdf-495b-b04b-8fcb40b1a5cd" shape="rect"></a>send the Message using the P-DATA request service (see 8.1)</p>
                     </li>
                  </ul>
               </div>
               <p>
                  <a id="para_e5d0172f-2deb-409f-9f95-6ae8ac48c972" shape="rect"></a>On receipt of a Message conveying a C-STORE-RSP the DIMSE-C protocol machine shall issue a C-STORE confirmation primitive to the invoking DIMSE Service User, thus completing the C-STORE procedure.</p>
               <p>
                  <a id="para_89be2cc1-b8ed-4e2d-aca8-20d51a33501b" shape="rect"></a>The performing DIMSE Service User may return a C-STORE-RSP with the status of Failed or Refused before the complete C-STORE-RQ request Message has been completely transmitted by the invoking DIMSE Service User (this is called an early failed response). Upon receipt of this Failed or Refused C-STORE-RSP the invoking DIMSE Service User may terminate the Message before it is completely sent (i.e., set the Last Fragment bit to 1 in a Data PDV for this Message, see <a class="xref" href="chapter_F.html" title="F Usage of the P-DATA Service By the DICOM Application Entity (Normative)" shape="rect">Annex F</a>). Following this, it may invoke another operation or notification. It is a protocol violation for an invoking DIMSE Service User to set the Last Fragment bit to 1 before a C-STORE-RQ Message has been completely transmitted if it has not received a Failed or Refused C-STORE-RSP to that request.</p>
               <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                  <h3 class="title">Note</h3>
                  <p>
                     <a id="para_73e8ad18-0961-45b7-af6a-f6cb7a8ac332" shape="rect"></a>When an Association is operating in asynchronous mode, it is possible for an invoking DIMSE Service User to transmit several Messages before a response. Therefore, while sending a Message it may receive a response to a previously transmitted Message. In this case this response is not an early failed response because the related Message has already been sent.</p>
               </div>
            </div>
         </div>
      </div>
      <div class="navfooter">
         <hr />
         <table width="100%" summary="Navigation footer">
            <tr>
               <td width="40%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_9.2.4.html" shape="rect">Prev</a> </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="u" href="chapter_9.html" shape="rect">Up</a>
               </td>
               <td width="40%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_9.3.2.html" shape="rect">Next</a>
               </td>
            </tr>
            <tr>
               <td width="40%" align="left" valign="top" rowspan="1" colspan="1">9.2.4 Disrupting Procedures </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="h" href="PS3.7.html" shape="rect">Home</a>
               </td>
               <td width="40%" align="right" valign="top" rowspan="1" colspan="1"> 9.3.2 C-FIND Protocol</td>
            </tr>
         </table>
      </div>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.7 2024c - Message Exchange</span>
            </th>
         </tr>
      </table>
   </body>
</html>
