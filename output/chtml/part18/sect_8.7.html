<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>8.7 Media Types</title>
      <link rel="stylesheet" type="text/css" href="dicom.css" />
      <meta name="generator" content="DocBook XSL Stylesheets V1.78.1" />
      <link rel="home" href="PS3.18.html" title="PS3.18" />
      <link rel="up" href="chapter_8.html" title="8 Common Aspects of DICOM Web Services" />
      <link rel="prev" href="sect_8.6.3.html" title="8.6.3 Status Report" />
      <link rel="next" href="sect_8.7.2.html" title="8.7.2 DICOM Resource Categories" />
      <style type="text/css"><![CDATA[
	p { font-size: 15px; }
      ]]></style>
   </head>
   <body>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.18 2024a - Web Services</span>
            </th>
         </tr>
      </table>
      <div xmlns="" class="navheader">
         <table width="100%" summary="Navigation header">
            <tr>
               <th colspan="3" align="center" rowspan="1">8.7 Media Types <a accesskey="current" href="http://dicom.nema.org/medical/dicom/current/output/chtml/part18/sect_8.7.html" shape="rect">(Current)</a>
               </th>
            </tr>
            <tr>
               <td width="20%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_8.6.3.html" shape="rect">Prev</a> </td>
               <th width="60%" align="center" rowspan="1" colspan="1">8 Common Aspects of DICOM Web Services</th>
               <td width="20%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_8.7.2.html" shape="rect">Next</a>
               </td>
            </tr>
         </table>
         <hr />
      </div>
      <div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="breadcrumbs">
         <span class="breadcrumb-link">
            <a href="PS3.18.html" shape="rect">PS3.18</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="chapter_8.html" shape="rect">Common Aspects of DICOM Web Services</a>
         </span> &gt; <span class="breadcrumb-node">Media Types</span>
      </div>
      <div class="section">
         <div class="titlepage">
            <div>
               <div>
                  <h2 class="title" style="clear: both">
                     <a id="sect_8.7" shape="rect"></a>8.7 Media Types</h2>
               </div>
            </div>
         </div>
         <p>
            <a id="para_08e89eb8-a289-497a-b4ef-712f81945b2a" shape="rect"></a>Media types are the basis for both content negotiation and data typing of message payloads. Each <a href="../part18/PS3.18.html" class="olink" shape="rect">PS3.18</a> service, and/or transaction defines the media types and associated representations that are default, required and optional.</p>
         <p>
            <a id="para_a27f7b4b-bc0d-4ac1-ac97-2faa748c244a" shape="rect"></a>The media type also specifies whether the payload contains a single representation (single part), or multiple representations (multipart). Multipart payloads are only defined for the RESTful APIs. See <a class="xref" href="sect_8.6.html#sect_8.6.1.2" title="8.6.1.2 Multipart Payload" shape="rect">Section 8.6.1.2</a> and <a class="xref" href="sect_10.4.3.html" title="10.4.3 Response" shape="rect">Section 10.4.3</a>.</p>
         <p>
            <a id="para_1e273665-671e-4e88-8e29-4e29c5c6aba6" shape="rect"></a>Media types are identifiers used to define the data format of a representation. HTTP uses media types in the Content-Type and Accept header fields to provide open and extensible data typing and type negotiation. The syntax of media types is:</p>
         <pre class="programlisting" xml:space="preserve">media-type = type "/" subtype *(OWS ";" OWS mt-parameter)</pre>
         <p>
            <a id="para_33e5d9f1-98f8-40de-8f6b-99428e3cf212" shape="rect"></a>Where</p>
         <pre class="programlisting" xml:space="preserve">
type         = token
subtype      = token
mt-parameter = mtp-name "=" mtp-value 
mtp-name     = token
mtp-value    = (token / quoted-string)
</pre>
         <p>
            <a id="para_a7f33ed4-ab78-4534-b2e8-97945da3c816" shape="rect"></a>The 'type/subtype' may be followed by parameters in the form of 'name "=" value' pairs.</p>
         <p>
            <a id="para_77275f13-03e7-4b5f-9acf-0c894de992a1" shape="rect"></a>The type, subtype, and mtp-name tokens are case-insensitive, but the case sensitivity of parameter values depends on the semantics of the parameter name. The presence or absence of a parameter might be significant to the processing of a media-type, depending on its definition within the media type registry.</p>
         <p>
            <a id="para_2bb8c611-6984-4e83-bf53-a99dbafe9d69" shape="rect"></a>An mtp-value can be transmitted either as a token or quoted-string. The quoted and unquoted values are equivalent.</p>
         <p>
            <a id="para_a4799850-068a-425c-a1d6-85789ac826ec" shape="rect"></a>Media types are defined in <a class="xref" href="chapter_2.html#biblio_RFC_7231" title="Hypertext Transfer Protocol (HTTP/1.1): Semantics and Content" shape="rect">[<abbr class="abbrev">RFC7231</abbr>]</a>
                <a class="link" href="http://tools.ietf.org/html/rfc7231#section-3.1.1.1" target="_top" shape="rect">Section 3.1.1.1</a>.</p>
         <p>
            <a id="para_01d8fc4b-9c46-4bc5-a71a-bf83b4d2857a" shape="rect"></a>IANA maintains a registry of media types <a class="xref" href="chapter_2.html#biblio_IANA_MediaTypes" title="Media Types" shape="rect">[<abbr class="abbrev">IANA Media Types</abbr>]</a>.</p>
         <p>
            <a id="para_6a483ed0-f96b-44df-b6c1-04567be987d3" shape="rect"></a>Many media types specify a character set parameter.</p>
         <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
            <h3 class="title">Note</h3>
            <p>
               <a id="para_1bccf245-fbd3-47ec-ad76-e9e5c59b40e3" shape="rect"></a>The term "MIME Type" is not synonymous with "Media Type". MIME types are defined by Multipurpose Internet Mail Extensions <a class="xref" href="chapter_2.html#biblio_RFC_2045" title="Multipurpose Internet Mail Extensions (MIME) Part One: Format of Internet Message Bodies" shape="rect">[<abbr class="abbrev">RFC2045</abbr>]</a> and used by email programs. Media Types are defined by Media Type Specifications and Registration Procedures <a class="xref" href="chapter_2.html#biblio_RFC_6838" title="Media Type Specifications and Registration Procedures" shape="rect">[<abbr class="abbrev">RFC6838</abbr>]</a>.</p>
         </div>
         <div class="section">
            <div class="titlepage">
               <div>
                  <div>
                     <h3 class="title">
                        <a id="sect_8.7.1" shape="rect"></a>8.7.1 Multipart Media Types</h3>
                  </div>
               </div>
            </div>
            <p>
               <a id="para_51c223a3-e90a-476c-b63a-655d026796c3" shape="rect"></a>Some of the services defined in this Part of the Standard support the multipart media types <a class="xref" href="chapter_2.html#biblio_RFC_2387" title="The MIME Multipart/Related Content-type" shape="rect">[<abbr class="abbrev">RFC2387</abbr>]</a>. The syntax is:</p>
            <pre class="programlisting" xml:space="preserve">multipart-media-type = "multipart" "/" subtype *(OWS ";" OWS parameter)</pre>
            <p>
               <a id="para_1bbe69aa-a4ba-4ab4-b367-c37c8fbd6cff" shape="rect"></a>The application/multipart-related media type is used by the RESTful services. Its syntax is:</p>
            <pre class="programlisting" xml:space="preserve">
multipart-related = "multipart/related"
                    OWS ";" OWS "type" "=" (media-type / DQUOTE media-type DQUOTE)
                    OWS ";" OWS "boundary" "=" boundary
                    [related-parameters]
</pre>
            <p>
               <a id="para_244dd0d6-8a64-4f05-b9ad-40d7196537ac" shape="rect"></a>Where</p>
            <pre class="programlisting" xml:space="preserve">boundary           ; See <a class="xref" href="sect_8.6.html#sect_8.6.1.2.1" title="8.6.1.2.1 Multipart Payload Syntax" shape="rect">Section 8.6.1.2.1</a>
</pre>
            <pre class="programlisting" xml:space="preserve">
bchar              = bchar-nospace / SP
bchar-nospace      = DIGIT / ALPHA / "'" / "(" / ")" / "+" / "_" / "," / "-"
                     / "." / "/" / ":" / "=" / "?" "/" / ":" / "=" / "?"
related-parameters = [";" "start" "=" cid]
                     [";" "start-info" "=" cid-list]
cid-list           = cid cid-list
cid                = token / quoted-string
</pre>
            <p>
               <a id="para_1d3413ca-110b-4863-9245-6eec720aca1c" shape="rect"></a>The "type" parameter is required. It contains the media type of the "root" body part. It should not contain quote marks per <a class="xref" href="chapter_2.html#biblio_RFC_2387" title="The MIME Multipart/Related Content-type" shape="rect">[<abbr class="abbrev">RFC2387</abbr>]</a>, but for historical compatibility and to agree with the <a class="xref" href="chapter_2.html#biblio_RFC_2387" title="The MIME Multipart/Related Content-type" shape="rect">[<abbr class="abbrev">RFC2387</abbr>]</a> examples, it may contain quote marks.</p>
            <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
               <h3 class="title">Note</h3>
               <p>
                  <a id="para_ac808052-7a65-495f-9a84-2d2ae2288ead" shape="rect"></a>Some origin servers have been observed to fail if quotes are present, and others may fail if quotes are absent, so user agents may want to handle such failures by trying the alternative pattern.</p>
            </div>
            <p>
               <a id="para_0a544d44-cd0b-46e6-b045-19500cf3a589" shape="rect"></a>The cid is a content identifier. It should be unique for each part of the multipart message.</p>
            <p>
               <a id="para_f5725629-a740-4975-8bd1-fa6725e6715a" shape="rect"></a>Typically, the "start" and "start-info" parameters are not specified, and the "root" is the first body part.</p>
         </div>
      </div>
      <div class="navfooter">
         <hr />
         <table width="100%" summary="Navigation footer">
            <tr>
               <td width="40%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_8.6.3.html" shape="rect">Prev</a> </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="u" href="chapter_8.html" shape="rect">Up</a>
               </td>
               <td width="40%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_8.7.2.html" shape="rect">Next</a>
               </td>
            </tr>
            <tr>
               <td width="40%" align="left" valign="top" rowspan="1" colspan="1">8.6.3 Status Report </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="h" href="PS3.18.html" shape="rect">Home</a>
               </td>
               <td width="40%" align="right" valign="top" rowspan="1" colspan="1"> 8.7.2 DICOM Resource Categories</td>
            </tr>
         </table>
      </div>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.18 2024a - Web Services</span>
            </th>
         </tr>
      </table>
   </body>
</html>
