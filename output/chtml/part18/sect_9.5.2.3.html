<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>9.5.2.3 Presentation State</title>
      <link rel="stylesheet" type="text/css" href="dicom.css" />
      <meta name="generator" content="DocBook XSL Stylesheets V1.78.1" />
      <link rel="home" href="PS3.18.html" title="PS3.18" />
      <link rel="up" href="sect_9.5.2.html" title="9.5.2 Behavior" />
      <link rel="prev" href="sect_9.5.2.2.html" title="9.5.2.2 Windowing" />
      <link rel="next" href="sect_9.5.2.4.html" title="9.5.2.4 Source Image Region" />
      <style type="text/css"><![CDATA[
	p { font-size: 15px; }
      ]]></style>
   </head>
   <body>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.18 2024a - Web Services</span>
            </th>
         </tr>
      </table>
      <div xmlns="" class="navheader">
         <table width="100%" summary="Navigation header">
            <tr>
               <th colspan="3" align="center" rowspan="1">9.5.2.3 Presentation State <a accesskey="current" href="http://dicom.nema.org/medical/dicom/current/output/chtml/part18/sect_9.5.2.3.html" shape="rect">(Current)</a>
               </th>
            </tr>
            <tr>
               <td width="20%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_9.5.2.2.html" shape="rect">Prev</a> </td>
               <th width="60%" align="center" rowspan="1" colspan="1">9.5.2 Behavior</th>
               <td width="20%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_9.5.2.4.html" shape="rect">Next</a>
               </td>
            </tr>
         </table>
         <hr />
      </div>
      <div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="breadcrumbs">
         <span class="breadcrumb-link">
            <a href="PS3.18.html" shape="rect">PS3.18</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="chapter_9.html" shape="rect">URI Service</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="sect_9.5.html" shape="rect">Retrieve Rendered Instance Transaction</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="sect_9.5.2.html" shape="rect">Behavior</a>
         </span> &gt; <span class="breadcrumb-node">Presentation State</span>
      </div>
      <div class="section">
         <div class="titlepage">
            <div>
               <div>
                  <h4 class="title">
                     <a id="sect_9.5.2.3" shape="rect"></a>9.5.2.3 Presentation State</h4>
               </div>
            </div>
         </div>
         <p>
            <a id="para_a1b12906-d314-42a3-81cf-fdcc03e220c7" shape="rect"></a>If the Target Resource is a Presentation State and If the Presentation Size Mode is SCALE TO FIT or TRUE SIZE, then the displayed area specified in the Presentation State shall be scaled, maintaining the aspect ratio, to fit the size specified by the rows and columns parameters if present, otherwise the displayed area selected in the presentation state will be returned without scaling.</p>
         <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
            <h3 class="title">Note</h3>
            <div class="orderedlist">
               <ol class="orderedlist" type="1">
                  <li class="listitem">
                     <p>
                        <a id="para_c430cb0e-2e7d-4feb-87b2-aa253a900f47" shape="rect"></a>The intent of the TRUE SIZE mode in the presentation state cannot be satisfied, since the physical size of the pixels displayed by the web browser is unlikely to be known. If the Presentation Size Mode in the presentation state is MAGNIFY, then the displayed area specified in the presentation shall be magnified (scaled) as specified in the presentation state. It will then be cropped to fit the size specified by the viewport parameters, if present.</p>
                  </li>
                  <li class="listitem">
                     <p>
                        <a id="para_d2675436-8235-4b15-9ed1-338c5a5f9876" shape="rect"></a>Any Displayed Area relative annotations specified in the presentation state are rendered relative to the Specified Displayed Area within the presentation state, not the size of the returned image.</p>
                  </li>
               </ol>
            </div>
         </div>
         <p>
            <a id="para_ab0f69f2-1298-4ffc-958e-44f552b43efe" shape="rect"></a>Though the output of the presentation state is defined in DICOM to be in P-Values (grayscale values intended for display on a device calibrated to the DICOM Grayscale Standard Display Function <a href="../part14/PS3.14.html" class="olink" shape="rect">PS3.14</a>), the grayscale or color space for the images returned by the request is not defined by this standard.</p>
         <p>
            <a id="para_4730d34e-19f5-49d9-bf9a-e221e52ac4af" shape="rect"></a>However, if any of the following are true:</p>
         <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; ">
               <li class="listitem">
                  <p>
                     <a id="para_0b2ede01-1c93-40f6-9c79-eab9b51f243f" shape="rect"></a>the Frame Number, or Windowing parameters are present,</p>
               </li>
               <li class="listitem">
                  <p>
                     <a id="para_b132c6e9-1bfd-4736-974a-9cd477807683" shape="rect"></a>the Presentation Series UID does not correspond to an existing Presentation Series on the origin server, or</p>
               </li>
               <li class="listitem">
                  <p>
                     <a id="para_6030c090-136c-42a2-b42c-b5b6f0dc997d" shape="rect"></a>the Presentation UID does not correspond to an existing Presentation Instance on the origin server</p>
               </li>
            </ul>
         </div>
         <p>
            <a id="para_54ba59fa-bb6e-4f1b-9152-9c8544b9c751" shape="rect"></a>the origin server shall return a 400 (Bad Request) response and may include a payload containing an appropriate error message.</p>
      </div>
      <div class="navfooter">
         <hr />
         <table width="100%" summary="Navigation footer">
            <tr>
               <td width="40%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_9.5.2.2.html" shape="rect">Prev</a> </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="u" href="sect_9.5.2.html" shape="rect">Up</a>
               </td>
               <td width="40%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_9.5.2.4.html" shape="rect">Next</a>
               </td>
            </tr>
            <tr>
               <td width="40%" align="left" valign="top" rowspan="1" colspan="1">9.5.2.2 Windowing </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="h" href="PS3.18.html" shape="rect">Home</a>
               </td>
               <td width="40%" align="right" valign="top" rowspan="1" colspan="1"> 9.5.2.4 Source Image Region</td>
            </tr>
         </table>
      </div>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.18 2024a - Web Services</span>
            </th>
         </tr>
      </table>
   </body>
</html>
