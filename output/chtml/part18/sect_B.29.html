<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>B.29 Request Storage Commitment With HTTP Multipart Request For Instances From Multiple Studies</title>
      <link rel="stylesheet" type="text/css" href="dicom.css" />
      <meta name="generator" content="DocBook XSL Stylesheets V1.78.1" />
      <link rel="home" href="PS3.18.html" title="PS3.18" />
      <link rel="up" href="chapter_B.html" title="B Examples (Informative)" />
      <link rel="prev" href="sect_B.28.html" title="B.28 Request Storage Commitment For Multiple Instances With XML and Referenced Study and Series Instance UIDs" />
      <link rel="next" href="sect_B.30.html" title="B.30 Bi-directional Proxy for Storage Commitment" />
      <style type="text/css"><![CDATA[
	p { font-size: 15px; }
      ]]></style>
   </head>
   <body>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.18 2024c - Web Services</span>
            </th>
         </tr>
      </table>
      <div xmlns="" class="navheader">
         <table width="100%" summary="Navigation header">
            <tr>
               <th colspan="3" align="center" rowspan="1">B.29 Request Storage Commitment With HTTP Multipart Request For Instances From Multiple Studies <a accesskey="current" href="http://dicom.nema.org/medical/dicom/current/output/chtml/part18/sect_B.29.html" shape="rect">(Current)</a>
               </th>
            </tr>
            <tr>
               <td width="20%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_B.28.html" shape="rect">Prev</a> </td>
               <th width="60%" align="center" rowspan="1" colspan="1">B Examples (Informative)</th>
               <td width="20%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_B.30.html" shape="rect">Next</a>
               </td>
            </tr>
         </table>
         <hr />
      </div>
      <div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="breadcrumbs">
         <span class="breadcrumb-link">
            <a href="PS3.18.html" shape="rect">PS3.18</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="chapter_B.html" shape="rect">Examples (Informative)</a>
         </span> &gt; <span class="breadcrumb-node">Request Storage Commitment With HTTP Multipart Request For Instances From Multiple Studies</span>
      </div>
      <div class="section">
         <div class="titlepage">
            <div>
               <div>
                  <h2 class="title" style="clear: both">
                     <a id="sect_B.29" shape="rect"></a>B.29 Request Storage Commitment With HTTP Multipart Request For Instances From Multiple Studies</h2>
               </div>
            </div>
         </div>
         <p>
            <a id="para_d7134a67-ba5c-4cfc-8c73-726effc1906f" shape="rect"></a>This example has the same intent as <a class="xref" href="sect_B.28.html" title="B.28 Request Storage Commitment For Multiple Instances With XML and Referenced Study and Series Instance UIDs" shape="rect">Section B.28</a>,
                but differs in having a multipart request, and the SOP Instances belonging to different studies.</p>
         <p>
            <a id="para_ffa7622e-0997-463a-ae9e-1985f682eb83" shape="rect"></a>Step 1:</p>
         <pre class="programlisting" xml:space="preserve">POST /radiology/commitment-requests/1.1.99999.20220901 HTTP/1.1
Host: www.hospital-stmarco
Content-Type: multipart/related; type="application/dicom+xml"; boundary=MESSAGEBOUNDARY

--MESSAGEBOUNDARY
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;NativeDicomModel&gt;
  &lt;DicomAttribute Tag="00081110" VR="SQ" Keyword="ReferencedStudySequence"&gt;
  &lt;Item number="1"&gt;
    &lt;DicomAttribute Tag="0020000D" VR="UI" Keyword="StudyInstanceUID"&gt;
      &lt;Value number="1"&gt;1.2.250.1.59.40211.12345678.678910&lt;/Value&gt;
    &lt;/DicomAttribute&gt;
    &lt;DicomAttribute Tag="00081115" VR="SQ" Keyword="ReferencedSeriesSequence"&gt;
    &lt;Item number="1"&gt;
      &lt;DicomAttribute Tag="0020000E" VR="UI" Keyword="SeriesInstanceUID"&gt;
        &lt;Value number="1"&gt;1.2.250.1.59.40211.789001276.14556172.67789&lt;/Value&gt;
      &lt;/DicomAttribute&gt;
      &lt;DicomAttribute Tag="00081112" VR="SQ" Keyword="ReferencedInstancesBySOPClassSequence"&gt;
      &lt;Item number="1"&gt;
        &lt;DicomAttribute Tag="00081150" VR="UI" Keyword="ReferencedSOPClassUID"&gt;
          &lt;Value number="1"&gt;1.2.840.10008.5.1.4.1.1.2&lt;/Value&gt;
        &lt;/DicomAttribute&gt;
        &lt;DicomAttribute Tag="0008114A" VR="SQ" Keyword="ReferencedInstanceSequence"&gt;
        &lt;Item number="1"&gt;
          &lt;DicomAttribute Tag="00081155" VR="UI" Keyword="ReferencedSOPInstanceUID"&gt;
            &lt;Value number="1"&gt;1.3.12.2.1107.5.99.3.30000012031310075961300000059&lt;/Value&gt;
          &lt;/DicomAttribute&gt;
        &lt;/Item&gt;
        &lt;/DicomAttribute&gt;
      &lt;/Item&gt;
      &lt;/DicomAttribute&gt;
    &lt;/Item&gt;
    &lt;/DicomAttribute&gt;
  &lt;/Item&gt;
  &lt;/DicomAttribute&gt;
&lt;/NativeDicomModel&gt;
--MESSAGEBOUNDARY
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;NativeDicomModel&gt;
  &lt;DicomAttribute Tag="00081110" VR="SQ" Keyword="ReferencedStudySequence"&gt;
  &lt;Item number="1"&gt;
    &lt;DicomAttribute Tag="0020000D" VR="UI" Keyword="StudyInstanceUID"&gt;
      &lt;Value number="1"&gt;1.2.250.1.59.40211.12345678.678911&lt;/Value&gt;
    &lt;/DicomAttribute&gt;
    &lt;DicomAttribute Tag="00081115" VR="SQ" Keyword="ReferencedSeriesSequence"&gt;
    &lt;Item number="1"&gt;
      &lt;DicomAttribute Tag="0020000E" VR="UI" Keyword="SeriesInstanceUID"&gt;
        &lt;Value number="1"&gt;1.2.250.1.59.40211.789001276.14556172.68856&lt;/Value&gt;
      &lt;/DicomAttribute&gt;
      &lt;DicomAttribute Tag="00081112" VR="SQ" Keyword="ReferencedInstancesBySOPClassSequence"&gt;
      &lt;Item number="1"&gt;
        &lt;DicomAttribute Tag="00081150" VR="UI" Keyword="ReferencedSOPClassUID"&gt;
          &lt;Value number="1"&gt;1.2.840.10008.5.1.4.1.1.2&lt;/Value&gt;
        &lt;/DicomAttribute&gt;
        &lt;DicomAttribute Tag="0008114A" VR="SQ" Keyword="ReferencedInstanceSequence"&gt;
        &lt;Item number="1"&gt;
          &lt;DicomAttribute Tag="00081155" VR="UI" Keyword="ReferencedSOPInstanceUID"&gt;
            &lt;Value number="1"&gt;1.3.12.2.1107.5.99.3.30000012031310075961300000060&lt;/Value&gt;
          &lt;/DicomAttribute&gt;
        &lt;/Item&gt;
        &lt;/DicomAttribute&gt;
      &lt;/Item&gt;
      &lt;/DicomAttribute&gt;
    &lt;/Item&gt;
    &lt;/DicomAttribute&gt;
  &lt;/Item&gt;
  &lt;/DicomAttribute&gt;
&lt;/NativeDicomModel&gt;
--MESSAGEBOUNDARY
</pre>
         <p>
            <a id="para_cf1ab60a-20f3-4940-b2c3-f06193e99491" shape="rect"></a>Step 2:</p>
         <pre class="programlisting" xml:space="preserve">HTTP/1.1 200 OK
Content-Length: 2917
Content-Type: application/dicom+xml

&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;NativeDicomModel&gt;
  &lt;DicomAttribute Tag="00081110" VR="SQ" Keyword="ReferencedStudySequence"&gt;
  &lt;Item number="1"&gt;
    &lt;DicomAttribute Tag="0020000D" VR="UI" Keyword="StudyInstanceUID"&gt;
      &lt;Value number="1"&gt;1.2.250.1.59.40211.12345678.678910&lt;/Value&gt;
    &lt;/DicomAttribute&gt;
    &lt;DicomAttribute Tag="00081115" VR="SQ" Keyword="ReferencedSeriesSequence"&gt;
    &lt;Item number="1"&gt;
      &lt;DicomAttribute Tag="0020000E" VR="UI" Keyword="SeriesInstanceUID"&gt;
        &lt;Value number="1"&gt;1.2.250.1.59.40211.789001276.14556172.67789&lt;/Value&gt;
      &lt;/DicomAttribute&gt;
      &lt;DicomAttribute Tag="00081112" VR="SQ" Keyword="ReferencedInstancesBySOPClassSequence"&gt;
      &lt;Item number="1"&gt;
        &lt;DicomAttribute Tag="00081150" VR="UI" Keyword="ReferencedSOPClassUID"&gt;
              &lt;Value number="1"&gt;1.2.840.10008.5.1.4.1.1.2&lt;/Value&gt;
        &lt;/DicomAttribute&gt;
        &lt;DicomAttribute Tag="0008114A" VR="SQ" Keyword="ReferencedInstanceSequence"&gt;
        &lt;Item number="1"&gt;
          &lt;DicomAttribute Tag="00081155" VR="UI" Keyword="ReferencedSOPInstanceUID"&gt;
            &lt;Value number="1"&gt;1.3.12.2.1107.5.99.3.30000012031310075961300000059&lt;/Value&gt;
          &lt;/DicomAttribute&gt;
        &lt;/Item&gt;
        &lt;/DicomAttribute&gt;
      &lt;/Item&gt;
      &lt;/DicomAttribute&gt;
    &lt;/Item&gt;
    &lt;/DicomAttribute&gt;
  &lt;/Item&gt;
  &lt;/DicomAttribute&gt;
  &lt;DicomAttribute Tag="0008119B" VR="SQ" Keyword="FailedStudySequence"&gt;
  &lt;Item number="1"&gt;
    &lt;DicomAttribute Tag="0020000D" VR="UI" Keyword="StudyInstanceUID"&gt;
      &lt;Value number="1"&gt;1.2.250.1.59.40211.12345678.678911&lt;/Value&gt;
    &lt;/DicomAttribute&gt;
    &lt;DicomAttribute Tag="00081115" VR="SQ" Keyword="ReferencedSeriesSequence"&gt;
    &lt;Item number="1"&gt;
      &lt;DicomAttribute Tag="0020000E" VR="UI" Keyword="SeriesInstanceUID"&gt;
        &lt;Value number="1"&gt;1.2.250.1.59.40211.789001276.14556172.68856&lt;/Value&gt;
      &lt;/DicomAttribute&gt;
      &lt;DicomAttribute Tag="00081112" VR="SQ" Keyword="ReferencedInstancesBySOPClassSequence"&gt;
      &lt;Item number="1"&gt;
        &lt;DicomAttribute Tag="00081150" VR="UI" Keyword="Referenced SOP Class UID"&gt;
          &lt;Value number="1"&gt;1.2.840.10008.5.1.4.1.1.2&lt;/Value&gt;
        &lt;/DicomAttribute&gt;
        &lt;DicomAttribute Tag="0008114A" VR="SQ" Keyword="ReferencedInstanceSequence"&gt;
        &lt;Item number="1"&gt;
          &lt;DicomAttribute Tag="00081155" VR="UI" Keyword="ReferencedSOPInstanceUID"&gt;
            &lt;Value number="1"&gt;1.3.12.2.1107.5.99.3.30000012031310075961300000060&lt;/Value&gt;
          &lt;/DicomAttribute&gt;
          &lt;DicomAttribute Tag="00081197" VR="UI" Keyword="FailureReason"&gt;
            &lt;Value number="2"&gt;274&lt;/Value&gt;
          &lt;/DicomAttribute&gt;
        &lt;/Item&gt;
        &lt;/DicomAttribute&gt;
      &lt;/Item&gt;
      &lt;/DicomAttribute&gt;
    &lt;/Item&gt;
    &lt;/DicomAttribute&gt;
  &lt;/Item&gt;
  &lt;/DicomAttribute&gt;
&lt;/NativeDicomModel&gt;
</pre>
      </div>
      <div class="navfooter">
         <hr />
         <table width="100%" summary="Navigation footer">
            <tr>
               <td width="40%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_B.28.html" shape="rect">Prev</a> </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="u" href="chapter_B.html" shape="rect">Up</a>
               </td>
               <td width="40%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_B.30.html" shape="rect">Next</a>
               </td>
            </tr>
            <tr>
               <td width="40%" align="left" valign="top" rowspan="1" colspan="1">B.28 Request Storage Commitment For Multiple Instances With XML and Referenced Study and Series Instance UIDs </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="h" href="PS3.18.html" shape="rect">Home</a>
               </td>
               <td width="40%" align="right" valign="top" rowspan="1" colspan="1"> B.30 Bi-directional Proxy for Storage Commitment</td>
            </tr>
         </table>
      </div>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.18 2024c - Web Services</span>
            </th>
         </tr>
      </table>
   </body>
</html>
