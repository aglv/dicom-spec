<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>8.2.10 HEVC/H.265 Main Profile / Level 5.1 Video Compression</title>
      <link rel="stylesheet" type="text/css" href="dicom.css" />
      <meta name="generator" content="DocBook XSL Stylesheets V1.78.1" />
      <link rel="home" href="PS3.5.html" title="PS3.5" />
      <link rel="up" href="sect_8.2.html" title="8.2 Native or Encapsulated Format Encoding" />
      <link rel="prev" href="sect_8.2.9.html" title="8.2.9 MPEG-4 AVC/H.264 Stereo High Profile / Level 4.2 Video Compression" />
      <link rel="next" href="sect_8.2.11.html" title="8.2.11 HEVC/H.265 Main 10 Profile / Level 5.1 Video Compression" />
      <style type="text/css"><![CDATA[
	p { font-size: 15px; }
      ]]></style>
   </head>
   <body>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.5 - Data Structures and Encoding</span>
            </th>
         </tr>
      </table>
      <div xmlns="" class="navheader">
         <table width="100%" summary="Navigation header">
            <tr>
               <th colspan="3" align="center" rowspan="1">8.2.10 HEVC/H.265 Main Profile / Level 5.1 Video Compression <a accesskey="current" href="http://dicom.nema.org/medical/dicom/current/output/chtml/part05/sect_8.2.10.html" shape="rect">(Current)</a>
               </th>
            </tr>
            <tr>
               <td width="20%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_8.2.9.html" shape="rect">Prev</a> </td>
               <th width="60%" align="center" rowspan="1" colspan="1">8.2 Native or Encapsulated Format Encoding</th>
               <td width="20%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_8.2.11.html" shape="rect">Next</a>
               </td>
            </tr>
         </table>
         <hr />
      </div>
      <div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="breadcrumbs">
         <span class="breadcrumb-link">
            <a href="PS3.5.html" shape="rect">PS3.5</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="chapter_8.html" shape="rect">Encoding of Pixel, Overlay and Waveform Data</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="sect_8.2.html" shape="rect">Native or Encapsulated Format Encoding</a>
         </span> &gt; <span class="breadcrumb-node">HEVC/H.265 Main Profile / Level 5.1 Video Compression</span>
      </div>
      <div class="section">
         <div class="titlepage">
            <div>
               <div>
                  <h3 class="title">
                     <a id="sect_8.2.10" shape="rect"></a>8.2.10 HEVC/H.265 Main Profile / Level 5.1 Video Compression</h3>
               </div>
            </div>
         </div>
         <p>
            <a id="para_ecbac5ae-1a29-45b9-97e7-de9a978c5864" shape="rect"></a>HEVC/H.265 Main Profile / Level 5.1 Main tier is designed for the compression of 4:2:0 video formats up to 4k at 60 frames per second with a bit depth of 8 bits. DICOM provides a mechanism for supporting the use of HEVC/H.265 Image Compression through the Encapsulated Format. <a class="xref" href="chapter_A.html" title="A Transfer Syntax Specifications (Normative)" shape="rect">Annex A</a> defines a Fragmentable Encapsulated Transfer Syntax that references the HEVC/H.265 Standard.</p>
         <p>
            <a id="para_401c12f8-ceff-4359-8382-e21ab367006f" shape="rect"></a>The use of the DICOM Encapsulated Format to support HEVC/H.265 compressed pixel data requires that the Data Elements that are related to the Pixel Data encoding (e.g., Photometric Interpretation, Samples per Pixel, Planar Configuration, Bits Allocated, Bits Stored, High Bit, Pixel Representation, Rows, Columns, etc.) shall contain Values that are consistent with the characteristics of the compressed data stream, with some specific exceptions noted here. The Pixel Data characteristics included in the HEVC/H.265 bit stream shall be used to decode the compressed data stream.</p>
         <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
            <h3 class="title">Note</h3>
            <div class="orderedlist">
               <ol class="orderedlist" type="1">
                  <li class="listitem">
                     <p>
                        <a id="para_7dd1c8b4-a8e0-4185-8af2-5f7e4dc4ad24" shape="rect"></a>These requirements are specified in terms of consistency with what is encapsulated, rather than in terms of the uncompressed pixel data from which the compressed data stream may have been derived.</p>
                  </li>
                  <li class="listitem">
                     <p>
                        <a id="para_7089107c-7682-48e4-a7da-9863253c0142" shape="rect"></a>When decompressing, should the characteristics explicitly specified in the compressed data stream be inconsistent with those specified in the DICOM Data Elements, those explicitly specified in the compressed data stream should be used to control the decompression. The DICOM Data Elements, if inconsistent, can be regarded as suggestions as to the form in which an uncompressed Data Set might be encoded, subject to the general and IOD-specific rules for uncompressed Photometric Interpretation and Planar Configuration, which may require that decompressed data be converted to one of the permitted forms.</p>
                  </li>
               </ol>
            </div>
         </div>
         <p>
            <a id="para_51e74998-4588-4d0c-8004-64bbae248f7f" shape="rect"></a>The requirements are:</p>
         <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; ">
               <li class="listitem">
                  <p>
                     <a id="para_2a41359a-3421-4281-8480-49a617f23e85" shape="rect"></a>Planar Configuration (0028,0006) shall be 0</p>
               </li>
               <li class="listitem">
                  <p>
                     <a id="para_48bc1fda-aad6-4485-8bf4-f66a7bc17ea8" shape="rect"></a>Samples per Pixel (0028,0002) shall be 3</p>
               </li>
               <li class="listitem">
                  <p>
                     <a id="para_23472eee-7d5d-441c-8431-045e40e29393" shape="rect"></a>Photometric Interpretation (0028,0004) shall be YBR_PARTIAL_420</p>
               </li>
               <li class="listitem">
                  <p>
                     <a id="para_56e56027-10e8-4b63-8bb4-1da922214860" shape="rect"></a>Bits Allocated (0028,0100) shall be 8</p>
               </li>
               <li class="listitem">
                  <p>
                     <a id="para_11dc76d4-37d9-40bc-8e4c-b213ed0f0bd2" shape="rect"></a>Bits Stored (0028,0101) shall be 8</p>
               </li>
               <li class="listitem">
                  <p>
                     <a id="para_8c1e008d-4961-454e-9681-c6c068710c8c" shape="rect"></a>High Bit (0028,0102) shall be 7</p>
               </li>
               <li class="listitem">
                  <p>
                     <a id="para_f5286466-3f22-487f-8808-843fbb05aede" shape="rect"></a>Pixel Representation (0028,0103) shall be 0</p>
               </li>
               <li class="listitem">
                  <p>
                     <a id="para_8501793a-f114-49db-a71d-f087976a5cfe" shape="rect"></a>The value of HEVC/H.265 sample aspect_ratio_idc shall be 1 in the encapsulated HEVC/H.265 bit stream if aspect_ratio_info_present_flag is 1.</p>
               </li>
               <li class="listitem">
                  <p>
                     <a id="para_3a4c97e0-33c4-447d-89b0-7c7ce84a4462" shape="rect"></a>Pixel Aspect Ratio (0028,0034) shall be absent. This corresponds to a 'Sampling Aspect Ratio' (SAR) of 1:1.</p>
               </li>
               <li class="listitem">
                  <p>
                     <a id="para_c423a46f-9a74-4ee1-9f35-c00103d9f01e" shape="rect"></a>The Values for Rows (0028,0010), Columns (0028,0011), Cine Rate (0018,0040) and Frame Time (0018,1063) or Frame Time Vector (0018,1065) shall be compliant with the Main Profile / Level 5.1 of the HEVC/H.265 standard <a class="xref" href="chapter_2.html#biblio_ISOIEC23008-2" title="Information technology - High efficiency coding and media delivery in heterogeneous environments - Part 2: High efficiency video coding" shape="rect">[<abbr class="abbrev">ISO/IEC 23008-2</abbr>]</a> and restricted to a square pixel aspect ratio.</p>
               </li>
            </ul>
         </div>
         <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
            <h3 class="title">Note</h3>
            <div class="orderedlist">
               <ol class="orderedlist" type="1">
                  <li class="listitem">
                     <p>
                        <a id="para_8b885190-3ea8-453f-98fb-24ea8dbb034b" shape="rect"></a>The Value of Planar Configuration (0028,0006) is irrelevant since the manner of encoding components is specified in the HEVC/H.265 standard, hence it is set to 0.</p>
                  </li>
                  <li class="listitem">
                     <p>
                        <a id="para_3b8460ea-6b85-45a4-a345-bc274d4494d6" shape="rect"></a>The limitation on rows and columns are to maximize interoperability between software environments and commonly available hardware HEVC/H.265 encoder/decoder implementations. Source pictures that have a lower value should be re-formatted by scaling and/or pixel padding prior to HEVC/H.265 encoding.</p>
                  </li>
                  <li class="listitem">
                     <p>
                        <a id="para_0d967ae8-1753-4a24-8b47-10c65bd6f4a9" shape="rect"></a>The Frame Time (0018,1063) may be calculated from the frame rate of the acquiring camera. A frame rate of 29.97 frames per second corresponds to a frame time of 33.367 ms.</p>
                  </li>
                  <li class="listitem">
                     <p>
                        <a id="para_d521c9b4-1d6e-4725-9083-81c72763c3f5" shape="rect"></a>The value of chroma_format_idc for this profile and level is equal to 1, indicating the usage of 4:2:0 content.</p>
                  </li>
               </ol>
            </div>
         </div>
         <p>
            <a id="para_ee0bd8ff-c5d0-4c4c-a8e0-59ab83c3461e" shape="rect"></a>The encapsulated pixel data stream may be segmented into multiple fragments.</p>
         <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
            <h3 class="title">Note</h3>
            <p>
               <a id="para_8be5cd5e-a7d2-461c-9d47-38cf9262c101" shape="rect"></a>The recipient is expected to concatenate the fragments while decoding them. This allows for essentially unlimited length streams; the only limit imposed is the maximum Value for Number of Frames (0028,0008) which is 2^31-1 frames (largest positive Value in an Integer String VR).</p>
         </div>
         <p>
            <a id="para_cac4370a-0915-4c8e-9344-5aae10b8844e" shape="rect"></a>The container format for the video bit stream shall be MPEG-2 Transport Stream, a.k.a. MPEG-TS (see <a class="xref" href="chapter_2.html#biblio_ISOIEC13818-1" title="Information technology -- Generic coding of moving pictures and associated audio information - Part 1: Systems" shape="rect">[<abbr class="abbrev">ISO/IEC 13818-1</abbr>]</a>) or MPEG-4, a.k.a. MP4 container (see <a class="xref" href="chapter_2.html#biblio_ISOIEC14496-12" title="Information technology - Coding of audio-visual objects - Part 12: ISO base media file format" shape="rect">[<abbr class="abbrev">ISO/IEC 14496-12</abbr>]</a> and <a class="xref" href="chapter_2.html#biblio_ISOIEC14496-14" title="Information technology - Coding of audio-visual objects - Part 14: MP4 file format" shape="rect">[<abbr class="abbrev">ISO/IEC 14496-14</abbr>]</a>). The PTS/DTS of the transport stream shall be used in the MPEG coding.</p>
         <p>
            <a id="para_f9a7c68b-44f4-499a-a477-99c7a13d4627" shape="rect"></a>Any audio components included in the data container shall follow the constraints detailed in <a class="xref" href="sect_8.2.12.html" title="8.2.12 Constraints for Audio Data Integration in AVC and HEVC Compressed Bit Streams" shape="rect">Section 8.2.12 Constraints for Audio Data Integration in AVC and HEVC Compressed Bit Streams</a>.</p>
      </div>
      <div class="navfooter">
         <hr />
         <table width="100%" summary="Navigation footer">
            <tr>
               <td width="40%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_8.2.9.html" shape="rect">Prev</a> </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="u" href="sect_8.2.html" shape="rect">Up</a>
               </td>
               <td width="40%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_8.2.11.html" shape="rect">Next</a>
               </td>
            </tr>
            <tr>
               <td width="40%" align="left" valign="top" rowspan="1" colspan="1">8.2.9 MPEG-4 AVC/H.264 Stereo High Profile / Level 4.2 Video Compression </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="h" href="PS3.5.html" shape="rect">Home</a>
               </td>
               <td width="40%" align="right" valign="top" rowspan="1" colspan="1"> 8.2.11 HEVC/H.265 Main 10 Profile / Level 5.1 Video Compression</td>
            </tr>
         </table>
      </div>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.5 - Data Structures and Encoding</span>
            </th>
         </tr>
      </table>
   </body>
</html>
