<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>8.4 Pixel Data Provider Service</title>
      <link rel="stylesheet" type="text/css" href="dicom.css" />
      <meta name="generator" content="DocBook XSL Stylesheets V1.78.1" />
      <link rel="home" href="PS3.5.html" title="PS3.5" />
      <link rel="up" href="chapter_8.html" title="8 Encoding of Pixel, Overlay and Waveform Data" />
      <link rel="prev" href="sect_8.3.html" title="8.3 Waveform Data and Related Data Elements" />
      <link rel="next" href="sect_8.5.html" title="8.5 Security Considerations for Encoding of Pixel, Overlay, and Waveform Data (Informative)" />
      <style type="text/css"><![CDATA[
	p { font-size: 15px; }
      ]]></style>
   </head>
   <body>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.5 2024c - Data Structures and Encoding</span>
            </th>
         </tr>
      </table>
      <div xmlns="" class="navheader">
         <table width="100%" summary="Navigation header">
            <tr>
               <th colspan="3" align="center" rowspan="1">8.4 Pixel Data Provider Service <a accesskey="current" href="http://dicom.nema.org/medical/dicom/current/output/chtml/part05/sect_8.4.html" shape="rect">(Current)</a>
               </th>
            </tr>
            <tr>
               <td width="20%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_8.3.html" shape="rect">Prev</a> </td>
               <th width="60%" align="center" rowspan="1" colspan="1">8 Encoding of Pixel, Overlay and Waveform Data</th>
               <td width="20%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_8.5.html" shape="rect">Next</a>
               </td>
            </tr>
         </table>
         <hr />
      </div>
      <div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="breadcrumbs">
         <span class="breadcrumb-link">
            <a href="PS3.5.html" shape="rect">PS3.5</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="chapter_8.html" shape="rect">Encoding of Pixel, Overlay and Waveform Data</a>
         </span> &gt; <span class="breadcrumb-node">Pixel Data Provider Service</span>
      </div>
      <div class="section">
         <div class="titlepage">
            <div>
               <div>
                  <h2 class="title" style="clear: both">
                     <a id="sect_8.4" shape="rect"></a>8.4 Pixel Data Provider Service</h2>
               </div>
            </div>
         </div>
         <p>
            <a id="para_4fcfd8d4-c7a7-4a35-99c5-d000a063621a" shape="rect"></a>Specific Transfer Syntaxes allow for the pixel data of the message to be replaced with a reference to a pixel data provider service. The pixel data provider service that is referenced supplies the pixel data using a network protocol that is defined outside DICOM.</p>
         <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
            <h3 class="title">Note</h3>
            <p>
               <a id="para_01c43a97-6861-4dbc-8bc7-29d09a31ba8c" shape="rect"></a>The Pixel Data Provider Service is
          not applicable to Pixel Data encoded as Float Pixel Data (7FE0,0008) or Double Float
          Pixel Data (7FE0,0009).</p>
         </div>
         <div class="section">
            <div class="titlepage">
               <div>
                  <div>
                     <h3 class="title">
                        <a id="sect_8.4.1" shape="rect"></a>8.4.1 JPIP Referenced Pixel Data</h3>
                  </div>
               </div>
            </div>
            <p>
               <a id="para_76408ff8-3760-4e7f-a4f1-3369e0617355" shape="rect"></a>DICOM provides a mechanism for supporting the use of JPEG 2000 Interactive Protocol through the inclusion of a URL reference to a pixel data provider service. <a class="xref" href="chapter_A.html" title="A Transfer Syntax Specifications (Normative)" shape="rect">Annex A</a> defines two Transfer Syntaxes that utilize URL references to a JPIP pixel data provider service.</p>
            <p>
               <a id="para_6b529357-8957-4293-b7d3-80ea80946256" shape="rect"></a>The use of the these Transfer Syntaxes requires that the Pixel Data Provider URL specify a URL that will represent the JPIP request including the specific target information. Additional parameters required by the application may be appended to the URL when accessing the pixel data provider.</p>
            <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
               <h3 class="title">Note</h3>
               <p>
                  <a id="para_87e6785b-2087-41af-bed6-7c9f6dcbd2e2" shape="rect"></a>For example, a JPIP request for a 200 by 200 pixel rendition of the entire image can be constructed from the Pixel Data Provider URL as follows:</p>
               <p>
                  <a id="para_379bbf9a-725b-4189-b9c0-c6d5fe06227c" shape="rect"></a>Pixel Data Provider URL (0028,7FE0) = http://server.xxx/jpipserver.cgi?target=imgxyz.jp2</p>
               <p>
                  <a id="para_e1759789-11c9-4541-9c1a-27fc0af44b65" shape="rect"></a>URL Generated by the application = http://server.xxx/jpipserver.cgi?target=imgxyz.jp2&amp;fsiz=200,200</p>
            </div>
            <p>
               <a id="para_3ee6aa74-1744-4606-80e6-cb5daff6f475" shape="rect"></a>The JPIP client shall only request a JPEG 2000 or HTJ2K bit stream depending on the negotiated Transfer Syntax.</p>
            <p>
               <a id="para_186260c5-6fcd-4d9d-8928-4a26f0a7eb8f" shape="rect"></a>The JPIP server shall return a Content-type of image/jp2, image/jpp-stream, image/jpt-stream, image/jph or image/jphc, all of which shall be supported by the JPIP client, depending on the supported Transfer Syntaxes.</p>
            <p>
               <a id="para_bf25f076-f947-46bf-ac81-b45511c82af3" shape="rect"></a>The Number of Frames (0028,0008) Attribute, if present in the Data Set, identifies the number of frames available for this image. Each frame is accessible as a separate JPIP code stream. Code streams referenced in the URL Target shall be sequentially numbered starting with stream 1.</p>
            <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
               <h3 class="title">Note</h3>
               <p>
                  <a id="para_ebff5c94-2d1b-4f7a-8d1f-2ba067639824" shape="rect"></a>For example, a JPIP request for a 200 by 200 pixel rendition of frame 17 of a multi-frame image can be constructed from Pixel Data Provider URL as follows:</p>
               <p>
                  <a id="para_6099a2d7-6689-49eb-af64-ef7338af8461" shape="rect"></a>Pixel Data Provider URL (0028,7FE0) = http://server.xxx/multiframeimage.jp2</p>
               <p>
                  <a id="para_f40e176a-5826-4e7a-b4e2-f9d4617ace8f" shape="rect"></a>URL Generated by the application = http://server.xxx/multiframeimage.jp2?fsiz=200,200&amp;stream=17</p>
               <p>
                  <a id="para_a090520f-42e5-4b04-b0a2-0b3c18987cc1" shape="rect"></a>A valid stream query parameter Value is always less than or equal to the Value in the Number of Frames (0028,0008).</p>
            </div>
            <p>
               <a id="para_107db789-fced-4dea-9dfa-88b09f381cd8" shape="rect"></a>The syntax of the Pixel Data Provider URL (0028,7FE0) is defined in <a class="xref" href="chapter_2.html#biblio_ISOIEC15444-9" title="Information technology - JPEG 2000 image coding system: Interactivity tools, APIs and protocols" shape="rect">[<abbr class="abbrev">ISO/IEC 15444-9</abbr>]</a> Annex C (Client Request). That standard respects the URI recommendations <a class="xref" href="chapter_2.html#biblio_RFC_3986" title="Uniform Resource Identifiers (URI) : Generic Syntax" shape="rect">[<abbr class="abbrev">RFC3986</abbr>]</a>. The transport protocol shall be HTTP or HTTPS.</p>
            <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
               <h3 class="title">Note</h3>
               <div class="orderedlist">
                  <ol class="orderedlist" type="1">
                     <li class="listitem">
                        <p>
                           <a id="para_6e038b7a-553a-4f5d-a0ec-8a9e9aa39b5b" shape="rect"></a>According to <a class="xref" href="chapter_2.html#biblio_ISOIEC15444-9" title="Information technology - JPEG 2000 image coding system: Interactivity tools, APIs and protocols" shape="rect">[<abbr class="abbrev">ISO/IEC 15444-9</abbr>]</a>, "Each JPIP request is directed to a specific representation of a specific original named resource or a specific portion of that resource. That resource may be a physically stored file or object, or may be something that is created virtually by the server upon request."</p>
                        <p>
                           <a id="para_4bf2fdb6-2027-4dba-9509-a9d44583c2ec" shape="rect"></a>"The Target request field specifies the original named resource to which the request is directed. It is specified using a PATH, which could be a simple string or a URI. If the Target field is not specified and the request is carried over HTTP, then the JPIP request shall be directed to the resource specified through the path component of the JPIP request URL."</p>
                     </li>
                     <li class="listitem">
                        <p>
                           <a id="para_906440e0-4629-4f61-87d4-eef2b08719ef" shape="rect"></a>Transport over UDP or other protocols is not supported.</p>
                     </li>
                  </ol>
               </div>
            </div>
         </div>
      </div>
      <div class="navfooter">
         <hr />
         <table width="100%" summary="Navigation footer">
            <tr>
               <td width="40%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_8.3.html" shape="rect">Prev</a> </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="u" href="chapter_8.html" shape="rect">Up</a>
               </td>
               <td width="40%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_8.5.html" shape="rect">Next</a>
               </td>
            </tr>
            <tr>
               <td width="40%" align="left" valign="top" rowspan="1" colspan="1">8.3 Waveform Data and Related Data Elements </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="h" href="PS3.5.html" shape="rect">Home</a>
               </td>
               <td width="40%" align="right" valign="top" rowspan="1" colspan="1"> 8.5 Security Considerations for Encoding of Pixel, Overlay, and Waveform Data (Informative)</td>
            </tr>
         </table>
      </div>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.5 2024c - Data Structures and Encoding</span>
            </th>
         </tr>
      </table>
   </body>
</html>
