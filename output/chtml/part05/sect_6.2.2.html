<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>6.2.2 Unknown (UN) Value Representation</title>
      <link rel="stylesheet" type="text/css" href="dicom.css" />
      <meta name="generator" content="DocBook XSL Stylesheets V1.78.1" />
      <link rel="home" href="PS3.5.html" title="PS3.5" />
      <link rel="up" href="sect_6.2.html" title="6.2 Value Representation (VR)" />
      <link rel="prev" href="sect_6.2.html" title="6.2 Value Representation (VR)" />
      <link rel="next" href="sect_6.2.3.html" title="6.2.3 URI/URL (UR) Value Representation" />
      <style type="text/css"><![CDATA[
	p { font-size: 15px; }
      ]]></style>
   </head>
   <body>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.5 2024a - Data Structures and Encoding</span>
            </th>
         </tr>
      </table>
      <div xmlns="" class="navheader">
         <table width="100%" summary="Navigation header">
            <tr>
               <th colspan="3" align="center" rowspan="1">6.2.2 Unknown (UN) Value Representation <a accesskey="current" href="http://dicom.nema.org/medical/dicom/current/output/chtml/part05/sect_6.2.2.html" shape="rect">(Current)</a>
               </th>
            </tr>
            <tr>
               <td width="20%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_6.2.html" shape="rect">Prev</a> </td>
               <th width="60%" align="center" rowspan="1" colspan="1">6.2 Value Representation (VR)</th>
               <td width="20%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_6.2.3.html" shape="rect">Next</a>
               </td>
            </tr>
         </table>
         <hr />
      </div>
      <div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="breadcrumbs">
         <span class="breadcrumb-link">
            <a href="PS3.5.html" shape="rect">PS3.5</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="chapter_6.html" shape="rect">Value Encoding</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="sect_6.2.html" shape="rect">Value Representation (VR)</a>
         </span> &gt; <span class="breadcrumb-node">Unknown (UN) Value Representation</span>
      </div>
      <div class="section">
         <div class="titlepage">
            <div>
               <div>
                  <h3 class="title">
                     <a id="sect_6.2.2" shape="rect"></a>6.2.2 Unknown (UN) Value Representation</h3>
               </div>
            </div>
         </div>
         <p>
            <a id="para_768f8d76-226d-44f6-a9ee-44cf0ef649af" shape="rect"></a>The Unknown (UN) VR shall only be used for Private Data Elements and Standard Data Elements previously encoded as some DICOM VR other than UN using Implicit VR encoding, and whose Value Representation is currently unknown,
            or whose known Value Representation is one of those that have a 16-bit Value Length Field (see <a class="xref" href="chapter_7.html#sect_7.1.2" title="7.1.2 Data Element Structure with Explicit VR" shape="rect">Section 7.1.2</a>) when using Explicit VR encoding
            and whose Value Length exceeds 65534 (2<sup>16</sup>-2).
          As long as the VR is unknown the Value Field is insensitive to byte ordering and shall not be 'byte-swapped' (see <a class="xref" href="sect_7.3.html" title="7.3 Little Endian Byte Ordering" shape="rect">Section 7.3</a>).
            In the case of Undefined Length Sequences, the Value shall remain in Implicit VR form.
            See <a class="xref" href="sect_7.8.html" title="7.8 Private Data Elements" shape="rect">Section 7.8</a> for a description of Private Data Attribute Elements and
            <a class="xref" href="chapter_10.html" title="10 Transfer Syntax" shape="rect">Section 10</a> and
            <a class="xref" href="chapter_A.html" title="A Transfer Syntax Specifications (Normative)" shape="rect">Annex A</a> for a discussion of Transfer Syntaxes.</p>
         <p>
            <a id="para_49556031-2a34-4a00-b3e4-a8ab70495c94" shape="rect"></a>The UN VR shall not be used for Private Creator Data Elements (i.e., the VR is equal to LO, see <a class="xref" href="sect_7.8.html#sect_7.8.1" title="7.8.1 Private Data Element Tags" shape="rect">Section 7.8.1</a>).</p>
         <p>
            <a id="para_98977780-9f84-458f-97d1-1703e7007afb" shape="rect"></a>The UN VR shall not be used for File Meta Information Data Elements (any Tag (0002,xxxx), see <a href="../part10/PS3.10.html" class="olink" shape="rect">PS3.10</a>).</p>
         <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
            <h3 class="title">Note</h3>
            <div class="orderedlist">
               <ol class="orderedlist" type="1">
                  <li class="listitem">
                     <p>
                        <a id="para_8237e707-e837-4b90-8662-97c5ecc15169" shape="rect"></a>All other (non-default) DICOM Transfer Syntaxes employ Explicit VR in their encoding, and therefore any Private and/or Standard Data Element Value Field encoded and decoded using any Transfer Syntax other than the DICOM Default Little Endian Transfer Syntax, and not having been translated to the DICOM Default Little Endian Transfer Syntax in the interim, will have a known VR.</p>
                  </li>
                  <li class="listitem">
                     <p>
                        <a id="para_c03ba4d0-2094-43e3-9ad1-fb039671675f" shape="rect"></a>If at some point an application knows the actual VR for a Data Element of VR UN (e.g., has its own applicable data dictionary), it can assume that the Value Field of the Data Element is encoded in Little Endian byte ordering with Implicit VR encoding, irrespective of the current Transfer Syntax.</p>
                  </li>
                  <li class="listitem">
                     <p>
                        <a id="para_006582d8-2b07-4e53-8ea5-c3e0c288bcf6" shape="rect"></a>This VR of UN is needed when an Explicit VR must be given to a Data Element whose Value Representation is unknown (e.g., store and forward).</p>
                  </li>
                  <li class="listitem">
                     <p>
                        <a id="para_b9f84edf-c9c6-45d0-acc7-c470309a0ddb" shape="rect"></a>This VR of UN is also needed for the encoding of Data Elements with Explicit VR whose Value Length exceeds 65534 (2<sup>16</sup>-2) (FFFEH, the largest even length unsigned 16 bit number) but which are defined to have a 16 bit Explicit VR Value Length Field.</p>
                  </li>
                  <li class="listitem">
                     <p>
                        <a id="para_18b93a0e-0976-42e9-a2d8-3013f1c2b67f" shape="rect"></a>The Value Length Field of VR UN may contain Undefined Length (FFFFFFFFH), in which case the contents can be assumed to be encoded with Implicit VR. See <a class="xref" href="sect_7.5.html#sect_7.5.1" title="7.5.1 Item Encoding Rules" shape="rect">Section 7.5.1</a> to determine how to parse Data Elements with an Undefined Length.</p>
                  </li>
                  <li class="listitem">
                     <p>
                        <a id="para_6444418e-4684-4afe-a7bb-6eae989fd63b" shape="rect"></a>An example of a Standard Data Element using a UN VR is a Type 3 or Type U Standard Attribute added to an SOP Class definition. An existing application that does not support that new Attribute (and encounters it) could convert the VR to UN.</p>
                  </li>
               </ol>
            </div>
         </div>
      </div>
      <div class="navfooter">
         <hr />
         <table width="100%" summary="Navigation footer">
            <tr>
               <td width="40%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_6.2.html" shape="rect">Prev</a> </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="u" href="sect_6.2.html" shape="rect">Up</a>
               </td>
               <td width="40%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_6.2.3.html" shape="rect">Next</a>
               </td>
            </tr>
            <tr>
               <td width="40%" align="left" valign="top" rowspan="1" colspan="1">6.2 Value Representation (VR) </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="h" href="PS3.5.html" shape="rect">Home</a>
               </td>
               <td width="40%" align="right" valign="top" rowspan="1" colspan="1"> 6.2.3 URI/URL (UR) Value Representation</td>
            </tr>
         </table>
      </div>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.5 2024a - Data Structures and Encoding</span>
            </th>
         </tr>
      </table>
   </body>
</html>
