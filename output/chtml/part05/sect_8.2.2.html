<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>8.2.2 Run Length Encoding Image Compression</title>
      <link rel="stylesheet" type="text/css" href="dicom.css" />
      <meta name="generator" content="DocBook XSL Stylesheets V1.78.1" />
      <link rel="home" href="PS3.5.html" title="PS3.5" />
      <link rel="up" href="sect_8.2.html" title="8.2 Native or Encapsulated Format Encoding" />
      <link rel="prev" href="sect_8.2.html" title="8.2 Native or Encapsulated Format Encoding" />
      <link rel="next" href="sect_8.2.3.html" title="8.2.3 JPEG-LS Image Compression" />
      <style type="text/css"><![CDATA[
	p { font-size: 15px; }
      ]]></style>
   </head>
   <body>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.5 2024c - Data Structures and Encoding</span>
            </th>
         </tr>
      </table>
      <div xmlns="" class="navheader">
         <table width="100%" summary="Navigation header">
            <tr>
               <th colspan="3" align="center" rowspan="1">8.2.2 Run Length Encoding Image Compression <a accesskey="current" href="http://dicom.nema.org/medical/dicom/current/output/chtml/part05/sect_8.2.2.html" shape="rect">(Current)</a>
               </th>
            </tr>
            <tr>
               <td width="20%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_8.2.html" shape="rect">Prev</a> </td>
               <th width="60%" align="center" rowspan="1" colspan="1">8.2 Native or Encapsulated Format Encoding</th>
               <td width="20%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_8.2.3.html" shape="rect">Next</a>
               </td>
            </tr>
         </table>
         <hr />
      </div>
      <div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="breadcrumbs">
         <span class="breadcrumb-link">
            <a href="PS3.5.html" shape="rect">PS3.5</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="chapter_8.html" shape="rect">Encoding of Pixel, Overlay and Waveform Data</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="sect_8.2.html" shape="rect">Native or Encapsulated Format Encoding</a>
         </span> &gt; <span class="breadcrumb-node">Run Length Encoding Image Compression</span>
      </div>
      <div class="section">
         <div class="titlepage">
            <div>
               <div>
                  <h3 class="title">
                     <a id="sect_8.2.2" shape="rect"></a>8.2.2 Run Length Encoding Image Compression</h3>
               </div>
            </div>
         </div>
         <p>
            <a id="para_85ca0802-972c-4db3-bc67-7f344dc8aeb8" shape="rect"></a>DICOM provides a mechanism for supporting the use of Run Length Encoding (RLE) Image Compression, which is a byte oriented lossless compression scheme through the encapsulated Format (see <a href="../part03/PS3.3.html" class="olink" shape="rect">PS3.3</a> of this Standard). <a class="xref" href="chapter_G.html" title="G Encapsulated RLE Compressed Images (Normative)" shape="rect">Annex G</a> defines RLE Image Compression and its Transfer Syntax.</p>
         <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
            <h3 class="title">Note</h3>
            <p>
               <a id="para_68100f7a-9340-4d87-af3f-2f6950af6a3f" shape="rect"></a>The RLE Image Compression algorithm described in <a class="xref" href="chapter_G.html" title="G Encapsulated RLE Compressed Images (Normative)" shape="rect">Annex G</a> is the compression used in the TIFF 6.0 specification known as the "PackBits" scheme.</p>
         </div>
         <p>
            <a id="para_f46aa917-6020-441c-a144-02b3a06c3e39" shape="rect"></a>The use of the DICOM Encapsulated Format to support RLE Compressed Pixel Data requires that the Data Elements that are related to the Pixel Data encoding (e.g., Photometric Interpretation, Samples per Pixel, Planar Configuration, Bits Allocated, Bits Stored, High Bit, Pixel Representation, Rows, Columns, etc.) shall contain Values that are consistent with the compressed data.</p>
         <p>
            <a id="para_d65635ee-be9b-4ec5-afe2-2d54380611e8" shape="rect"></a>The requirements when using a Standard Photometric Interpretation (i.e., a Defined Term from PS.3. C.7.6.3.1.2) are specified in <a class="xref" href="sect_8.2.2.html#table_8.2.2-1" title="Table 8.2.2-1. Valid Values of Pixel Data Related Attributes for RLE Compression using Standard Photometric Interpretations" shape="rect">Table 8.2.2-1</a>. No other Standard Photometric Interpretation Values shall be used.</p>
         <div class="table">
            <a id="table_8.2.2-1" shape="rect"></a>
            <p class="title">
               <strong>Table 8.2.2-1. Valid Values of Pixel Data Related Attributes for RLE Compression using Standard Photometric Interpretations</strong>
            </p>
            <div class="table-contents">
               <table frame="box" rules="all">
                  <thead>
                     <tr valign="top">
                        <th align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_9498f082-afd7-4d92-96e8-f673102f896d" shape="rect"></a>Photometric Interpretation</p>
                            </th>
                        <th align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_043ab0e7-9013-41e1-9489-aeb5f9ba1d6a" shape="rect"></a>Samples per Pixel</p>
                            </th>
                        <th align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_0d9e77f4-fbb6-4483-a0b4-19ef3678f3f6" shape="rect"></a>Planar Configuration</p>
                            </th>
                        <th align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_7d86a88a-7806-40b2-8075-112b9d811c54" shape="rect"></a>Pixel Representation</p>
                            </th>
                        <th align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_3822907e-10a3-4159-836b-91b3ab6fc73d" shape="rect"></a>Bits Allocated</p>
                            </th>
                        <th align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_fa6cc296-d46e-4731-a240-0c5a29f1aabf" shape="rect"></a>Bits Stored</p>
                            </th>
                        <th align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_72c26f34-9f0c-4eff-bfc2-102029c8eaa4" shape="rect"></a>High Bit</p>
                            </th>
                     </tr>
                  </thead>
                  <tbody>
                     <tr valign="top">
                        <td align="left" rowspan="1" colspan="1">
                                <p>
                              <a id="para_2571e683-4742-4c4f-9d68-a864b5557428" shape="rect"></a>MONOCHROME1</p>
                                <p>
                              <a id="para_8fd1c4f0-bfb2-47c2-81e1-ebd5c0a39d04" shape="rect"></a>MONOCHROME2</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_2e209ffb-1435-4ed0-b5ed-b2e5bd5333f8" shape="rect"></a>1</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_3c831d8a-cb79-4a03-8658-1c22b3070b57" shape="rect"></a>absent</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_594d6351-af64-429f-a212-4014281aa105" shape="rect"></a>0 or 1</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_37d05e51-16fa-4a62-9170-717430e91bfd" shape="rect"></a>1, 8 or 16</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_da080a8d-0471-4fa5-8d8c-54270dd4828c" shape="rect"></a>1-16</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_3f2b6659-a8d6-4d53-aa05-015652b870f5" shape="rect"></a>0-15</p>
                            </td>
                     </tr>
                     <tr valign="top">
                        <td align="left" rowspan="1" colspan="1">
                                <p>
                              <a id="para_433c1b2c-e69a-4e5b-a7f6-fb6c1976dfc3" shape="rect"></a>PALETTE COLOR</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_c5390d6d-cff2-4724-b077-e9439cd78a18" shape="rect"></a>1</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_fd684e8d-9442-4d64-b669-007de8a10829" shape="rect"></a>absent</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_57274047-f337-474b-b71c-21eb3916db79" shape="rect"></a>0</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_202459e8-e491-43f6-a7fb-25b5cede1ed8" shape="rect"></a>8 or 16</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_01a07bd3-5bcd-49c4-b2bd-7ef9116c0eef" shape="rect"></a>1-16</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_093b5316-aff3-4e7f-895a-6a56a43c1863" shape="rect"></a>0-15</p>
                            </td>
                     </tr>
                     <tr valign="top">
                        <td align="left" rowspan="1" colspan="1">
                                <p>
                              <a id="para_40e5ecfd-7329-42eb-864d-7016fc2639f2" shape="rect"></a>YBR_FULL</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_03f5c942-430f-4737-87a5-08a4eaf9898a" shape="rect"></a>3</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_547ae630-0bcd-4541-985b-29d832bf73ea" shape="rect"></a>0 or 1</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_8b149c18-e49a-4667-9d79-bd5595245670" shape="rect"></a>0</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_a51cee16-dec5-472a-838a-0e22252c2431" shape="rect"></a>8</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_7ef79b6f-e965-4293-bbd3-05906f788b9f" shape="rect"></a>1-8</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_30eea63a-d371-4ab5-978a-22a1f6db8ec1" shape="rect"></a>0-7</p>
                            </td>
                     </tr>
                     <tr valign="top">
                        <td align="left" rowspan="1" colspan="1">
                                <p>
                              <a id="para_4f3046da-87d6-4f67-bd01-0bae9cab3ba8" shape="rect"></a>RGB</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_24c3d1c5-0809-4c54-91df-c87306a5e472" shape="rect"></a>3</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_fd43d5bc-2292-437e-967e-e3ef1578d0b9" shape="rect"></a>0 or 1</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_345b2ba3-7ffe-4840-a78c-f38c256c07ea" shape="rect"></a>0</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_c03e1579-23ba-4963-a2e4-141b31f25352" shape="rect"></a>8 or 16</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_57514f92-4054-4539-99a1-b7d92a6ced19" shape="rect"></a>1-16</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_f3f87a75-8f23-48e9-9ab4-17030667af53" shape="rect"></a>0-15</p>
                            </td>
                     </tr>
                  </tbody>
               </table>
            </div>
         </div>
         <br class="table-break" clear="none" />
         <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
            <h3 class="title">Note</h3>
            <div class="orderedlist">
               <ol class="orderedlist" type="1">
                  <li class="listitem">
                     <p>
                        <a id="para_6f9c3153-4628-4f7e-a842-a7d81a6845ab" shape="rect"></a>These requirements were formerly specified in terms of the "uncompressed pixel data from which the compressed data was derived". However, since the form of the "original" uncompressed data stream could vary between different implementations, this requirement is now specified in terms of consistency with what is encapsulated.</p>
                  </li>
                  <li class="listitem">
                     <p>
                        <a id="para_d1bb8f9b-f160-4538-b2db-6717374398e2" shape="rect"></a>Those characteristics not implied by the definition of the compression scheme (e.g., always color-by-plane in RLE), can therefore be determined from the DICOM Data Element in the enclosing Data Set. For example a Photometric Interpretation of "YBR_FULL" would describe the color space that is commonly used to losslessly compress images using RLE. It is unusual to use an RGB color space for RLE compression, since no advantage is taken of correlation between the red, green and blue components (e.g., of luminance), and poor compression is achieved (note however that the conversion from RGB to YBR_FULL is itself lossy. A new photometric interpretation may be proposed in the future that allows lossless conversion from RGB and also results in better RLE compression ratios).</p>
                  </li>
                  <li class="listitem">
                     <p>
                        <a id="para_7844c3d7-4b28-4f14-bcf3-19476a836b6b" shape="rect"></a>DICOM Data Elements should not describe characteristics that are beyond the capability of the compression scheme used. For example, RLE compressed data streams (using the algorithm mandated in the DICOM Standard) are always color-by-plane.</p>
                  </li>
                  <li class="listitem">
                     <p>
                        <a id="para_57b858fe-3b23-47e7-bfc9-f67233f1188f" shape="rect"></a>If RLE Compressed Pixel Data is decompressed and re-encoded in Native (uncompressed) form, then the Data Elements that are related to the Pixel Data encoding are updated accordingly. If color components are converted from YBR_FULL to RGB during decompression and Native re-encoding, the Photometric Interpretation will be changed to RGB in the Data Set with the Native encoding. It is permitted, however, to leave the YBR_FULL color components unconverted but decompressed in the Native format, in which case the Photometric Interpretation in the Data Set with the Native encoding would be YBR_FULL.</p>
                  </li>
                  <li class="listitem">
                     <p>
                        <a id="para_aa34b061-6980-45b1-875e-89b0facb777d" shape="rect"></a>A Bits Allocated (0028,0100) of 1 for monochrome images supports compression of Segmentation IOD Pixel Data with a Segmentation Type (0062,0001) of BINARY.</p>
                  </li>
               </ol>
            </div>
         </div>
      </div>
      <div class="navfooter">
         <hr />
         <table width="100%" summary="Navigation footer">
            <tr>
               <td width="40%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_8.2.html" shape="rect">Prev</a> </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="u" href="sect_8.2.html" shape="rect">Up</a>
               </td>
               <td width="40%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_8.2.3.html" shape="rect">Next</a>
               </td>
            </tr>
            <tr>
               <td width="40%" align="left" valign="top" rowspan="1" colspan="1">8.2 Native or Encapsulated Format Encoding </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="h" href="PS3.5.html" shape="rect">Home</a>
               </td>
               <td width="40%" align="right" valign="top" rowspan="1" colspan="1"> 8.2.3 JPEG-LS Image Compression</td>
            </tr>
         </table>
      </div>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.5 2024c - Data Structures and Encoding</span>
            </th>
         </tr>
      </table>
   </body>
</html>
