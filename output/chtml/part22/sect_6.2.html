<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>6.2 Transport</title>
      <link rel="stylesheet" type="text/css" href="dicom.css" />
      <meta name="generator" content="DocBook XSL Stylesheets V1.78.1" />
      <link rel="home" href="PS3.22.html" title="PS3.22" />
      <link rel="up" href="chapter_6.html" title="6 Data Communication Requirements" />
      <link rel="prev" href="chapter_6.html" title="6 Data Communication Requirements" />
      <link rel="next" href="sect_6.2.2.html" title="6.2.2 RTP Payload" />
      <style type="text/css"><![CDATA[
	p { font-size: 15px; }
      ]]></style>
   </head>
   <body>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.22 - Real-Time Communication</span>
            </th>
         </tr>
      </table>
      <div xmlns="" class="navheader">
         <table width="100%" summary="Navigation header">
            <tr>
               <th colspan="3" align="center" rowspan="1">6.2 Transport <a accesskey="current" href="http://dicom.nema.org/medical/dicom/current/output/chtml/part22/sect_6.2.html" shape="rect">(Current)</a>
               </th>
            </tr>
            <tr>
               <td width="20%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="chapter_6.html" shape="rect">Prev</a> </td>
               <th width="60%" align="center" rowspan="1" colspan="1">6 Data Communication Requirements</th>
               <td width="20%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_6.2.2.html" shape="rect">Next</a>
               </td>
            </tr>
         </table>
         <hr />
      </div>
      <div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="breadcrumbs">
         <span class="breadcrumb-link">
            <a href="PS3.22.html" shape="rect">PS3.22</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="chapter_6.html" shape="rect">Data Communication Requirements</a>
         </span> &gt; <span class="breadcrumb-node">Transport</span>
      </div>
      <div class="section">
         <div class="titlepage">
            <div>
               <div>
                  <h2 class="title" style="clear: both">
                     <a id="sect_6.2" shape="rect"></a>6.2 Transport</h2>
               </div>
            </div>
         </div>
         <div class="section">
            <div class="titlepage">
               <div>
                  <div>
                     <h3 class="title">
                        <a id="sect_6.2.1" shape="rect"></a>6.2.1 RTP Header</h3>
                  </div>
               </div>
            </div>
            <p>
               <a id="para_907a8841-60d5-41b8-979d-65bc4d02e9bc" shape="rect"></a>All Essences shall be transported with RTP according to <a class="xref" href="chapter_2.html#biblio_SMPTE_ST2110-10" title="Professional Media over IP Networks: System Timing and Definitions" shape="rect">[<abbr class="abbrev">SMPTE ST 2110-10</abbr>]</a>, which requires that each Flow is described by an SDP object which specifies its content as well as connection details enabling the receiver to join the session. In addition to mandatory information specified in <a class="xref" href="chapter_2.html#biblio_SMPTE_ST2110-10" title="Professional Media over IP Networks: System Timing and Definitions" shape="rect">[<abbr class="abbrev">SMPTE ST 2110-10</abbr>]</a>, for Audio and Video Essence, the SDP may also include the following information:</p>
            <div class="itemizedlist">
               <ul class="itemizedlist" style="list-style-type: disc; ">
                  <li class="listitem">
                     <p>
                        <a id="para_96aa6c9a-d713-46f8-a74c-48cc68157b5f" shape="rect"></a>PTP Sync Timestamp</p>
                  </li>
                  <li class="listitem">
                     <p>
                        <a id="para_9128dbcf-b903-4b57-9336-727f564c38fa" shape="rect"></a>PTP Origin Timestamp</p>
                  </li>
                  <li class="listitem">
                     <p>
                        <a id="para_457b6b66-61cf-4fad-81fd-40d586f17f86" shape="rect"></a>Source Identifier</p>
                  </li>
                  <li class="listitem">
                     <p>
                        <a id="para_ffc4de5f-160e-4252-9567-481cc04ce794" shape="rect"></a>Flow Identifier</p>
                  </li>
               </ul>
            </div>
            <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
               <h3 class="title">Note</h3>
               <p>
                  <a id="para_b31dc6b5-ab28-4bc0-8794-1fc5c038452f" shape="rect"></a>This information is the best way for associating multiple Flows originating from the same device. The presence of such information in the SDP implies that it is contained in the RTP Extended Header present in the first IP packet of a Grain (video frame, audio sample, metadata set). It makes it possible to automatically associate and temporarily synchronize two Flows based on their content.</p>
            </div>
            <p>
               <a id="para_90221fe9-f14b-4e94-b1d1-9acd3ff2bda1" shape="rect"></a>By definition, all the Flows according to <a class="xref" href="chapter_2.html#biblio_SMPTE_ST2110-10" title="Professional Media over IP Networks: System Timing and Definitions" shape="rect">[<abbr class="abbrev">SMPTE ST 2110-10</abbr>]</a> are synchronized by means of a common reference to the Universal Time, using PTP, with precision on the order of nanoseconds.</p>
            <p>
               <a id="para_ad36d811-00f5-454e-8c42-5fbf37291e27" shape="rect"></a>The RTP Header, for video and audio Flows, shall follow <a class="xref" href="chapter_2.html#biblio_SMPTE_ST2110-20" title="Professional Media over IP Networks: Uncompressed Active Video" shape="rect">[<abbr class="abbrev">SMPTE ST 2110-20</abbr>]</a> and <a class="xref" href="chapter_2.html#biblio_SMPTE_ST2110-30" title="Professional Media over IP Networks: PCM Digital Audio" shape="rect">[<abbr class="abbrev">SMPTE ST 2110-30</abbr>]</a>, respectively.</p>
            <p>
               <a id="para_77626a45-4120-4e49-a3df-0a42d25280cf" shape="rect"></a>The RTP Header, for DICOM Metadata Flows, shall follow <a class="xref" href="chapter_2.html#biblio_SMPTE_ST2110-10" title="Professional Media over IP Networks: System Timing and Definitions" shape="rect">[<abbr class="abbrev">SMPTE ST 2110-10</abbr>]</a>. The clock rate shall be identical to the one defined in the referenced audio or video Flow. The following additional constraints apply:</p>
            <div class="variablelist">
               <dl class="variablelist">
                  <dt>
                     <span class="term">extension (X) : 1 bit </span>
                  </dt>
                  <dd>
                     <p>
                        <a id="para_be9d1d54-e996-4f6b-9bcc-eb6a6baa3d7c" shape="rect"></a>Shall be set to 1.</p>
                  </dd>
                  <dt>
                     <span class="term">payload type (PT)</span>
                  </dt>
                  <dd>
                     <p>
                        <a id="para_5bca4c96-7897-4bd4-82cf-ed87bd1782fd" shape="rect"></a>The value of payload type is selected from the range 96-127. It is recommended to avoid numbers frequently used for audio (97) and video (96), and for example use 104 for DICOM Metadata Essence.
                                The value shall be associated to the media type "application" and the subtype "dicom" in the SDP. E.g., (DICOM Metadata on port 12345):</p>
                     <p>
                        <a id="para_b19d06cc-07c4-4b3b-bb74-de624624cccb" shape="rect"></a>
                        <span class="italic">m=application</span>12345 <span class="italic">RTP/AVP</span>104</p>
                     <p>
                        <a id="para_ab229eef-65c0-4024-bebf-e8702b9741d3" shape="rect"></a>
                        <span class="italic">a=rtpmap:</span>104 <span class="italic">dicom/</span>90000</p>
                  </dd>
               </dl>
            </div>
            <p>
               <a id="para_3785dd83-5385-4c7c-893a-b122b1dca9b9" shape="rect"></a>For the DICOM Metadata Essence, the RTP Header Extension defined by NMOS shall be present, including the following information:</p>
            <div class="itemizedlist">
               <ul class="itemizedlist" style="list-style-type: disc; ">
                  <li class="listitem">
                     <p>
                        <a id="para_c64ba9da-79c5-4b10-8e87-2441a2fb5c5e" shape="rect"></a>PTP Sync Timestamp</p>
                  </li>
                  <li class="listitem">
                     <p>
                        <a id="para_ad88159e-9cd7-4923-9a36-890366d62074" shape="rect"></a>PTP Origin Timestamp</p>
                  </li>
                  <li class="listitem">
                     <p>
                        <a id="para_5bf6a205-9984-4ab5-9de3-a49598e72ded" shape="rect"></a>Source Identifier</p>
                  </li>
                  <li class="listitem">
                     <p>
                        <a id="para_46cf5d8b-f315-4796-88e7-6df99d7786d2" shape="rect"></a>Flow Identifier</p>
                  </li>
               </ul>
            </div>
            <p>
               <a id="para_2591181f-0de5-4434-a4f2-1e1d5e6a3132" shape="rect"></a>The "defined by profile" part of the RTP Header Extension shall be set to 0xBEDE identifying that the one-byte header extension form is used, as specified in <a class="xref" href="chapter_2.html#biblio_RFC_5285" title="A General Mechanism for RTP Header Extensions" shape="rect">[<abbr class="abbrev">RFC 5285</abbr>]</a>.</p>
         </div>
      </div>
      <div class="navfooter">
         <hr />
         <table width="100%" summary="Navigation footer">
            <tr>
               <td width="40%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="chapter_6.html" shape="rect">Prev</a> </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="u" href="chapter_6.html" shape="rect">Up</a>
               </td>
               <td width="40%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_6.2.2.html" shape="rect">Next</a>
               </td>
            </tr>
            <tr>
               <td width="40%" align="left" valign="top" rowspan="1" colspan="1">6 Data Communication Requirements </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="h" href="PS3.22.html" shape="rect">Home</a>
               </td>
               <td width="40%" align="right" valign="top" rowspan="1" colspan="1"> 6.2.2 RTP Payload</td>
            </tr>
         </table>
      </div>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.22 - Real-Time Communication</span>
            </th>
         </tr>
      </table>
   </body>
</html>
