<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>C.4.3.3.2 Extended Behavior of SCP</title>
      <link rel="stylesheet" type="text/css" href="dicom.css" />
      <meta name="generator" content="DocBook XSL Stylesheets V1.78.1" />
      <link rel="home" href="PS3.4.html" title="PS3.4" />
      <link rel="up" href="sect_C.4.3.3.html" title="C.4.3.3 C-GET SCP Behavior" />
      <link rel="prev" href="sect_C.4.3.3.html" title="C.4.3.3 C-GET SCP Behavior" />
      <link rel="next" href="sect_C.5.html" title="C.5 Association Negotiation" />
      <style type="text/css"><![CDATA[
	p { font-size: 15px; }
      ]]></style>
   </head>
   <body>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.4 2024a - Service Class Specifications</span>
            </th>
         </tr>
      </table>
      <div xmlns="" class="navheader">
         <table width="100%" summary="Navigation header">
            <tr>
               <th colspan="3" align="center" rowspan="1">C.4.3.3.2 Extended Behavior of SCP <a accesskey="current" href="http://dicom.nema.org/medical/dicom/current/output/chtml/part04/sect_C.4.3.3.2.html" shape="rect">(Current)</a>
               </th>
            </tr>
            <tr>
               <td width="20%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_C.4.3.3.html" shape="rect">Prev</a> </td>
               <th width="60%" align="center" rowspan="1" colspan="1">C.4.3.3 C-GET SCP Behavior</th>
               <td width="20%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_C.5.html" shape="rect">Next</a>
               </td>
            </tr>
         </table>
         <hr />
      </div>
      <div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="breadcrumbs">
         <span class="breadcrumb-link">
            <a href="PS3.4.html" shape="rect">PS3.4</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="chapter_C.html" shape="rect">Query/Retrieve Service Class (Normative)</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="sect_C.4.html" shape="rect">DIMSE-C Service Groups</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="sect_C.4.3.html" shape="rect">C-GET Operation</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="sect_C.4.3.3.html" shape="rect">C-GET SCP Behavior</a>
         </span> &gt; <span class="breadcrumb-node">Extended Behavior of SCP</span>
      </div>
      <div class="section">
         <div class="titlepage">
            <div>
               <div>
                  <h5 class="title">
                     <a id="sect_C.4.3.3.2" shape="rect"></a>C.4.3.3.2 Extended Behavior of SCP</h5>
               </div>
            </div>
         </div>
         <p>
            <a id="para_3cc562fb-8da7-4c2e-937e-203781c2ff03" shape="rect"></a>Extended SCP behavior shall be negotiated at Association establishment time. If an option within the extended behavior is not agreed upon in the negotiation, then only baseline SCP behavior shall be performed with respect to that option. Extended SCP behavior includes all baseline behavior with the following option:</p>
         <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; ">
               <li class="listitem">
                  <p>
                     <a id="para_325df6eb-5917-4f32-ba9e-ae6c32446c07" shape="rect"></a>Relational-retrieve</p>
               </li>
               <li class="listitem">
                  <p>
                     <a id="para_6453de4d-2ea4-4226-9d67-0a71b207e062" shape="rect"></a>Enhanced Multi-Frame Image Conversion</p>
               </li>
            </ul>
         </div>
         <p>
            <a id="para_c6193bbd-eef3-4fcc-866e-942c78ca36f4" shape="rect"></a>More than one option may be agreed upon.</p>
         <div class="section">
            <div class="titlepage">
               <div>
                  <div>
                     <h6 class="title">
                        <a id="sect_C.4.3.3.2.1" shape="rect"></a>C.4.3.3.2.1 Relational-Retrieve</h6>
                  </div>
               </div>
            </div>
            <p>
               <a id="para_ae8b9928-031e-4249-8cdc-83a627d7b5d4" shape="rect"></a>The C-GET Service with relational-retrieve removes the restriction that the SCU supply Unique Key values for levels above the Query/Retrieve level to help identify an entity at the level of the retrieval. Hence, the Identifier of a C-GET request may retrieve:</p>
            <div class="itemizedlist">
               <ul class="itemizedlist" style="list-style-type: disc; ">
                  <li class="listitem">
                     <p>
                        <a id="para_6863d8d9-a09f-4ced-9120-67b928321c34" shape="rect"></a>all Composite Object Instances related to a study by providing a Study Instance UID</p>
                  </li>
                  <li class="listitem">
                     <p>
                        <a id="para_2cdca537-2b79-473d-8266-271c7cfded8b" shape="rect"></a>all Composite Object Instances related to a series by providing a Series Instance UID</p>
                  </li>
                  <li class="listitem">
                     <p>
                        <a id="para_f54dd9fa-2aea-4a7c-b81d-56eb7dde473f" shape="rect"></a>individual Composite Object Instances by providing a list of SOP Instance UIDs</p>
                  </li>
               </ul>
            </div>
         </div>
         <div class="section">
            <div class="titlepage">
               <div>
                  <div>
                     <h6 class="title">
                        <a id="sect_C.4.3.3.2.2" shape="rect"></a>C.4.3.3.2.2 Enhanced Multi-Frame Image Conversion</h6>
                  </div>
               </div>
            </div>
            <p>
               <a id="para_961fbf6f-6cb5-4b9d-90d9-f8c5b8492dbb" shape="rect"></a>If Query/Retrieve View (0008,0053) is not present in the Request Identifier, then the SCP shall identify a set of Entities at the level of the transfer based upon the values in the Unique Keys in the Identifier of the C-GET request that correspond to the instances it possesses, as received, and shall initiate C-STORE sub-operations for all the corresponding storage SOP Instances.</p>
            <p>
               <a id="para_d2c972b2-45a4-47a1-a90e-46e716d80ca1" shape="rect"></a>If Query/Retrieve View (0008,0053) is present with a value of "CLASSIC", then the SCP shall identify a set of Entities at the level of the transfer based upon the values in the Unique Keys in the Identifier of the C-GET request that correspond to the Classic single frame Instances (converted from Enhanced multi-frame Instances if required), as well as any instances that were converted to preserve referential integrity, and any that did not need to be converted, and shall initiate C-STORE sub-operations for all the corresponding storage SOP Instances.</p>
            <p>
               <a id="para_262708d7-c0ed-490d-b742-9930b40f484c" shape="rect"></a>If Query/Retrieve View (0008,0053) is present with a value of "ENHANCED", then the SCP shall identify a set of Entities at the level of the transfer based upon the values in the Unique Keys in the Identifier of the C-GET request that correspond to the Enhanced multi-frame Instances (converted from Classic single frame Instances if required), as well as any instances that were converted to preserve referential integrity, and any that did not need to be converted, and shall initiate C-STORE sub-operations for all the corresponding storage SOP Instances.</p>
            <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
               <h3 class="title">Note</h3>
               <div class="orderedlist">
                  <ol class="orderedlist" type="1">
                     <li class="listitem">
                        <p>
                           <a id="para_048756e0-fe99-4572-aa68-0884621a6cfa" shape="rect"></a>The C-GET SCP acting as a C-STORE SCU will not send information that is duplicated to the C-GET SCU acting as a C-STORE SCP. For example, if an entire series of single frame instances can be converted to a separate series of converted instances, a STUDY level C-GET will not send both series.</p>
                     </li>
                     <li class="listitem">
                        <p>
                           <a id="para_20fa1b44-0573-47d1-b059-39f0cc015a80" shape="rect"></a>The Query Information Model is unchanged, and the same unique, required and optional keys are equally applicable to both views, except that the values for the SERIES and IMAGE level queries will be different and will depend on the converted instance content.</p>
                     </li>
                     <li class="listitem">
                        <p>
                           <a id="para_d13f07ba-4505-4b7a-9662-9f2437904cdd" shape="rect"></a>The Query/Retrieve View is still required in an IMAGE or SERIES level request identifier, even though the requested unique key(s) are unambiguous.</p>
                     </li>
                  </ol>
               </div>
            </div>
         </div>
      </div>
      <div class="navfooter">
         <hr />
         <table width="100%" summary="Navigation footer">
            <tr>
               <td width="40%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_C.4.3.3.html" shape="rect">Prev</a> </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="u" href="sect_C.4.3.3.html" shape="rect">Up</a>
               </td>
               <td width="40%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_C.5.html" shape="rect">Next</a>
               </td>
            </tr>
            <tr>
               <td width="40%" align="left" valign="top" rowspan="1" colspan="1">C.4.3.3 C-GET SCP Behavior </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="h" href="PS3.4.html" shape="rect">Home</a>
               </td>
               <td width="40%" align="right" valign="top" rowspan="1" colspan="1"> C.5 Association Negotiation</td>
            </tr>
         </table>
      </div>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.4 2024a - Service Class Specifications</span>
            </th>
         </tr>
      </table>
   </body>
</html>
