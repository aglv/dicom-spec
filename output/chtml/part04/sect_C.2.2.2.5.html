<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>C.2.2.2.5 Range Matching</title>
      <link rel="stylesheet" type="text/css" href="dicom.css" />
      <meta name="generator" content="DocBook XSL Stylesheets V1.78.1" />
      <link rel="home" href="PS3.4.html" title="PS3.4" />
      <link rel="up" href="sect_C.2.2.2.html" title="C.2.2.2 Attribute Matching" />
      <link rel="prev" href="sect_C.2.2.2.4.html" title="C.2.2.2.4 Wild Card Matching" />
      <link rel="next" href="sect_C.2.2.2.6.html" title="C.2.2.2.6 Sequence Matching" />
      <style type="text/css"><![CDATA[
	p { font-size: 15px; }
      ]]></style>
   </head>
   <body>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.4 2024c - Service Class Specifications</span>
            </th>
         </tr>
      </table>
      <div xmlns="" class="navheader">
         <table width="100%" summary="Navigation header">
            <tr>
               <th colspan="3" align="center" rowspan="1">C.2.2.2.5 Range Matching <a accesskey="current" href="http://dicom.nema.org/medical/dicom/current/output/chtml/part04/sect_C.2.2.2.5.html" shape="rect">(Current)</a>
               </th>
            </tr>
            <tr>
               <td width="20%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_C.2.2.2.4.html" shape="rect">Prev</a> </td>
               <th width="60%" align="center" rowspan="1" colspan="1">C.2.2.2 Attribute Matching</th>
               <td width="20%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_C.2.2.2.6.html" shape="rect">Next</a>
               </td>
            </tr>
         </table>
         <hr />
      </div>
      <div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="breadcrumbs">
         <span class="breadcrumb-link">
            <a href="PS3.4.html" shape="rect">PS3.4</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="chapter_C.html" shape="rect">Query/Retrieve Service Class (Normative)</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="sect_C.2.html" shape="rect">Query/Retrieve Information Model Definition</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="sect_C.2.2.html" shape="rect">Attributes Definition</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="sect_C.2.2.2.html" shape="rect">Attribute Matching</a>
         </span> &gt; <span class="breadcrumb-node">Range Matching</span>
      </div>
      <div class="section">
         <div class="titlepage">
            <div>
               <div>
                  <h5 class="title">
                     <a id="sect_C.2.2.2.5" shape="rect"></a>C.2.2.2.5 Range Matching</h5>
               </div>
            </div>
         </div>
         <div class="section">
            <div class="titlepage">
               <div>
                  <div>
                     <h6 class="title">
                        <a id="sect_C.2.2.2.5.1" shape="rect"></a>C.2.2.2.5.1 Range Matching of Attributes of VR of DA</h6>
                  </div>
               </div>
            </div>
            <p>
               <a id="para_a8fef9b8-ae03-4446-a883-14b163929b2f" shape="rect"></a>In the absence of Extended Negotiation, then:</p>
            <div class="orderedlist">
               <ol class="orderedlist" type="a">
                  <li class="listitem">
                     <p>
                        <a id="para_ca957a55-42ed-4c8a-975e-18da5ff73208" shape="rect"></a>A string of the form "&lt;date1&gt; - &lt;date2&gt;", where &lt;date1&gt; is less or equal to &lt;date2&gt;, shall match all occurrences of dates that fall between &lt;date1&gt; and &lt;date2&gt; inclusive</p>
                  </li>
                  <li class="listitem">
                     <p>
                        <a id="para_4bc4ea6c-9087-4ae4-bc26-920a6f351a1c" shape="rect"></a>A string of the form "- &lt;date1&gt;" shall match all occurrences of dates prior to and including &lt;date1&gt;</p>
                  </li>
                  <li class="listitem">
                     <p>
                        <a id="para_02577823-12ad-4bdb-a3fb-bbe508d2b5c5" shape="rect"></a>A string of the form "&lt;date1&gt; -" shall match all occurrences of &lt;date1&gt; and subsequent dates</p>
                  </li>
               </ol>
            </div>
         </div>
         <div class="section">
            <div class="titlepage">
               <div>
                  <div>
                     <h6 class="title">
                        <a id="sect_C.2.2.2.5.2" shape="rect"></a>C.2.2.2.5.2 Range Matching of Attributes of VR of TM</h6>
                  </div>
               </div>
            </div>
            <p>
               <a id="para_763084d9-5fab-49e3-a76a-72a8a039cdd9" shape="rect"></a>All comparison specified in the following shall be based on a direct comparison of times within a day. "Prior" includes all times starting from midnight of the same day to the specified time. "Subsequent" includes all times starting with the specified time until any time prior to midnight of the following day. Range Matching crossing midnight is not supported.</p>
            <p>
               <a id="para_39431c5e-cfae-41cd-a91e-8ec961b8013b" shape="rect"></a>No offset from Universal Coordinated Time is permitted in the TM VR values. If Timezone Offset From UTC (0008,0201) is present in the query identifier, the specified time values and the definition of midnight are in the specified timezone.</p>
            <p>
               <a id="para_0c7f8886-46ab-45e9-ad0c-85b96045b5b3" shape="rect"></a>In the absence of Extended Negotiation, then:</p>
            <div class="orderedlist">
               <ol class="orderedlist" type="a">
                  <li class="listitem">
                     <p>
                        <a id="para_4f361d02-2a40-4612-9e14-fc1ec7a5fe23" shape="rect"></a>A string of the form "&lt;time1&gt; - &lt;time2&gt;", where &lt;time1&gt; is less or equal to &lt;time2&gt;, shall match all occurrences of times that fall between &lt;time1&gt; and &lt;time2&gt; inclusive</p>
                  </li>
                  <li class="listitem">
                     <p>
                        <a id="para_7b721f27-91a2-40cc-828c-65fbb05dd803" shape="rect"></a>A string of the form "- &lt;time1&gt;" shall match all occurrences of times prior to and including &lt;time1&gt;</p>
                  </li>
                  <li class="listitem">
                     <p>
                        <a id="para_1d9549b0-035a-4660-a729-1757cc040648" shape="rect"></a>A string of the form "&lt;time1&gt; -" shall match all occurrences of &lt;time1&gt; and subsequent times</p>
                  </li>
               </ol>
            </div>
         </div>
         <div class="section">
            <div class="titlepage">
               <div>
                  <div>
                     <h6 class="title">
                        <a id="sect_C.2.2.2.5.3" shape="rect"></a>C.2.2.2.5.3 Range Matching of Attributes of VR of DT</h6>
                  </div>
               </div>
            </div>
            <div class="orderedlist">
               <ol class="orderedlist" type="a">
                  <li class="listitem">
                     <p>
                        <a id="para_178aca7d-8ccc-407d-8e85-07a962846469" shape="rect"></a>A string of the form "&lt;datetime1&gt; - &lt;datetime2&gt;", where &lt;datetime1&gt; is less or equal to &lt;datetime2&gt;, shall match all moments in time that fall between &lt;datetime1&gt; and &lt;datetime2&gt; inclusive</p>
                  </li>
                  <li class="listitem">
                     <p>
                        <a id="para_4dff8540-be9b-43ff-aea3-36dcaaefc633" shape="rect"></a>A string of the form "- &lt;datetime1&gt;" shall match all moments in time prior to and including &lt;datetime1&gt;</p>
                  </li>
                  <li class="listitem">
                     <p>
                        <a id="para_40aad438-5054-49fe-af5e-e1e537d3c69a" shape="rect"></a>A string of the form "&lt;datetime1&gt; -" shall match all moments in time subsequent to and including &lt;datetime1&gt;</p>
                  </li>
                  <li class="listitem">
                     <p>
                        <a id="para_64b6616c-c8bb-45f8-9e9e-e81325cf365c" shape="rect"></a>The offset from Universal Coordinated Time, if present in the Value of the Attribute, shall be taken into account for the purposes of the match.</p>
                  </li>
               </ol>
            </div>
         </div>
         <div class="section">
            <div class="titlepage">
               <div>
                  <div>
                     <h6 class="title">
                        <a id="sect_C.2.2.2.5.4" shape="rect"></a>C.2.2.2.5.4 Range Matching General Rules</h6>
                  </div>
               </div>
            </div>
            <p>
               <a id="para_4841d78d-706a-42b7-b3f3-0306acbdede1" shape="rect"></a>If Extended Negotiation of combined datetime matching is successful, then a pair of Attributes that are of VR DA and TM, both of which specify the same form of Range Matching, shall have the concatenated string values of each Range Matching component matched as if they were a single Attribute of VR DT.</p>
            <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
               <h3 class="title">Note</h3>
               <p>
                  <a id="para_8d28439d-016d-478c-9827-f720491fc84a" shape="rect"></a>For example, a Study Date of "20060705-20060707" and a Study Time of "1000-1800" will match the time period of July 5, 10am until July 7, 6pm, rather than the three time periods of 10am until 6pm on each of July 5, July 6 and July 7, as would be the case without Extended Negotiation.</p>
            </div>
            <p>
               <a id="para_23e382c2-a835-4b0a-b65d-d11fede177e0" shape="rect"></a>Regardless of other Extended Negotiation, an application may use the value of Timezone Offset From UTC (0008,0201) to adjust values of Attributes of VR TM and DT from the local timezone to UTC for matching. See <a class="xref" href="sect_C.2.2.2.html#sect_C.2.2.2.1" title="C.2.2.2.1 Single Value Matching" shape="rect">Section C.2.2.2.1</a>.</p>
            <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
               <h3 class="title">Note</h3>
               <p>
                  <a id="para_17bac098-cc87-4718-8627-2eb7e1f48785" shape="rect"></a>If Extended Negotiation of combined datetime matching is successful, the timezone offset may effect a change in date if the local time and UTC are on different sides of midnight.</p>
            </div>
            <p>
               <a id="para_42966313-b4e2-43eb-8625-5a3db3422663" shape="rect"></a>Range Matching is not defined for types of Attributes other than dates and times.</p>
         </div>
      </div>
      <div class="navfooter">
         <hr />
         <table width="100%" summary="Navigation footer">
            <tr>
               <td width="40%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_C.2.2.2.4.html" shape="rect">Prev</a> </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="u" href="sect_C.2.2.2.html" shape="rect">Up</a>
               </td>
               <td width="40%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_C.2.2.2.6.html" shape="rect">Next</a>
               </td>
            </tr>
            <tr>
               <td width="40%" align="left" valign="top" rowspan="1" colspan="1">C.2.2.2.4 Wild Card Matching </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="h" href="PS3.4.html" shape="rect">Home</a>
               </td>
               <td width="40%" align="right" valign="top" rowspan="1" colspan="1"> C.2.2.2.6 Sequence Matching</td>
            </tr>
         </table>
      </div>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.4 2024c - Service Class Specifications</span>
            </th>
         </tr>
      </table>
   </body>
</html>
