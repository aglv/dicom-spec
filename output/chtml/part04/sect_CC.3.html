<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>CC.3 UPS SOP Classes</title>
      <link rel="stylesheet" type="text/css" href="dicom.css" />
      <meta name="generator" content="DocBook XSL Stylesheets V1.78.1" />
      <link rel="home" href="PS3.4.html" title="PS3.4" />
      <link rel="up" href="chapter_CC.html" title="CC Unified Procedure Step Service and SOP Classes (Normative)" />
      <link rel="prev" href="sect_CC.2.8.4.html" title="CC.2.8.4 Status Codes" />
      <link rel="next" href="sect_CC.3.2.html" title="CC.3.2 Association Negotiation" />
      <style type="text/css"><![CDATA[
	p { font-size: 15px; }
      ]]></style>
   </head>
   <body>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.4 2024b - Service Class Specifications</span>
            </th>
         </tr>
      </table>
      <div xmlns="" class="navheader">
         <table width="100%" summary="Navigation header">
            <tr>
               <th colspan="3" align="center" rowspan="1">CC.3 UPS SOP Classes <a accesskey="current" href="http://dicom.nema.org/medical/dicom/current/output/chtml/part04/sect_CC.3.html" shape="rect">(Current)</a>
               </th>
            </tr>
            <tr>
               <td width="20%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_CC.2.8.4.html" shape="rect">Prev</a> </td>
               <th width="60%" align="center" rowspan="1" colspan="1">CC Unified Procedure Step Service and SOP Classes (Normative)</th>
               <td width="20%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_CC.3.2.html" shape="rect">Next</a>
               </td>
            </tr>
         </table>
         <hr />
      </div>
      <div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="breadcrumbs">
         <span class="breadcrumb-link">
            <a href="PS3.4.html" shape="rect">PS3.4</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="chapter_CC.html" shape="rect">Unified Procedure Step Service and SOP Classes (Normative)</a>
         </span> &gt; <span class="breadcrumb-node">UPS SOP Classes</span>
      </div>
      <div class="section">
         <div class="titlepage">
            <div>
               <div>
                  <h2 class="title" style="clear: both">
                     <a id="sect_CC.3" shape="rect"></a>CC.3 UPS SOP Classes</h2>
               </div>
            </div>
         </div>
         <p>
            <a id="para_0cd129b6-2423-42ee-8375-228740df4d8e" shape="rect"></a>There are five UPS SOP Classes associated with the Unified Procedure Step IOD. Each SOP Class supports different interactions with a UPS Instance (also referred to as a worklist item).</p>
         <p>
            <a id="para_0ab50540-ccdb-495a-b34a-848b4488653b" shape="rect"></a>The UPS Push SOP Class allows SCU systems to:</p>
         <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; ">
               <li class="listitem">
                  <p>
                     <a id="para_03e3b8e4-fb57-4bf3-a3bb-aa7668319c20" shape="rect"></a>create (push) a new worklist item (i.e., instance) onto a worklist</p>
               </li>
               <li class="listitem">
                  <p>
                     <a id="para_850d26da-85f1-4b98-96e6-a84970883e41" shape="rect"></a>submit a cancellation request for a worklist item</p>
               </li>
            </ul>
         </div>
         <p>
            <a id="para_c776e4ad-6919-455c-a4ac-a9edc18a4e9d" shape="rect"></a>The UPS Pull SOP Class allows SCU systems to:</p>
         <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; ">
               <li class="listitem">
                  <p>
                     <a id="para_8e8ad6da-df1e-45b8-b725-1d52b762e50a" shape="rect"></a>query a worklist for matching items</p>
               </li>
               <li class="listitem">
                  <p>
                     <a id="para_914e0f30-8cb8-4952-8efa-da7ea23114df" shape="rect"></a>take responsibility for performing a worklist item</p>
               </li>
               <li class="listitem">
                  <p>
                     <a id="para_0e68f6c5-ee1b-447c-9147-12665cd0f6f1" shape="rect"></a>add/modify progress/status/result details for the worklist item</p>
               </li>
               <li class="listitem">
                  <p>
                     <a id="para_074778f1-f5c8-4150-88f0-f60292479788" shape="rect"></a>finalize a controlled worklist item as Completed or Canceled.</p>
               </li>
            </ul>
         </div>
         <p>
            <a id="para_3ab3d200-8db1-4d95-9bd4-1142f9f4f364" shape="rect"></a>The UPS Watch SOP Class allows SCU systems to:</p>
         <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; ">
               <li class="listitem">
                  <p>
                     <a id="para_580f18a3-ff5c-4f73-9b17-e653b9906ad8" shape="rect"></a>query for worklist items of interest</p>
               </li>
               <li class="listitem">
                  <p>
                     <a id="para_a798048a-c30d-465d-a8fd-4ca9a85defde" shape="rect"></a>subscribe/unsubscribe for event notifications of changes to a given worklist item</p>
               </li>
               <li class="listitem">
                  <p>
                     <a id="para_4282ed11-93a7-45a0-90c6-77257c6e9dd9" shape="rect"></a>subscribe/unsubscribe for event notifications of all worklist items</p>
               </li>
               <li class="listitem">
                  <p>
                     <a id="para_7c036a99-fb2b-4ce7-a56a-28188004513a" shape="rect"></a>get details for a given worklist item</p>
               </li>
               <li class="listitem">
                  <p>
                     <a id="para_ca711430-b09c-47b6-86d5-6a7464cdd104" shape="rect"></a>submit a cancellation request for a given worklist item</p>
               </li>
            </ul>
         </div>
         <p>
            <a id="para_c0911773-ec8b-4e81-9f03-971649f0dbd9" shape="rect"></a>The UPS Event SOP Class allows SCU systems to:</p>
         <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; ">
               <li class="listitem">
                  <p>
                     <a id="para_b4702f29-9725-4473-a141-b139a1beb2fa" shape="rect"></a>receive event notifications of changes to a worklist item</p>
               </li>
            </ul>
         </div>
         <p>
            <a id="para_875e53e7-c84d-4d1b-8941-dfdc45ff802a" shape="rect"></a>The UPS Query SOP Class allows SCU systems to:</p>
         <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; ">
               <li class="listitem">
                  <p>
                     <a id="para_46fd53e3-cc43-4c3d-a863-39c63a219890" shape="rect"></a>query a worklist for matching items</p>
               </li>
            </ul>
         </div>
         <p>
            <a id="para_16e42973-03e4-4125-a14e-bf0104e7f3bb" shape="rect"></a>The DICOM AEs that claim conformance to one or more of these SOP Classes shall support all services listed as "M" in the corresponding <a class="xref" href="sect_CC.2.html#table_CC.2-1" title="Table CC.2-1. DIMSE Service Group Applicable to UPS Push" shape="rect">Table CC.2-1</a>, <a class="xref" href="sect_CC.2.html#table_CC.2-2" title="Table CC.2-2. DIMSE Service Group Applicable to UPS Pull" shape="rect">Table CC.2-2</a>, <a class="xref" href="sect_CC.2.html#table_CC.2-3" title="Table CC.2-3. DIMSE Service Group Applicable to UPS Watch" shape="rect">Table CC.2-3</a>, <a class="xref" href="sect_CC.2.html#table_CC.2-4" title="Table CC.2-4. DIMSE Service Group Applicable to UPS Event" shape="rect">Table CC.2-4</a> and <a class="xref" href="sect_CC.2.html#table_CC.2-5" title="Table CC.2-5. DIMSE Service Group Applicable to UPS Query" shape="rect">Table CC.2-5</a>.</p>
         <div class="section">
            <div class="titlepage">
               <div>
                  <div>
                     <h3 class="title">
                        <a id="sect_CC.3.1" shape="rect"></a>CC.3.1 Service Class and SOP Class UIDs</h3>
                  </div>
               </div>
            </div>
            <p>
               <a id="para_1d6d0ccd-7a8b-4647-a60b-dfe40383bff8" shape="rect"></a>All UPS Instances shall be created with the value of SOP Class UID set to "1.2.840.10008.5.1.4.34.6.1" (i.e., that of the UPS Push SOP Class).</p>
            <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
               <h3 class="title">Note</h3>
               <p>
                  <a id="para_f1f85a99-92aa-4783-9e80-58df6c1533a7" shape="rect"></a>UPS Instances are all based on the Unified Procedure Step IOD and are all created either internally by the SCP, or in response to an N-CREATE issued as part of the UPS Push SOP Class.</p>
            </div>
            <p>
               <a id="para_494f9a06-e6dc-4e9c-b417-3d11e6766d63" shape="rect"></a>Once created, UPS instances may be operated on by DIMSE services from any of the UPS SOP Classes defined in the Unified Worklist and Procedure Step Service Class.</p>
            <p>
               <a id="para_a0dbfc3f-6732-45c8-b3b9-7385471185fe" shape="rect"></a>During association negotiation, the Abstract Syntax UID shall be the implemented SOP Class as shown in the following list:</p>
            <div class="itemizedlist">
               <ul class="itemizedlist" style="list-style-type: disc; ">
                  <li class="listitem">
                     <p>
                        <a id="para_edb6e157-ebd5-4a07-bd98-361b5becb462" shape="rect"></a>1.2.840.10008.5.1.4.34.6.1 (UPS Push SOP Class)</p>
                  </li>
                  <li class="listitem">
                     <p>
                        <a id="para_c4772817-a058-4021-9851-f4463685845d" shape="rect"></a>1.2.840.10008.5.1.4.34.6.2 (UPS Watch SOP Class)</p>
                  </li>
                  <li class="listitem">
                     <p>
                        <a id="para_f571a408-5905-4613-9856-81d741b71180" shape="rect"></a>1.2.840.10008.5.1.4.34.6.3 (UPS Pull SOP Class)</p>
                  </li>
                  <li class="listitem">
                     <p>
                        <a id="para_0519706e-cce4-4b34-8ef6-32f914e3eca0" shape="rect"></a>1.2.840.10008.5.1.4.34.6.4 (UPS Event SOP Class)</p>
                  </li>
                  <li class="listitem">
                     <p>
                        <a id="para_e5f98b0d-9a1d-412e-bcfb-59633cba4b75" shape="rect"></a>1.2.840.10008.5.1.4.34.6.5 (UPS Query SOP Class)</p>
                  </li>
               </ul>
            </div>
            <div class="section">
               <div class="titlepage">
                  <div>
                     <div>
                        <h4 class="title">
                           <a id="sect_CC.3.1.1" shape="rect"></a>CC.3.1.1 DIMSE Implications for UPS (Informative)</h4>
                     </div>
                  </div>
               </div>
               <p>
                  <a id="para_9c11daaf-82f4-4adb-aaa8-a0729b3df621" shape="rect"></a>A SOP Instance may be created with one SOP Class UID (UPS Push) and later DIMSE Services may refer to it over an association negotiated for a different SOP Class UID. Further details on this can be found in <a href="../part07/chapter_10.html" class="olink" shape="rect">Section 10 “DIMSE-N” in PS3.7</a>.</p>
               <p>
                  <a id="para_ca899ee5-c938-485a-9a08-390071611b16" shape="rect"></a>For DIMSE-N Services, the Affected SOP Class UID (0000,0002) or Requested SOP Class UID (0000,0003), when present, will be the UID of the UPS Push SOP Class regardless of the negotiated Abstract Syntax UID. The SCU and SCP will not reject DIMSE-N messages on the basis of the Affected/Requested SOP Class UID being that of the UPS Push SOP Class, rather than one of the other four SOP Class UIDs as listed in the Abstract Syntax UID during association negotiation. The SCU and SCP may reject the DIMSE-N messages if the instance is not a UPS Push SOP Class Instance.</p>
               <p>
                  <a id="para_b0959e8b-0324-4900-822a-765517981ac3" shape="rect"></a>For DIMSE-C Services (C-FIND), the Affected SOP Class UID will always match the negotiated Abstract Syntax UID for the Presentation Context under which the request is made. This will be UPS Watch, UPS Pull or UPS Query. All of these SOP Classes represent the UPS Information Model described in <a class="xref" href="sect_CC.2.8.html#sect_CC.2.8.1" title="CC.2.8.1 Operation" shape="rect">Section CC.2.8.1</a>.</p>
               <p>
                  <a id="para_05b9e8ca-8614-4fd8-bf63-e8996bf011c7" shape="rect"></a>For example, in a typical "Pull Workflow" message exchange, the C-FIND query from a "performing SCU" would use the UPS Pull SOP Class UID for both the negotiated Abstract Syntax UID and the Affected SOP Class UID (0000,0002), however the SOP Class UID (0008,0016) of the C-FIND responses themselves will be set to the UPS Push SOP Class UID by the SCP. All the subsequent N-ACTION, N-SET, and N-GET messages, would then use the UPS Pull SOP Class UID for the negotiated Abstract Syntax UID, and the UPS Push SOP Class UID for the Affected SOP Class UID (0000,0002).</p>
            </div>
            <div class="section">
               <div class="titlepage">
                  <div>
                     <div>
                        <h4 class="title">
                           <a id="sect_CC.3.1.2" shape="rect"></a>CC.3.1.2 Global Instance Subscription UID</h4>
                     </div>
                  </div>
               </div>
               <p>
                  <a id="para_2ff8fd4f-4928-4ae7-8cf5-cf01ac0a5999" shape="rect"></a>The well-known UID for subscribing/unsubscribing to events for all UPS Instances managed by an SCP shall have the value "1.2.840.10008.5.1.4.34.5".</p>
            </div>
         </div>
      </div>
      <div class="navfooter">
         <hr />
         <table width="100%" summary="Navigation footer">
            <tr>
               <td width="40%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_CC.2.8.4.html" shape="rect">Prev</a> </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="u" href="chapter_CC.html" shape="rect">Up</a>
               </td>
               <td width="40%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_CC.3.2.html" shape="rect">Next</a>
               </td>
            </tr>
            <tr>
               <td width="40%" align="left" valign="top" rowspan="1" colspan="1">CC.2.8.4 Status Codes </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="h" href="PS3.4.html" shape="rect">Home</a>
               </td>
               <td width="40%" align="right" valign="top" rowspan="1" colspan="1"> CC.3.2 Association Negotiation</td>
            </tr>
         </table>
      </div>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.4 2024b - Service Class Specifications</span>
            </th>
         </tr>
      </table>
   </body>
</html>
