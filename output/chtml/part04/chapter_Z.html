<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>Z Composite Instance Retrieve Without Bulk Data Service Class (Normative)</title>
      <link rel="stylesheet" type="text/css" href="dicom.css" />
      <meta name="generator" content="DocBook XSL Stylesheets V1.78.1" />
      <link rel="home" href="PS3.4.html" title="PS3.4" />
      <link rel="up" href="PS3.4.html" title="PS3.4" />
      <link rel="prev" href="sect_Y.6.html" title="Y.6 SOP Class Definitions" />
      <link rel="next" href="sect_Z.2.html" title="Z.2 Composite Instance Retrieve Without Bulk Data Information Model Definition" />
      <style type="text/css"><![CDATA[
	p { font-size: 15px; }
      ]]></style>
   </head>
   <body>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.4 2024c - Service Class Specifications</span>
            </th>
         </tr>
      </table>
      <div xmlns="" class="navheader">
         <table width="100%" summary="Navigation header">
            <tr>
               <th colspan="3" align="center" rowspan="1">Z Composite Instance Retrieve Without Bulk Data Service Class (Normative) <a accesskey="current" href="http://dicom.nema.org/medical/dicom/current/output/chtml/part04/chapter_Z.html" shape="rect">(Current)</a>
               </th>
            </tr>
            <tr>
               <td width="20%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_Y.6.html" shape="rect">Prev</a> </td>
               <th width="60%" align="center" rowspan="1" colspan="1"> </th>
               <td width="20%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_Z.2.html" shape="rect">Next</a>
               </td>
            </tr>
         </table>
         <hr />
      </div>
      <div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="breadcrumbs">
         <span class="breadcrumb-link">
            <a href="PS3.4.html" shape="rect">PS3.4</a>
         </span> &gt; <span class="breadcrumb-node">Composite Instance Retrieve Without Bulk Data Service Class (Normative)</span>
      </div>
      <div class="chapter">
         <div class="titlepage">
            <div>
               <div>
                  <h1 class="title">
                     <a id="chapter_Z" shape="rect"></a>Z Composite Instance Retrieve Without Bulk Data Service Class (Normative)</h1>
               </div>
            </div>
         </div>
         <div class="section">
            <div class="titlepage">
               <div>
                  <div>
                     <h2 class="title" style="clear: both">
                        <a id="sect_Z.1" shape="rect"></a>Z.1 Overview</h2>
                  </div>
               </div>
            </div>
            <div class="section">
               <div class="titlepage">
                  <div>
                     <div>
                        <h3 class="title">
                           <a id="sect_Z.1.1" shape="rect"></a>Z.1.1 Scope</h3>
                     </div>
                  </div>
               </div>
               <p>
                  <a id="para_cdbdcb1a-176d-49a8-8737-24fe4bbffc80" shape="rect"></a>Composite Instance Retrieve Without Bulk Data Service is a service within the DICOM Query/Retrieve Service class defined in <a class="xref" href="chapter_C.html" title="C Query/Retrieve Service Class (Normative)" shape="rect">Annex C</a>.The retrieve capability of this service allows a DICOM AE to retrieve Composite Instances without retrieving their pixel data or other potentially large Attributes as defined in <a class="xref" href="chapter_Z.html#sect_Z.1.3" title="Z.1.3 Attributes Not Included" shape="rect">Section Z.1.3</a>.</p>
               <p>
                  <a id="para_7f224792-5c46-4f17-b3eb-fe220a0446da" shape="rect"></a>The Enhanced Multi-Frame Image Conversion Extended Negotiation Option of the DICOM Query/Retrieve Service class defined in <a class="xref" href="chapter_C.html" title="C Query/Retrieve Service Class (Normative)" shape="rect">Annex C</a> is also supported for the Composite Instance Retrieve Without Bulk Data Service.</p>
            </div>
            <div class="section">
               <div class="titlepage">
                  <div>
                     <div>
                        <h3 class="title">
                           <a id="sect_Z.1.2" shape="rect"></a>Z.1.2 Composite Instance Retrieve Without Bulk Data Information Model</h3>
                     </div>
                  </div>
               </div>
               <p>
                  <a id="para_04fcb492-5058-42ab-827a-978889e22d95" shape="rect"></a>Retrievals are implemented against the Composite Instance Retrieve Without Bulk Data Information Model, as defined in this Annex of the DICOM Standard. A specific SOP Class of the Query/Retrieve Service Class consists of an Information Model Definition and a DIMSE-C Service Group.</p>
            </div>
            <div class="section">
               <div class="titlepage">
                  <div>
                     <div>
                        <h3 class="title">
                           <a id="sect_Z.1.3" shape="rect"></a>Z.1.3 Attributes Not Included</h3>
                     </div>
                  </div>
               </div>
               <p>
                  <a id="para_721b20f8-1e7c-4dbb-88f1-5be83d8431a8" shape="rect"></a>The Attributes that shall not be included in the top level of the Data set sent by an SCP of this Service are as defined in <a class="xref" href="chapter_Z.html#table_Z.1-1" title="Table Z.1-1. Attributes Not to Be Included in Instances Sent" shape="rect">Table Z.1-1</a>
                </p>
               <div class="table">
                  <a id="table_Z.1-1" shape="rect"></a>
                  <p class="title">
                     <strong>Table Z.1-1. Attributes Not to Be Included in Instances Sent</strong>
                  </p>
                  <div class="table-contents">
                     <table frame="box" rules="all">
                        <thead>
                           <tr valign="top">
                              <th align="center" rowspan="1" colspan="1">
                                <p>
                                    <a id="para_0de3c4ba-d49c-4850-9853-1dd698ad119a" shape="rect"></a>Attribute Name</p>
                              </th>
                              <th align="center" rowspan="1" colspan="1">
                                <p>
                                    <a id="para_10bed71d-07b8-4f8f-b19a-c9fce69a7edc" shape="rect"></a>Tag</p>
                              </th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                <p>
                                    <a id="para_98ef4ac5-49f1-484a-a013-0c5750714392" shape="rect"></a>Pixel Data</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                <p>
                                    <a id="para_3a92847c-026c-4725-9168-0364c8f51598" shape="rect"></a>(7FE0,0010)</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                <p>
                                    <a id="para_00e2938f-de16-45b4-b66f-4335fe237855" shape="rect"></a>Float Pixel Data</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                <p>
                                    <a id="para_7b756f40-bbb0-4315-b86e-c9cca7c2d17e" shape="rect"></a>(7FE0,0008)</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                <p>
                                    <a id="para_3372b55f-4932-44ee-9085-6585ed9dc2ab" shape="rect"></a>Double Float Pixel Data</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                <p>
                                    <a id="para_b2c013fc-e37d-46e9-bd77-a9715ef168cd" shape="rect"></a>(7FE0,0009)</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                <p>
                                    <a id="para_b79371c9-e824-4020-825c-ac88837865e5" shape="rect"></a>Pixel Data Provider URL</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                <p>
                                    <a id="para_60c0eafc-bff5-4a44-a32a-2208b9684c2e" shape="rect"></a>(0028,7FE0)</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                <p>
                                    <a id="para_484ee90f-5078-4dee-bd43-21eaae17458e" shape="rect"></a>Spectroscopy Data</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                <p>
                                    <a id="para_7f063ed1-882d-41d6-827c-3dc25de48dba" shape="rect"></a>(5600,0020)</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                <p>
                                    <a id="para_d9bf7699-7d81-4d58-89bb-675f107f2bc1" shape="rect"></a>Overlay Data</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                <p>
                                    <a id="para_9e22933b-3f03-4621-8b1d-0e5e566f8fe2" shape="rect"></a>(60xx,3000)</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                <p>
                                    <a id="para_6eb949bc-f822-48f7-9867-e61a1c4b70d3" shape="rect"></a>Curve Data</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                <p>
                                    <a id="para_08ea85e1-306f-4b9f-a446-1a13b213df7b" shape="rect"></a>(50xx,3000)</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                <p>
                                    <a id="para_dc955266-7dd7-47b7-ba28-902412e76ba7" shape="rect"></a>Audio Sample Data</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                <p>
                                    <a id="para_8bbbcefe-af55-4de7-a6cf-c7185036b70d" shape="rect"></a>(50xx,200C)</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                <p>
                                    <a id="para_710c8514-525d-4be4-9b0b-307342968284" shape="rect"></a>Encapsulated Document</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                <p>
                                    <a id="para_e2f7096f-6f08-4d56-96d3-1fcf0e9e58e6" shape="rect"></a>(0042,0011)</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
               </div>
               <br class="table-break" clear="none" />
               <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                  <h3 class="title">Note</h3>
                  <p>
                     <a id="para_5642b682-cd84-454d-81b8-427423f875eb" shape="rect"></a>This implies that the pixel data within Icon Image Sequence (0088,0200) Items will be preserved.</p>
               </div>
               <p>
                  <a id="para_20f1f0a6-9c9b-4043-9d45-ad79b6d65397" shape="rect"></a>The Waveform Data (5400,1010) Attribute shall not be included within the Waveform Sequence (5400,0100).</p>
               <p>
                  <a id="para_e6608230-2b59-4a93-af2e-f137d690db46" shape="rect"></a>Private Attributes may be preserved or discarded by a Storage SCP, as defined in <a class="xref" href="sect_B.4.html#sect_B.4.1" title="B.4.1 Conformance as an SCP" shape="rect">Section B.4.1</a>.
                    A Storage SCP that claims conformance to Storage Level 2 (Full) support of the Storage Service Class may choose to return Private Attributes in the Retrieve Without Bulk Data Service or not. Whether or not particular Private Attributes are returned shall be documented in the Conformance Statement.</p>
               <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                  <h3 class="title">Note</h3>
                  <p>
                     <a id="para_a63f7459-0088-4491-bd7a-5b3e126e5931" shape="rect"></a>The decision as to whether or not to return a particular Private Attribute may be dependent on its size.</p>
               </div>
            </div>
            <div class="section">
               <div class="titlepage">
                  <div>
                     <div>
                        <h3 class="title">
                           <a id="sect_Z.1.4" shape="rect"></a>Z.1.4 Service Definition</h3>
                     </div>
                  </div>
               </div>
               <p>
                  <a id="para_944d5d34-b25a-42c8-aae4-584a943daa00" shape="rect"></a>Two peer DICOM AEs implement a SOP Class of the Composite Instance Retrieve Without Bulk Data Service with one serving in the SCU role and one serving in the SCP role. SOP Classes of the Composite Instance Retrieve Without Bulk Data Service are implemented using the DIMSE-C C-GET service as defined in <a href="../part07/PS3.7.html" class="olink" shape="rect">PS3.7</a>.</p>
               <p>
                  <a id="para_6c9fa490-7993-4330-b3d7-6355c8001252" shape="rect"></a>The following descriptions of the DIMSE-C C-GET service provide a brief overview of the SCU/SCP semantics:</p>
               <div class="orderedlist">
                  <ol class="orderedlist" type="a">
                     <li class="listitem">
                        <p>
                           <a id="para_2c18c49b-c9db-4f56-a686-08355676c925" shape="rect"></a>A C-GET service conveys the following semantics:</p>
                        <div class="itemizedlist">
                           <ul class="itemizedlist" style="list-style-type: disc; ">
                              <li class="listitem">
                                 <p>
                                    <a id="para_cabf4e9e-f7fc-4e29-9156-585f8aaee1cd" shape="rect"></a>The SCP shall identify a set of Entities at the level of the retrieval based upon the values in the Unique Keys in the Identifier of the C-GET request. The SCP shall then generate C-STORE sub-operations for the corresponding storage SOP Instances, but shall not include Attributes as described in <a class="xref" href="chapter_Z.html#sect_Z.1.3" title="Z.1.3 Attributes Not Included" shape="rect">Section Z.1.3</a> in the data sent during those sub-operations. These C-STORE sub-operations occur on the same Association as the C-GET service and the SCU/SCP roles are reversed for the C-STORE.</p>
                                 <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                                    <h3 class="title">Note</h3>
                                    <p>
                                       <a id="para_abf903f0-df67-472b-8d81-6e0ceff61102" shape="rect"></a>If the source instance does not contain any of the Attributes described in <a class="xref" href="chapter_Z.html#sect_Z.1.3" title="Z.1.3 Attributes Not Included" shape="rect">Section Z.1.3</a> then, the version sent via the C-STORE sub-operation would be identical to the original data. This is not an error.</p>
                                 </div>
                              </li>
                              <li class="listitem">
                                 <p>
                                    <a id="para_e960d53b-a7ee-4f3f-b66e-c547403ce198" shape="rect"></a>The SCP may optionally generate responses to the C-GET with status equal to Pending during the processing of the C-STORE sub-operations. These C-GET responses indicate the number of remaining C-STORE sub-operations and the number of C-STORE sub-operations returning the status of Success, Warning, and Failed.</p>
                              </li>
                              <li class="listitem">
                                 <p>
                                    <a id="para_f82915d2-745a-4f84-99c2-b174d98cf34c" shape="rect"></a>When the number of Remaining C-STORE sub-operations reaches zero, the SCP generates a final response with a status equal to Success, Warning, Failed, or Refused. This response shall indicate the number of C-STORE sub-operations returning the status of Success, Warning, and Failed. If the status of any C-STORE sub-operation was Failed a UID List shall be returned.</p>
                              </li>
                              <li class="listitem">
                                 <p>
                                    <a id="para_09cccc83-2837-446f-b82b-721cf90506cb" shape="rect"></a>The SCU may cancel the C-GET service by issuing a C-CANCEL-GET request at any time during the processing of the C-GET. The SCP terminates all incomplete C-STORE sub-operations and returns a status of Canceled.</p>
                              </li>
                           </ul>
                        </div>
                     </li>
                  </ol>
               </div>
            </div>
         </div>
      </div>
      <div class="navfooter">
         <hr />
         <table width="100%" summary="Navigation footer">
            <tr>
               <td width="40%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_Y.6.html" shape="rect">Prev</a> </td>
               <td width="20%" align="center" rowspan="1" colspan="1"> </td>
               <td width="40%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_Z.2.html" shape="rect">Next</a>
               </td>
            </tr>
            <tr>
               <td width="40%" align="left" valign="top" rowspan="1" colspan="1">Y.6 SOP Class Definitions </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="h" href="PS3.4.html" shape="rect">Home</a>
               </td>
               <td width="40%" align="right" valign="top" rowspan="1" colspan="1"> Z.2 Composite Instance Retrieve Without Bulk Data Information Model Definition</td>
            </tr>
         </table>
      </div>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.4 2024c - Service Class Specifications</span>
            </th>
         </tr>
      </table>
   </body>
</html>
