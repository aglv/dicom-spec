<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>FF Volumetric Presentation State Storage SOP Classes (Normative)</title>
      <link rel="stylesheet" type="text/css" href="dicom.css" />
      <meta name="generator" content="DocBook XSL Stylesheets V1.78.1" />
      <link rel="home" href="PS3.4.html" title="PS3.4" />
      <link rel="up" href="PS3.4.html" title="PS3.4" />
      <link rel="prev" href="sect_EE.3.html" title="EE.3 Conformance" />
      <link rel="next" href="sect_FF.2.html" title="FF.2 Volume Transformation Processes" />
      <style type="text/css"><![CDATA[
	p { font-size: 15px; }
      ]]></style>
   </head>
   <body>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.4 - Service Class Specifications</span>
            </th>
         </tr>
      </table>
      <div xmlns="" class="navheader">
         <table width="100%" summary="Navigation header">
            <tr>
               <th colspan="3" align="center" rowspan="1">FF Volumetric Presentation State Storage SOP Classes (Normative) <a accesskey="current" href="http://dicom.nema.org/medical/dicom/current/output/chtml/part04/chapter_FF.html" shape="rect">(Current)</a>
               </th>
            </tr>
            <tr>
               <td width="20%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_EE.3.html" shape="rect">Prev</a> </td>
               <th width="60%" align="center" rowspan="1" colspan="1"> </th>
               <td width="20%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_FF.2.html" shape="rect">Next</a>
               </td>
            </tr>
         </table>
         <hr />
      </div>
      <div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="breadcrumbs">
         <span class="breadcrumb-link">
            <a href="PS3.4.html" shape="rect">PS3.4</a>
         </span> &gt; <span class="breadcrumb-node">Volumetric Presentation State Storage SOP Classes (Normative)</span>
      </div>
      <div class="chapter">
         <div class="titlepage">
            <div>
               <div>
                  <h1 class="title">
                     <a id="chapter_FF" shape="rect"></a>FF Volumetric Presentation State Storage SOP Classes (Normative)</h1>
               </div>
            </div>
         </div>
         <div class="section">
            <div class="titlepage">
               <div>
                  <div>
                     <h2 class="title" style="clear: both">
                        <a id="sect_FF.1" shape="rect"></a>FF.1 Overview</h2>
                  </div>
               </div>
            </div>
            <div class="section">
               <div class="titlepage">
                  <div>
                     <div>
                        <h3 class="title">
                           <a id="sect_FF.1.1" shape="rect"></a>FF.1.1 Scope</h3>
                     </div>
                  </div>
               </div>
               <p>
                  <a id="para_f920237a-7aff-43cf-a82b-877bde99c5a6" shape="rect"></a>The Volumetric Presentation State Storage SOP Classes extend the functionality of the Storage Service class (defined in <a class="xref" href="chapter_B.html" title="B Storage Service Class (Normative)" shape="rect">Annex B</a>) to add the ability to convey an intended Volumetric Presentation State or record an existing Volumetric Presentation State. The SOP Classes specify the information and behavior that may be used to present (display) images that are referenced from within the SOP Classes.</p>
               <p>
                  <a id="para_b414f65d-518b-4778-9977-564c2c052a13" shape="rect"></a>They include capabilities for specifying:</p>
               <div class="itemizedlist">
                  <ul class="itemizedlist" style="list-style-type: disc; ">
                     <li class="listitem">
                        <p>
                           <a id="para_16279edd-0948-4079-aa12-03bd7d4c9222" shape="rect"></a>spatial registration on the input datasets</p>
                     </li>
                     <li class="listitem">
                        <p>
                           <a id="para_cf263ecf-69b4-4545-a0ec-22dceb256503" shape="rect"></a>cropping of the volume datasets by a bounding box, oblique planes and segmentation objects</p>
                     </li>
                     <li class="listitem">
                        <p>
                           <a id="para_b14c5741-38e1-474d-a393-abf3bebacda0" shape="rect"></a>the generation geometry of volumetric views</p>
                     </li>
                     <li class="listitem">
                        <p>
                           <a id="para_03b7757b-9916-4224-85ff-781e9e6970c6" shape="rect"></a>shading models</p>
                     </li>
                     <li class="listitem">
                        <p>
                           <a id="para_ec2d9938-3cea-4492-93de-6c38b85bf388" shape="rect"></a>scalar to P-Value or RGB Value conversions</p>
                     </li>
                     <li class="listitem">
                        <p>
                           <a id="para_9685bce6-5303-47a7-bea4-abadb31a7810" shape="rect"></a>compositing of multiple MPR renderings</p>
                     </li>
                     <li class="listitem">
                        <p>
                           <a id="para_6cff3e81-7b18-49c5-9a00-84749e7428fd" shape="rect"></a>compositing of multiple volume streams and one volume stream with segmentation</p>
                     </li>
                     <li class="listitem">
                        <p>
                           <a id="para_56ca4076-7201-4cf1-b151-ecb7dfd2aeb0" shape="rect"></a>clinical description of the specified view</p>
                     </li>
                     <li class="listitem">
                        <p>
                           <a id="para_165dadf1-46e0-4276-8ff2-32a0fe138071" shape="rect"></a>volume and display relative annotations, including graphics, text and overlays plus optional references to structured content providing clinical context for annotations</p>
                     </li>
                     <li class="listitem">
                        <p>
                           <a id="para_13ae785d-c308-4335-ae0c-dcd9120eafdd" shape="rect"></a>membership to a collection of related Volumetric Presentation States intended to be processed or displayed together</p>
                     </li>
                     <li class="listitem">
                        <p>
                           <a id="para_9126b1e6-185a-4fef-93ca-e7e6f974c527" shape="rect"></a>the position within a set of sequentially related Volumetric Presentation States</p>
                     </li>
                     <li class="listitem">
                        <p>
                           <a id="para_a4d95270-ba95-4c56-989c-de5cf29b111a" shape="rect"></a>animation of the view</p>
                     </li>
                     <li class="listitem">
                        <p>
                           <a id="para_6ffeba06-2180-4d14-8e6a-4b257e9a2bda" shape="rect"></a>reference to an image depicting the view described by the Volumetric Presentation State</p>
                     </li>
                  </ul>
               </div>
               <p>
                  <a id="para_e8bff42f-c6fb-4dd4-8f22-4fea9be1e778" shape="rect"></a>Each Volumetric Presentation State corresponds to a single view (equivalent to an Image Box in a Hanging Protocol or Structured Display). If multiple Volumetric Presentation States are intended to be displayed together (e.g., a set of orthogonal MPR views) these Presentation States can be grouped by assigning them to a Display Collection. However, any detailed information about how a set of views should be presented can only be described by a Structured Display instance or a Hanging Protocol.</p>
               <p>
                  <a id="para_1db16453-e7eb-43fb-8528-42082550a0e6" shape="rect"></a>The Planar MPR Volumetric Presentation State refers to the multi-planar geometry and grayscale or color image transformations that are to be applied in an explicitly defined manner to convert the stored image pixel data values in a Composite Image Instance to presentation values (P-Values) or Profile Connection Space values (PCS-Values) when an image is displayed on a softcopy device.</p>
               <p>
                  <a id="para_2b906a2a-8e6d-486f-b5c8-096f3616d4fd" shape="rect"></a>The Volume Rendering Volumetric Presentation State specifies a volume rendered view of volume data. Volume Rendering is a data visualization method in which voxels (volume sample points) are assigned a color and an opacity (alpha), and a 2D view is created by accumulating a set of non-transparent samples along a ray through the volume behind each pixel of the view. Ray samples are calculated by interpolating the voxel values in the neighborhood of each sample.</p>
               <p>
                  <a id="para_fee39f52-91a5-4c48-a295-f38f17a8f39f" shape="rect"></a>Volume Rendering generally consists of a number of steps, many of which are parametrically specified in the Volume Rendering SOP Classes. The processing steps are:</p>
               <div class="itemizedlist">
                  <ul class="itemizedlist" style="list-style-type: disc; ">
                     <li class="listitem">
                        <p>
                           <a id="para_0c1c1892-98d2-41f5-ad85-1262201e63b7" shape="rect"></a>Segmentation, or separating the volume data into groups that will share a particular color palette. Segmentation objects are specified as cropping inputs to the Volumetric Presentation State.</p>
                     </li>
                     <li class="listitem">
                        <p>
                           <a id="para_3cf957a4-05ab-455d-9ef9-59e5fc22d5fd" shape="rect"></a>Gradient Computation, or finding edges or boundaries between different types of tissue in the volumetric data. The gradient computation method used is an implementation decision outside the scope of the Volumetric Presentation State.</p>
                     </li>
                     <li class="listitem">
                        <p>
                           <a id="para_b5fa3a0f-5ac5-47ce-8ba3-04fa7ea862d0" shape="rect"></a>Resampling of the volumetric data to create new samples along the imaginary ray behind each pixel in the output two-dimensional view, generally using some interpolation of the values of voxels in the neighborhood of the new sample. The interpolation method used is an implementation decision outside the scope of the Volumetric Presentation State.</p>
                     </li>
                     <li class="listitem">
                        <p>
                           <a id="para_c3c70f56-7d05-48d4-a114-4088f9b0ba21" shape="rect"></a>Classification of samples to assign a color and opacity to each sample.</p>
                     </li>
                     <li class="listitem">
                        <p>
                           <a id="para_37ff6fbb-18d9-48f4-bb33-1134bc68e4b1" shape="rect"></a>Shading or the application of a lighting model to samples indicating the effect of ambient, diffuse, and specular light on the sample.</p>
                     </li>
                     <li class="listitem">
                        <p>
                           <a id="para_db7f5c50-2ea3-41b6-9c07-6d4bf6edf5c7" shape="rect"></a>Compositing or the accumulation of samples on each ray into the final value of the pixel corresponding to that ray. The specific algorithms used are outside the scope of the Volumetric Presentation State.</p>
                     </li>
                     <li class="listitem">
                        <p>
                           <a id="para_236511c7-a032-4661-bbe1-a3d25476ecb9" shape="rect"></a>Conversion to presentation Profile Connection Space values (PCS-Values) when an image is displayed on a softcopy device.</p>
                     </li>
                  </ul>
               </div>
               <p>
                  <a id="para_7cc5ad39-376e-4e22-a8a7-acb5f131a553" shape="rect"></a>The result of applying a Volumetric Presentation State is not expected to be exactly reproducible on different systems. It is difficult to describe the display and rendering algorithms in enough detail in an interoperable manner such that a presentation produced at a later time is indistinguishable from that of the original presentation. While Volumetric Presentation States use established DICOM concepts of grayscale and color matching (GSDF and ICC color profiles) and provide a generic description of the different types of display algorithms possible, variations in algorithm implementations within display devices are inevitable and an exact match of volume presentation on multiple devices cannot be guaranteed. Nevertheless, reasonable consistency is provided by specification of inputs, geometric descriptions of spatial views, type of processing to be used, color mapping and blending, input fusion, and many
                    generic rendering parameters, producing what is expected to be a clinically acceptable result.</p>
               <p>
                  <a id="para_8744e9d6-d61a-48c5-804e-0ab0c83e150e" shape="rect"></a>The P-Values are in a device independent perceptually linear space that is formally defined in <a href="../part14/PS3.14.html" class="olink" shape="rect">PS3.14 Grayscale Standard Display Function</a>. The PCS-Values are in a device independent space that is formally defined in the ICC Profiles as CIEXYZ or CIELab values.</p>
               <p>
                  <a id="para_417292e5-8d0f-4aa4-b536-7698361713cf" shape="rect"></a>How an SCP of these SOP Classes chooses between multiple Presentation State instances that may apply to an image is beyond the scope of this Standard.</p>
               <p>
                  <a id="para_c597b301-390b-4b3c-9edc-6feb96d94abd" shape="rect"></a>A claim of conformance as an SCP of the SOP Class implies that the SCP shall make the Presentation State available to the user of the device, and if selected by the user, shall apply all the transformations stored in the state in the manner in which they are defined in the Standard.</p>
               <p>
                  <a id="para_81d4a14f-a48b-40bb-b995-e431fe6603f6" shape="rect"></a>How an SCP of these SOP Classes chooses to display multiple states that are part of a Display Collection is beyond the scope of this Standard.</p>
               <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                  <h3 class="title">Note</h3>
                  <p>
                     <a id="para_361a7bcd-8bfb-42da-a057-30dae7b0da00" shape="rect"></a>For example, if a user selects a state that is part of a four state Spatial Collection, an SCP may choose to display all four together, to display the single state selected by the user or to display two of the four states deemed appropriate by the SCP.</p>
               </div>
            </div>
         </div>
      </div>
      <div class="navfooter">
         <hr />
         <table width="100%" summary="Navigation footer">
            <tr>
               <td width="40%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_EE.3.html" shape="rect">Prev</a> </td>
               <td width="20%" align="center" rowspan="1" colspan="1"> </td>
               <td width="40%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_FF.2.html" shape="rect">Next</a>
               </td>
            </tr>
            <tr>
               <td width="40%" align="left" valign="top" rowspan="1" colspan="1">EE.3 Conformance </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="h" href="PS3.4.html" shape="rect">Home</a>
               </td>
               <td width="40%" align="right" valign="top" rowspan="1" colspan="1"> FF.2 Volume Transformation Processes</td>
            </tr>
         </table>
      </div>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.4 - Service Class Specifications</span>
            </th>
         </tr>
      </table>
   </body>
</html>
