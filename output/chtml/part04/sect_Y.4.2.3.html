<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>Y.4.2.3 C-GET SCP Behavior</title>
      <link rel="stylesheet" type="text/css" href="dicom.css" />
      <meta name="generator" content="DocBook XSL Stylesheets V1.78.1" />
      <link rel="home" href="PS3.4.html" title="PS3.4" />
      <link rel="up" href="sect_Y.4.2.html" title="Y.4.2 C-GET Operation" />
      <link rel="prev" href="sect_Y.4.2.2.2.html" title="Y.4.2.2.2 Extended Behavior of SCU" />
      <link rel="next" href="sect_Y.4.2.3.2.html" title="Y.4.2.3.2 Extended Behavior of SCP" />
      <style type="text/css"><![CDATA[
	p { font-size: 15px; }
      ]]></style>
   </head>
   <body>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.4 2024c - Service Class Specifications</span>
            </th>
         </tr>
      </table>
      <div xmlns="" class="navheader">
         <table width="100%" summary="Navigation header">
            <tr>
               <th colspan="3" align="center" rowspan="1">Y.4.2.3 C-GET SCP Behavior <a accesskey="current" href="http://dicom.nema.org/medical/dicom/current/output/chtml/part04/sect_Y.4.2.3.html" shape="rect">(Current)</a>
               </th>
            </tr>
            <tr>
               <td width="20%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_Y.4.2.2.2.html" shape="rect">Prev</a> </td>
               <th width="60%" align="center" rowspan="1" colspan="1">Y.4.2 C-GET Operation</th>
               <td width="20%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_Y.4.2.3.2.html" shape="rect">Next</a>
               </td>
            </tr>
         </table>
         <hr />
      </div>
      <div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="breadcrumbs">
         <span class="breadcrumb-link">
            <a href="PS3.4.html" shape="rect">PS3.4</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="chapter_Y.html" shape="rect">Composite Instance Root Retrieve Service Class (Normative)</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="sect_Y.4.html" shape="rect">DIMSE-C Service Groups</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="sect_Y.4.2.html" shape="rect">C-GET Operation</a>
         </span> &gt; <span class="breadcrumb-node">C-GET SCP Behavior</span>
      </div>
      <div class="section">
         <div class="titlepage">
            <div>
               <div>
                  <h4 class="title">
                     <a id="sect_Y.4.2.3" shape="rect"></a>Y.4.2.3 C-GET SCP Behavior</h4>
               </div>
            </div>
         </div>
         <div class="section">
            <div class="titlepage">
               <div>
                  <div>
                     <h5 class="title">
                        <a id="sect_Y.4.2.3.1" shape="rect"></a>Y.4.2.3.1 Baseline Behavior of SCP</h5>
                  </div>
               </div>
            </div>
            <p>
               <a id="para_0bb71333-e713-4a73-91b4-84f1e3581d00" shape="rect"></a>An SCP conveys the following semantics with a C-GET response:</p>
            <div class="itemizedlist">
               <ul class="itemizedlist" style="list-style-type: disc; ">
                  <li class="listitem">
                     <p>
                        <a id="para_07ee302a-d8c0-4c12-9ce9-374f53407e65" shape="rect"></a>If the Retrieve Level (0000,0052) is IMAGE the SCP shall identify a set of Entities at the level of the transfer based upon the values in the Unique Keys in the Identifier of the C-GET request.</p>
                  </li>
                  <li class="listitem">
                     <p>
                        <a id="para_9bec7441-426f-4891-92de-f31e5d35e7ae" shape="rect"></a>If the Retrieve Level (0000,0052) is FRAME, the SCP shall create a new Composite Instance according to the rules in <a class="xref" href="sect_Y.3.3.html" title="Y.3.3 New Instance Creation At the Frame Level" shape="rect">Section Y.3.3</a>. The newly created SOP Instance shall be treated in the same manner as the set of Entities identified above.</p>
                  </li>
                  <li class="listitem">
                     <p>
                        <a id="para_82533932-e089-41ed-877a-aa15ac8e9c85" shape="rect"></a>The SCP shall initiate C-STORE sub-operations for the identified or newly created SOP Instances. The SCP of the Query/Retrieve Service Class shall serve as an SCU of the Storage Service Class.</p>
                  </li>
                  <li class="listitem">
                     <p>
                        <a id="para_3dd0d4f1-14b6-4550-b598-b96f467faf12" shape="rect"></a>The SCP shall initiate C-STORE sub-operations over the same Association for all identified or newly created SOP Instances specified in the C-GET request.</p>
                  </li>
                  <li class="listitem">
                     <p>
                        <a id="para_f45b690e-6bfd-40db-afe6-3c15043f1577" shape="rect"></a>A sub-operation is considered a Failure if the SCP is required to create new SOP Instance, but is unable to do so due to inconsistencies in the Frame Range Keys, or if the resulting SOP Instance would not be valid.</p>
                  </li>
                  <li class="listitem">
                     <p>
                        <a id="para_f9134039-10e6-4d37-aaa9-14d2a029ea34" shape="rect"></a>A sub-operation is considered a Failure if the SCP is unable to initiate a C-STORE sub-operation because the Query/Retrieve SCU did not offer an appropriate presentation context for a given stored SOP Instance.</p>
                  </li>
                  <li class="listitem">
                     <p>
                        <a id="para_5674165d-bafb-442b-b34a-a53a135d8311" shape="rect"></a>Optionally, the SCP may generate responses to the C-GET with status equal to Pending during the processing of the C-STORE sub-operations. These responses shall indicate the number of Remaining, Completed, Failure, and Warning C-STORE sub-operations.</p>
                  </li>
                  <li class="listitem">
                     <p>
                        <a id="para_a4d03b40-bf6b-49a6-b853-6c261e14af47" shape="rect"></a>When the number of Remaining sub-operations reaches zero, the SCP shall generate a final response with a status equal to Success, Warning or Failed. The status contained in the C-GET response shall contain:</p>
                     <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; ">
                           <li class="listitem">
                              <p>
                                 <a id="para_e933a861-e431-4a42-88ba-067da6ef2cf0" shape="rect"></a>Success if all sub-operations were successfully completed</p>
                           </li>
                           <li class="listitem">
                              <p>
                                 <a id="para_e1778dbd-ef27-4c89-a171-8e35e9a34350" shape="rect"></a>Failure if all sub-operations were unsuccessful</p>
                           </li>
                           <li class="listitem">
                              <p>
                                 <a id="para_9f783899-f9fe-45d7-88af-f85b892ae5ae" shape="rect"></a>Warning in all other cases.</p>
                           </li>
                        </ul>
                     </div>
                  </li>
                  <li class="listitem">
                     <p>
                        <a id="para_ea749c76-c5e1-40c0-a38b-2c56cc065be6" shape="rect"></a>The SCP may receive a C-CANCEL-GET request at any time during the processing of the C-GET request. The SCP shall interrupt all C-STORE sub-operation processing and return a status of Canceled in the C-GET response. The C-GET response with a status of Canceled shall contain the number of Completed, Failed, and Warning C-STORE sub-operations. If present, the Remaining sub-operations count shall contain the number of C-STORE sub-operations that were not initiated due to the C-CANCEL-GET request.</p>
                  </li>
                  <li class="listitem">
                     <p>
                        <a id="para_6c3ad005-481e-4b83-9c6b-501466cf87c4" shape="rect"></a>If the SCP manages images in multiple alternate encodings (see <a class="xref" href="sect_C.6.html#sect_C.6.1.1.5.1" title="C.6.1.1.5.1 Alternate Representation Sequence" shape="rect">Section C.6.1.1.5.1</a>), only one of the alternate encodings of an image shall be used as the existing SOP Instance from which frames are to be extracted.</p>
                  </li>
               </ul>
            </div>
         </div>
      </div>
      <div class="navfooter">
         <hr />
         <table width="100%" summary="Navigation footer">
            <tr>
               <td width="40%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_Y.4.2.2.2.html" shape="rect">Prev</a> </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="u" href="sect_Y.4.2.html" shape="rect">Up</a>
               </td>
               <td width="40%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_Y.4.2.3.2.html" shape="rect">Next</a>
               </td>
            </tr>
            <tr>
               <td width="40%" align="left" valign="top" rowspan="1" colspan="1">Y.4.2.2.2 Extended Behavior of SCU </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="h" href="PS3.4.html" shape="rect">Home</a>
               </td>
               <td width="40%" align="right" valign="top" rowspan="1" colspan="1"> Y.4.2.3.2 Extended Behavior of SCP</td>
            </tr>
         </table>
      </div>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.4 2024c - Service Class Specifications</span>
            </th>
         </tr>
      </table>
   </body>
</html>
