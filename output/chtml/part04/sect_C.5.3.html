<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>C.5.3 Association Negotiation for C-GET SOP Classes</title>
      <link rel="stylesheet" type="text/css" href="dicom.css" />
      <meta name="generator" content="DocBook XSL Stylesheets V1.78.1" />
      <link rel="home" href="PS3.4.html" title="PS3.4" />
      <link rel="up" href="sect_C.5.html" title="C.5 Association Negotiation" />
      <link rel="prev" href="sect_C.5.2.html" title="C.5.2 Association Negotiation for C-MOVE SOP Classes" />
      <link rel="next" href="sect_C.6.html" title="C.6 SOP Class Definitions" />
      <style type="text/css"><![CDATA[
	p { font-size: 15px; }
      ]]></style>
   </head>
   <body>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.4 2024c - Service Class Specifications</span>
            </th>
         </tr>
      </table>
      <div xmlns="" class="navheader">
         <table width="100%" summary="Navigation header">
            <tr>
               <th colspan="3" align="center" rowspan="1">C.5.3 Association Negotiation for C-GET SOP Classes <a accesskey="current" href="http://dicom.nema.org/medical/dicom/current/output/chtml/part04/sect_C.5.3.html" shape="rect">(Current)</a>
               </th>
            </tr>
            <tr>
               <td width="20%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_C.5.2.html" shape="rect">Prev</a> </td>
               <th width="60%" align="center" rowspan="1" colspan="1">C.5 Association Negotiation</th>
               <td width="20%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_C.6.html" shape="rect">Next</a>
               </td>
            </tr>
         </table>
         <hr />
      </div>
      <div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="breadcrumbs">
         <span class="breadcrumb-link">
            <a href="PS3.4.html" shape="rect">PS3.4</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="chapter_C.html" shape="rect">Query/Retrieve Service Class (Normative)</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="sect_C.5.html" shape="rect">Association Negotiation</a>
         </span> &gt; <span class="breadcrumb-node">Association Negotiation for C-GET SOP Classes</span>
      </div>
      <div class="section">
         <div class="titlepage">
            <div>
               <div>
                  <h3 class="title">
                     <a id="sect_C.5.3" shape="rect"></a>C.5.3 Association Negotiation for C-GET SOP Classes</h3>
               </div>
            </div>
         </div>
         <p>
            <a id="para_fabf63d6-92d3-427c-8db7-d79b2c1a739b" shape="rect"></a>When an SCP performs the C-GET operation it induces a C-STORE operation for the purpose of transmitting composite SOP Instances for Storage. This induced C-STORE operation (called a sub-operation) requires a switch from the C-GET Presentation Context to a Presentation Context that supports the specific C-STORE sub-operation.</p>
         <p>
            <a id="para_3fcd7f0b-dcfa-4d98-a49d-42799508edcf" shape="rect"></a>The following negotiation rules apply to retrieval based DICOM Query/Retrieve SOP Classes and Specialized DICOM Query/Retrieve SOP Classes that include the C-GET operation.</p>
         <p>
            <a id="para_01b1a7a4-e5fa-4d22-ad1a-d88f21c4382d" shape="rect"></a>The Association-requestor (retrieve SCU role) in the A-ASSOCIATE request shall convey:</p>
         <div class="orderedlist">
            <ol class="orderedlist" type="a">
               <li class="listitem">
                  <p>
                     <a id="para_57477d82-d225-44f8-82e3-db12f2a6201b" shape="rect"></a>C-GET operation support with:</p>
                  <div class="itemizedlist">
                     <ul class="itemizedlist" style="list-style-type: disc; ">
                        <li class="listitem">
                           <p>
                              <a id="para_a92fa8ef-dc0e-479f-bac9-651c1458b8ed" shape="rect"></a>one Abstract Syntax, in a Presentation Context, for each SOP Class supported</p>
                        </li>
                        <li class="listitem">
                           <p>
                              <a id="para_4bfcf8f2-620a-4878-8611-e44277ecb978" shape="rect"></a>and optionally, one SOP Class Extended Negotiation Sub-Item, for each retrieval based SOP Class</p>
                        </li>
                     </ul>
                  </div>
               </li>
               <li class="listitem">
                  <p>
                     <a id="para_3313d03e-1398-41e7-a583-9e124864cedd" shape="rect"></a>Induced Storage sub-operation support where the SOP Class (in the retrieval SCU role) is acting as a Storage SOP Class in the SCP Role. See <a class="xref" href="sect_C.5.3.html#figure_C.5-1" title="Figure C.5-1. An Example of the Sub-Operation SCU/SCP Roles" shape="rect">Figure C.5-1</a>. For each supported Storage SOP Class, the A-ASSOCIATE request contains:</p>
                  <div class="itemizedlist">
                     <ul class="itemizedlist" style="list-style-type: disc; ">
                        <li class="listitem">
                           <p>
                              <a id="para_76ccd8f3-ce52-41e1-bf5d-d7aaf70ebd57" shape="rect"></a>one Abstract Syntax in a Presentation Context</p>
                        </li>
                        <li class="listitem">
                           <p>
                              <a id="para_1014db28-59cc-4f7b-b448-68e5f7d879f6" shape="rect"></a>one SCP/SCU Role Selection Negotiation Sub-Item with the SCP-role field set to indicate support of the SCP role. The SCP/SCU Role Selection Negotiation shall be used as defined in <a href="../part07/PS3.7.html" class="olink" shape="rect">PS3.7</a>.</p>
                        </li>
                     </ul>
                  </div>
               </li>
            </ol>
         </div>
         <p>
            <a id="para_39e45901-71db-4e21-b5d7-358c9cf93171" shape="rect"></a>
                    </p>
         <div class="figure">
            <a id="figure_C.5-1" shape="rect"></a>
            <div class="figure-contents">
               <div class="mediaobject">
                  <img src="figures/PS3.4_C.5-1.svg" alt="An Example of the Sub-Operation SCU/SCP Roles" />
               </div>
            </div>
            <p class="title">
               <strong>Figure C.5-1. An Example of the Sub-Operation SCU/SCP Roles</strong>
            </p>
         </div>
         <p>
            <br class="figure-break" clear="none" />
                </p>
         <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
            <h3 class="title">Note</h3>
            <p>
               <a id="para_1f340df8-8ea1-4df9-be3f-066564efbb45" shape="rect"></a>This negotiation does not place any requirements on the SCU-flag of the SCP/SCU Role Selection Negotiation Sub-Item. It may be set if the Association-requestor supports the Storage Service Class in the SCU role.</p>
         </div>
         <p>
            <a id="para_618dd5c4-0f77-4290-a36a-69d2c9316364" shape="rect"></a>The Association-acceptor (retrieve SCP role) in the A-ASSOCIATE response shall convey:</p>
         <div class="orderedlist">
            <ol class="orderedlist" type="a">
               <li class="listitem">
                  <p>
                     <a id="para_b8964a1d-15c8-4d7e-8a0b-4d1c34155e20" shape="rect"></a>C-GET operation support with:</p>
                  <div class="itemizedlist">
                     <ul class="itemizedlist" style="list-style-type: disc; ">
                        <li class="listitem">
                           <p>
                              <a id="para_b6821ae4-c09a-48d0-8c1f-2379d72f24b3" shape="rect"></a>one Abstract Syntax, in a Presentation Context, for each SOP Class supported</p>
                        </li>
                     </ul>
                  </div>
               </li>
               <li class="listitem">
                  <p>
                     <a id="para_97a2407f-662a-4959-8c84-73e74c2aca9e" shape="rect"></a>Induced Storage sub-operation support where the SOP Class (using the retrieval SCP role) is acting as a Storage SOP Class in the SCU Role. See <a class="xref" href="sect_C.5.3.html#figure_C.5-1" title="Figure C.5-1. An Example of the Sub-Operation SCU/SCP Roles" shape="rect">Figure C.5-1</a>. For each supported Storage SOP Class, the A-ASSOCIATE response contains both:</p>
                  <div class="itemizedlist">
                     <ul class="itemizedlist" style="list-style-type: disc; ">
                        <li class="listitem">
                           <p>
                              <a id="para_ad883eff-a541-416c-934c-a9c15422e29e" shape="rect"></a>one Abstract Syntax, in a Presentation Context</p>
                        </li>
                        <li class="listitem">
                           <p>
                              <a id="para_984bae67-884f-47a9-ab09-fb5910bd4b13" shape="rect"></a>one SCP/SCU Role Selection Negotiation Sub-Item with the SCP-role field set to indicate the acceptance of the Association-requestor's support of the SCP role. The SCP/SCU Role Selection Negotiation shall be used as defined in <a href="../part07/PS3.7.html" class="olink" shape="rect">PS3.7</a>.</p>
                        </li>
                     </ul>
                  </div>
               </li>
            </ol>
         </div>
         <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
            <h3 class="title">Note</h3>
            <p>
               <a id="para_c359ec61-6431-4ba7-82eb-d68ad6fe6d9c" shape="rect"></a>The negotiation does not place any requirements on the SCU-flag of the SCP/SCU Role Selection Negotiation Sub-Item. It may be set if the Association-acceptor accepts the Storage SCP role. <a class="xref" href="sect_C.5.3.html#figure_C.5-2" title="Figure C.5-2. An Example of the Retrieve (C-GET) Negotiation" shape="rect">Figure C.5-2</a> illustrates an example of the retrieve (C-GET) negotiation.</p>
         </div>
         <p>
            <a id="para_bf966250-9af6-45d1-87b2-0d2f7d6e8d5d" shape="rect"></a>
                    <a class="xref" href="sect_C.5.3.html#figure_C.5-2" title="Figure C.5-2. An Example of the Retrieve (C-GET) Negotiation" shape="rect">Figure C.5-2</a> illustrates an example of the retrieve (C-GET) negotiation.</p>
         <div class="section">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title">
                        <a id="sect_C.5.3.1" shape="rect"></a>C.5.3.1 SOP Class Extended Negotiation</h4>
                  </div>
               </div>
            </div>
            <p>
               <a id="para_c7b12b26-3226-4648-ae4a-0e7af808093f" shape="rect"></a>The SOP Class Extended Negotiation allows, at Association establishment, peer DICOM AEs to exchange application Association information defined by specific SOP Classes.</p>
            <p>
               <a id="para_71c055b7-e31e-43ca-828a-43557a511804" shape="rect"></a>This is achieved by defining the Service-class-application-information field. The Service-class-application-information field is used to define support for relational-retrievals and alternative views for Enhanced Multi-Frame Image Conversion.</p>
            <p>
               <a id="para_e6765f05-4f0e-4a80-a080-d3524f5cdbb0" shape="rect"></a>
                        </p>
            <div class="figure">
               <a id="figure_C.5-2" shape="rect"></a>
               <div class="figure-contents">
                  <div class="mediaobject">
                     <img src="figures/PS3.4_C.5-2.svg" alt="An Example of the Retrieve (C-GET) Negotiation" />
                  </div>
               </div>
               <p class="title">
                  <strong>Figure C.5-2. An Example of the Retrieve (C-GET) Negotiation</strong>
               </p>
            </div>
            <p>
               <br class="figure-break" clear="none" />
                    </p>
            <p>
               <a id="para_98d19673-6106-44f9-a62d-ebd192fdcfe8" shape="rect"></a>Extended Negotiation for SOP Classes based on the retrieval services that include C-GET operations is identical to the negotiation defined for C-MOVE, which is defined in <a class="xref" href="sect_C.5.2.html#sect_C.5.2.1" title="C.5.2.1 SOP Class Extended Negotiation" shape="rect">Section C.5.2.1</a> of this Annex.</p>
            <p>
               <a id="para_8e8db255-be5f-4228-aeab-a71ba3268ed5" shape="rect"></a>Extended Negotiation for the SOP Classes of the Storage Service Class (for the C-STORE sub-operation) is defined in <a class="xref" href="chapter_B.html" title="B Storage Service Class (Normative)" shape="rect">Annex B</a>.</p>
         </div>
      </div>
      <div class="navfooter">
         <hr />
         <table width="100%" summary="Navigation footer">
            <tr>
               <td width="40%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_C.5.2.html" shape="rect">Prev</a> </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="u" href="sect_C.5.html" shape="rect">Up</a>
               </td>
               <td width="40%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_C.6.html" shape="rect">Next</a>
               </td>
            </tr>
            <tr>
               <td width="40%" align="left" valign="top" rowspan="1" colspan="1">C.5.2 Association Negotiation for C-MOVE SOP Classes </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="h" href="PS3.4.html" shape="rect">Home</a>
               </td>
               <td width="40%" align="right" valign="top" rowspan="1" colspan="1"> C.6 SOP Class Definitions</td>
            </tr>
         </table>
      </div>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.4 2024c - Service Class Specifications</span>
            </th>
         </tr>
      </table>
   </body>
</html>
