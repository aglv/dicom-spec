<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>C.4.2.3 C-MOVE SCP Behavior</title>
      <link rel="stylesheet" type="text/css" href="dicom.css" />
      <meta name="generator" content="DocBook XSL Stylesheets V1.78.1" />
      <link rel="home" href="PS3.4.html" title="PS3.4" />
      <link rel="up" href="sect_C.4.2.html" title="C.4.2 C-MOVE Operation" />
      <link rel="prev" href="sect_C.4.2.2.2.html" title="C.4.2.2.2 Extended Behavior of SCU" />
      <link rel="next" href="sect_C.4.2.3.2.html" title="C.4.2.3.2 Extended Behavior of SCP" />
      <style type="text/css"><![CDATA[
	p { font-size: 15px; }
      ]]></style>
   </head>
   <body>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.4 2024a - Service Class Specifications</span>
            </th>
         </tr>
      </table>
      <div xmlns="" class="navheader">
         <table width="100%" summary="Navigation header">
            <tr>
               <th colspan="3" align="center" rowspan="1">C.4.2.3 C-MOVE SCP Behavior <a accesskey="current" href="http://dicom.nema.org/medical/dicom/current/output/chtml/part04/sect_C.4.2.3.html" shape="rect">(Current)</a>
               </th>
            </tr>
            <tr>
               <td width="20%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_C.4.2.2.2.html" shape="rect">Prev</a> </td>
               <th width="60%" align="center" rowspan="1" colspan="1">C.4.2 C-MOVE Operation</th>
               <td width="20%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_C.4.2.3.2.html" shape="rect">Next</a>
               </td>
            </tr>
         </table>
         <hr />
      </div>
      <div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="breadcrumbs">
         <span class="breadcrumb-link">
            <a href="PS3.4.html" shape="rect">PS3.4</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="chapter_C.html" shape="rect">Query/Retrieve Service Class (Normative)</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="sect_C.4.html" shape="rect">DIMSE-C Service Groups</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="sect_C.4.2.html" shape="rect">C-MOVE Operation</a>
         </span> &gt; <span class="breadcrumb-node">C-MOVE SCP Behavior</span>
      </div>
      <div class="section">
         <div class="titlepage">
            <div>
               <div>
                  <h4 class="title">
                     <a id="sect_C.4.2.3" shape="rect"></a>C.4.2.3 C-MOVE SCP Behavior</h4>
               </div>
            </div>
         </div>
         <p>
            <a id="para_f4dd112c-5f5f-47a2-afde-d7027b3bd8dd" shape="rect"></a>This section discusses both the baseline and extended behavior of the C-MOVE SCP.</p>
         <div class="section">
            <div class="titlepage">
               <div>
                  <div>
                     <h5 class="title">
                        <a id="sect_C.4.2.3.1" shape="rect"></a>C.4.2.3.1 Baseline Behavior of SCP</h5>
                  </div>
               </div>
            </div>
            <p>
               <a id="para_1fec44fc-6e2b-4ecc-ade7-f0d44685b86d" shape="rect"></a>An SCP conveys the following semantics with a C-MOVE response:</p>
            <div class="itemizedlist">
               <ul class="itemizedlist" style="list-style-type: disc; ">
                  <li class="listitem">
                     <p>
                        <a id="para_18b37ee1-1831-41c7-a188-3fb911a509b1" shape="rect"></a>The SCP shall identify a set of Entities at the level of the transfer based upon the values in the Unique Keys in the Identifier of the C-MOVE request. The SCP shall initiate C-STORE sub-operations for the corresponding storage SOP Instances. These C-STORE sub-operations shall occur on a different Association (that may already exist) from the C-MOVE operation. The SCP of the Query/Retrieve Service Class shall serve as an SCU of the Storage Service Class.</p>
                  </li>
                  <li class="listitem">
                     <p>
                        <a id="para_4172d250-662a-4bfd-b2e1-d125bc08efea" shape="rect"></a>The SCP shall either reuse an established and compatible Association or establish a new Association for the C-STORE sub-operations. The SCP shall initiate C-STORE sub-operations over that Association for all stored SOP Instances related to the Patient ID, List of Study Instance UIDs, List of Series Instance UIDs, or List of SOP Instance UIDs depending on the Query/Retrieve level specified in the C-MOVE request. A sub-operation is considered Failed if the SCP is unable to negotiate an appropriate presentation context for a given stored SOP Instance.</p>
                  </li>
                  <li class="listitem">
                     <p>
                        <a id="para_cac054fc-24ce-4be4-b4b7-a52bb2534069" shape="rect"></a>Optionally, the SCP may generate responses to the C-MOVE with status equal to Pending during the processing of the C-STORE sub-operations. These responses shall indicate the Remaining, Completed, Failed, and Warning C-STORE sub-operations.</p>
                  </li>
                  <li class="listitem">
                     <p>
                        <a id="para_a53b41b0-808f-4299-9c37-d3d482e913ff" shape="rect"></a>When the number of Remaining sub-operations reaches zero, the SCP shall generate a final response with a status equal to Success, Warning, Failure, or Refused. This response shall indicate the number of Completed sub-operations, the number of Failed sub-operations, and the number of sub-operations with Warning Status. The status contained in the C-MOVE response shall contain:</p>
                     <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; ">
                           <li class="listitem">
                              <p>
                                 <a id="para_b2128ff9-31c7-4b81-8049-9d2dfbed8bc5" shape="rect"></a>Success if all sub-operations were successfully completed</p>
                           </li>
                           <li class="listitem">
                              <p>
                                 <a id="para_43220804-7f25-41d0-a94f-65e8d2b820f6" shape="rect"></a>Warning if one or more sub-operations were successfully completed and one or more sub-operations were unsuccessful or had a warning status</p>
                           </li>
                           <li class="listitem">
                              <p>
                                 <a id="para_2d80dd38-c791-4e47-aa06-f5ae9060a405" shape="rect"></a>Warning if all sub-operations had a warning status</p>
                           </li>
                           <li class="listitem">
                              <p>
                                 <a id="para_2b76e83a-e17a-46e8-9fda-dea699047b45" shape="rect"></a>Failure or Refused if all sub-operations were unsuccessful</p>
                           </li>
                        </ul>
                     </div>
                  </li>
                  <li class="listitem">
                     <p>
                        <a id="para_879448cd-8934-495d-a52f-0b789303afba" shape="rect"></a>The SCP may receive a C-CANCEL-MOVE request at any time during the processing of the C-MOVE. The SCP shall interrupt all C-STORE sub-operation processing and return a status of Canceled in the C-MOVE response. The C-MOVE response with a status of Canceled shall contain the number of Completed, Failed, and Warning C-STORE sub-operations. If present, the Remaining sub-operations count shall contain the number of C-STORE sub-operations that were not initiated due to the C-CANCEL-MOVE request.</p>
                  </li>
                  <li class="listitem">
                     <p>
                        <a id="para_6b387f78-a382-4ebe-8fa8-44318c0d2982" shape="rect"></a>If the SCP manages images in multiple alternate encodings (see <a class="xref" href="sect_C.6.html#sect_C.6.1.1.5.1" title="C.6.1.1.5.1 Alternate Representation Sequence" shape="rect">Section C.6.1.1.5.1</a>), only one of the alternate encodings of an image shall be included in the set of object instances retrieved by a C-MOVE request at the Patient, Study, or Series level.</p>
                     <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                        <h3 class="title">Note</h3>
                        <p>
                           <a id="para_feb80356-94df-4126-ac7a-bd28d3b952ef" shape="rect"></a>For retrieval of images with alternate encodings using a C-MOVE request at the Patient, Study, or Series level, the SCP may select the appropriately encoded Instance for the retrieval based on identity of the SCU, transfer syntaxes accepted in the C-STORE Association Negotiation, or other factors.</p>
                     </div>
                  </li>
               </ul>
            </div>
            <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
               <h3 class="title">Note</h3>
               <p>
                  <a id="para_c1f25af0-66ba-42ce-975f-3eac368d06fb" shape="rect"></a>If the association on which the C-MOVE operation was issued is abnormally terminated, then it will not be possible to issue any further pending responses nor a final response, nor will C-CANCEL-MOVE requests be received. The behavior of the C-MOVE SCP acting as a C-STORE SCU is undefined in this condition. Specifically, whether or not any uncompleted C-STORE sub-operations continue is undefined.</p>
            </div>
         </div>
      </div>
      <div class="navfooter">
         <hr />
         <table width="100%" summary="Navigation footer">
            <tr>
               <td width="40%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_C.4.2.2.2.html" shape="rect">Prev</a> </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="u" href="sect_C.4.2.html" shape="rect">Up</a>
               </td>
               <td width="40%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_C.4.2.3.2.html" shape="rect">Next</a>
               </td>
            </tr>
            <tr>
               <td width="40%" align="left" valign="top" rowspan="1" colspan="1">C.4.2.2.2 Extended Behavior of SCU </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="h" href="PS3.4.html" shape="rect">Home</a>
               </td>
               <td width="40%" align="right" valign="top" rowspan="1" colspan="1"> C.4.2.3.2 Extended Behavior of SCP</td>
            </tr>
         </table>
      </div>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.4 2024a - Service Class Specifications</span>
            </th>
         </tr>
      </table>
   </body>
</html>
