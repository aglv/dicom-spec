<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>K.4 DIMSE-C Service Group</title>
      <link rel="stylesheet" type="text/css" href="dicom.css" />
      <meta name="generator" content="DocBook XSL Stylesheets V1.78.1" />
      <link rel="home" href="PS3.4.html" title="PS3.4" />
      <link rel="up" href="chapter_K.html" title="K Basic Worklist Management Service Class (Normative)" />
      <link rel="prev" href="sect_K.3.html" title="K.3 Worklist Information Model" />
      <link rel="next" href="sect_K.5.html" title="K.5 Association Negotiation" />
      <style type="text/css"><![CDATA[
	p { font-size: 15px; }
      ]]></style>
   </head>
   <body>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.4 2024b - Service Class Specifications</span>
            </th>
         </tr>
      </table>
      <div xmlns="" class="navheader">
         <table width="100%" summary="Navigation header">
            <tr>
               <th colspan="3" align="center" rowspan="1">K.4 DIMSE-C Service Group <a accesskey="current" href="http://dicom.nema.org/medical/dicom/current/output/chtml/part04/sect_K.4.html" shape="rect">(Current)</a>
               </th>
            </tr>
            <tr>
               <td width="20%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_K.3.html" shape="rect">Prev</a> </td>
               <th width="60%" align="center" rowspan="1" colspan="1">K Basic Worklist Management Service Class (Normative)</th>
               <td width="20%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_K.5.html" shape="rect">Next</a>
               </td>
            </tr>
         </table>
         <hr />
      </div>
      <div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="breadcrumbs">
         <span class="breadcrumb-link">
            <a href="PS3.4.html" shape="rect">PS3.4</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="chapter_K.html" shape="rect">Basic Worklist Management Service Class (Normative)</a>
         </span> &gt; <span class="breadcrumb-node">DIMSE-C Service Group</span>
      </div>
      <div class="section">
         <div class="titlepage">
            <div>
               <div>
                  <h2 class="title" style="clear: both">
                     <a id="sect_K.4" shape="rect"></a>K.4 DIMSE-C Service Group</h2>
               </div>
            </div>
         </div>
         <p>
            <a id="para_98f3d5a0-2ba4-47f6-8afb-b9beef5b816b" shape="rect"></a>One DIMSE-C Service is used in the construction of SOP Classes of the Basic Worklist Management Service Class. The following DIMSE-C operation is used.</p>
         <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; ">
               <li class="listitem">
                  <p>
                     <a id="para_7d87867d-27a7-4606-8634-53a37d06d93a" shape="rect"></a>C-FIND</p>
               </li>
            </ul>
         </div>
         <div class="section">
            <div class="titlepage">
               <div>
                  <div>
                     <h3 class="title">
                        <a id="sect_K.4.1" shape="rect"></a>K.4.1 C-FIND Operation</h3>
                  </div>
               </div>
            </div>
            <p>
               <a id="para_2a6174f0-4d61-4649-8954-92bd755ea9c7" shape="rect"></a>SCPs of some SOP Classes of the Basic Worklist Management Service Class are capable of processing queries using the C-FIND operation as described in <a href="../part07/PS3.7.html" class="olink" shape="rect">PS3.7</a>. The C-FIND operation is the mechanism by which queries are performed. Matches against the keys present in the Identifier are returned in C-FIND responses.</p>
            <div class="section">
               <div class="titlepage">
                  <div>
                     <div>
                        <h4 class="title">
                           <a id="sect_K.4.1.1" shape="rect"></a>K.4.1.1 C-FIND Service Parameters</h4>
                     </div>
                  </div>
               </div>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h5 class="title">
                              <a id="sect_K.4.1.1.1" shape="rect"></a>K.4.1.1.1 SOP Class UID</h5>
                        </div>
                     </div>
                  </div>
                  <p>
                     <a id="para_0c4c500f-6aa1-48c8-8b84-1cf84274cd04" shape="rect"></a>The SOP Class UID identifies the Worklist Information Model against which the C-FIND is to be performed. Support for the SOP Class UID is implied by the Abstract Syntax UID of the Presentation Context used by this C-FIND operation.</p>
               </div>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h5 class="title">
                              <a id="sect_K.4.1.1.2" shape="rect"></a>K.4.1.1.2 Priority</h5>
                        </div>
                     </div>
                  </div>
                  <p>
                     <a id="para_98c1baae-be0f-4762-a6fd-de8ce527153f" shape="rect"></a>The Priority Attribute defines the requested priority of the C-FIND operation with respect to other DIMSE operations being performed by the same SCP.</p>
                  <p>
                     <a id="para_1a4dee3c-5362-465b-924d-981ff917db3c" shape="rect"></a>Processing of priority requests is not required of SCPs. Whether or not an SCP supports priority processing and the meaning of the different priority levels shall be stated in the Conformance Statement of the SCP.</p>
               </div>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h5 class="title">
                              <a id="sect_K.4.1.1.3" shape="rect"></a>K.4.1.1.3 Identifier</h5>
                        </div>
                     </div>
                  </div>
                  <p>
                     <a id="para_cacc0d93-08e4-4860-820c-5fa36b608e06" shape="rect"></a>Both the C-FIND request and response contain an Identifier encoded as a Data Set (see <a href="../part05/PS3.5.html" class="olink" shape="rect">PS3.5</a>).</p>
                  <div class="section">
                     <div class="titlepage">
                        <div>
                           <div>
                              <h6 class="title">
                                 <a id="sect_K.4.1.1.3.1" shape="rect"></a>K.4.1.1.3.1 Request Identifier Structure</h6>
                           </div>
                        </div>
                     </div>
                     <p>
                        <a id="para_51bf30ff-0a79-4442-8e4f-11ff55dde258" shape="rect"></a>An Identifier in a C-FIND request shall contain</p>
                     <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: disc; ">
                           <li class="listitem">
                              <p>
                                 <a id="para_c35a0b29-a090-45eb-a076-5e0e2ef1ad2a" shape="rect"></a>Key Attributes values to be matched against the values of Attributes specified in that SOP Class.</p>
                           </li>
                           <li class="listitem">
                              <p>
                                 <a id="para_0857887d-151a-47cb-abe2-5c43c2897b96" shape="rect"></a>Conditionally, the Attribute Specific Character Set (0008,0005). This Attribute shall be included if expanded or replacement character sets may be used in any of the Attributes in the Request Identifier. It shall not be included otherwise.</p>
                              <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                                 <h3 class="title">Note</h3>
                                 <p>
                                    <a id="para_9fd9431f-9b96-4683-99e8-63357fa26794" shape="rect"></a>This means that Specific Character Set (0008,0005) is included if the SCU supports expanded or replacement character sets in the context of this service. It will not be included if expanded or replacement character sets are not supported by the SCU.</p>
                              </div>
                           </li>
                           <li class="listitem">
                              <p>
                                 <a id="para_19dc5f6c-e3e8-47fa-b829-8ab5de0ad8c2" shape="rect"></a>Conditionally, the Attribute Timezone Offset From UTC (0008,0201). This Attribute shall be included if Key Attributes of time are to be interpreted explicitly in the designated local time zone. It shall not be present otherwise, i.e., it shall not be sent with a zero-length value.</p>
                           </li>
                        </ul>
                     </div>
                     <p>
                        <a id="para_2580c377-1385-4baa-9a68-53c724207451" shape="rect"></a>The Key Attributes and values allowable for the query shall be defined in the SOP Class definition for the corresponding Worklist Information Model.</p>
                  </div>
                  <div class="section">
                     <div class="titlepage">
                        <div>
                           <div>
                              <h6 class="title">
                                 <a id="sect_K.4.1.1.3.2" shape="rect"></a>K.4.1.1.3.2 Response Identifier Structure</h6>
                           </div>
                        </div>
                     </div>
                     <p>
                        <a id="para_f13425a9-8fa0-4ddf-9e56-03835c9f0bea" shape="rect"></a>The C-FIND response shall not contain Attributes that were not in the request or specified in this section.</p>
                     <p>
                        <a id="para_7582c0a5-27e2-4e9f-bd4e-86305ccf5951" shape="rect"></a>An Identifier in a C-FIND response shall contain:</p>
                     <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: disc; ">
                           <li class="listitem">
                              <p>
                                 <a id="para_b91e9988-e09e-4edb-ac54-9c7f7ecb26eb" shape="rect"></a>Key Attributes with values corresponding to Key Attributes contained in the Identifier of the request (Key Attributes as defined in <a class="xref" href="sect_K.2.2.html#sect_K.2.2.1" title="K.2.2.1 Attribute Types" shape="rect">Section K.2.2.1</a>.)</p>
                           </li>
                           <li class="listitem">
                              <p>
                                 <a id="para_a1b5714c-9328-4175-b89c-c41e71b80e16" shape="rect"></a>Conditionally, the Attribute Specific Character Set (0008,0005). This Attribute shall be included if expanded or replacement character sets may be used in any of the Attributes in the Response Identifier. It shall not be included otherwise. The C-FIND SCP is not required to return responses in the Specific Character Set requested by the SCU if that character set is not supported by the SCP. The SCP may return responses with a different Specific Character Set.</p>
                              <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                                 <h3 class="title">Note</h3>
                                 <p>
                                    <a id="para_25dc4b79-80d8-4fed-adad-6fc078a18ed0" shape="rect"></a>This means that Specific Character Set (0008,0005) is included if the SCP supports expanded or replacement character sets in the context of this service. It will not be included if expanded or replacement character sets are not supported by the SCP.</p>
                              </div>
                           </li>
                           <li class="listitem">
                              <p>
                                 <a id="para_a2018ba8-601a-4da4-b01c-8a6e9783f693" shape="rect"></a>Conditionally, the Attribute Timezone Offset From UTC (0008,0201). This Attribute shall be included if any Attributes of time in the Response Identifier are to be interpreted explicitly in the designated local time zone. It shall not be present otherwise, i.e., it shall not be sent with a zero-length value.</p>
                           </li>
                           <li class="listitem">
                              <p>
                                 <a id="para_2e1333d3-e8ee-4be1-8c2d-cd6a8b355cd2" shape="rect"></a>Conditionally, the Attribute HL7 Structured Document Reference Sequence (0040,A390) and its subsidiary Sequence Items. This Attribute shall be included if HL7 Structured Documents are referenced within the Identifier, e.g., in the Pertinent Documents Sequence (0038,0100).</p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h5 class="title">
                              <a id="sect_K.4.1.1.4" shape="rect"></a>K.4.1.1.4 Status</h5>
                        </div>
                     </div>
                  </div>
                  <p>
                     <a id="para_727e7050-e6fd-48df-84cb-865ba44b8dca" shape="rect"></a>
                            <a class="xref" href="sect_K.4.html#table_K.4-1" title="Table K.4-1. C-FIND Response Status Values" shape="rect">Table K.4-1</a> defines the Status Code values that might be returned in a C-FIND response. General Status Code values and fields related to Status Code values are defined for C-FIND DIMSE Service in <a href="../part07/PS3.7.html" class="olink" shape="rect">PS3.7</a>.</p>
                  <div class="table">
                     <a id="table_K.4-1" shape="rect"></a>
                     <p class="title">
                        <strong>Table K.4-1. C-FIND Response Status Values</strong>
                     </p>
                     <div class="table-contents">
                        <table frame="box" rules="all">
                           <thead>
                              <tr valign="top">
                                 <th align="center" rowspan="1" colspan="1">
                                        <p>
                                       <a id="para_bb42f907-f848-4684-a19d-ebff8d89fe2e" shape="rect"></a>Service Status</p>
                                    </th>
                                 <th align="center" rowspan="1" colspan="1">
                                        <p>
                                       <a id="para_6c1c08f8-f870-441e-9322-470f2748cd14" shape="rect"></a>Further Meaning</p>
                                    </th>
                                 <th align="center" rowspan="1" colspan="1">
                                        <p>
                                       <a id="para_f5f8340c-a1d3-4785-bb3a-a7136aa239b0" shape="rect"></a>Status Codes</p>
                                    </th>
                                 <th align="center" rowspan="1" colspan="1">
                                        <p>
                                       <a id="para_0ecd593f-5bc5-453c-abb4-2b7c97c2f707" shape="rect"></a>Related Fields</p>
                                    </th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr valign="top">
                                 <td align="left" rowspan="3" colspan="1">
                                        <p>
                                       <a id="para_b3993844-3f96-410d-bedb-224bb7a90362" shape="rect"></a>Failure</p>
                                    </td>
                                 <td align="left" rowspan="1" colspan="1">
                                        <p>
                                       <a id="para_7c72878f-4f47-4e1c-8475-4768d489e97e" shape="rect"></a>Refused: Out of resources</p>
                                    </td>
                                 <td align="center" rowspan="1" colspan="1">
                                        <p>
                                       <a id="para_5916e67d-54e8-4c02-97a9-667f2d0f4f9c" shape="rect"></a>A700</p>
                                    </td>
                                 <td align="center" rowspan="1" colspan="1">
                                        <p>
                                       <a id="para_7251f698-4c1b-495c-8d43-5c7693103cc4" shape="rect"></a>(0000,0902)</p>
                                    </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                        <p>
                                       <a id="para_149035d5-e224-4e83-b9fc-875349e1fa07" shape="rect"></a>Error: Data Set does not match SOP Class</p>
                                    </td>
                                 <td align="center" rowspan="1" colspan="1">
                                        <p>
                                       <a id="para_ccd9824b-60ca-4390-b899-0a26f9dc8cdd" shape="rect"></a>A900</p>
                                    </td>
                                 <td align="center" rowspan="1" colspan="1">
                                        <p>
                                       <a id="para_837a0bb5-2dd3-49ea-9669-ed3088094770" shape="rect"></a>(0000,0901)</p>
                                        <p>
                                       <a id="para_f7fce3a8-3438-443c-af95-550c58c2fa6e" shape="rect"></a>(0000,0902)</p>
                                    </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                        <p>
                                       <a id="para_96d13876-b5b2-4044-9d9c-4177696f5d34" shape="rect"></a>Failed: Unable to process</p>
                                    </td>
                                 <td align="center" rowspan="1" colspan="1">
                                        <p>
                                       <a id="para_6976e1b0-9867-4ba2-b621-c23bc269f143" shape="rect"></a>Cxxx</p>
                                    </td>
                                 <td align="center" rowspan="1" colspan="1">
                                        <p>
                                       <a id="para_ad8e19a6-69f5-4b08-8fcf-07e1b6633ef5" shape="rect"></a>(0000,0901)</p>
                                        <p>
                                       <a id="para_b26de57b-a496-4cd9-a61f-826fdacddf08" shape="rect"></a>(0000,0902)</p>
                                    </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                        <p>
                                       <a id="para_b9d5a395-377d-42bf-8326-69e255d2b615" shape="rect"></a>Cancel</p>
                                    </td>
                                 <td align="left" rowspan="1" colspan="1">
                                        <p>
                                       <a id="para_025cfcf0-239a-4b29-97c2-a0103442f5b6" shape="rect"></a>Matching terminated due to Cancel request</p>
                                    </td>
                                 <td align="center" rowspan="1" colspan="1">
                                        <p>
                                       <a id="para_bdc01b9c-29e8-4a80-8172-926e46d77e61" shape="rect"></a>FE00</p>
                                    </td>
                                 <td align="center" rowspan="1" colspan="1">
                                        <p>
                                       <a id="para_946d8e3d-c13a-4e0f-97e8-aebaa29f80d7" shape="rect"></a>None</p>
                                    </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                        <p>
                                       <a id="para_ab52f8dd-e512-4117-92d5-9396a82094ff" shape="rect"></a>Success</p>
                                    </td>
                                 <td align="left" rowspan="1" colspan="1">
                                        <p>
                                       <a id="para_f398b502-50b3-4477-b53d-1bbb98f30970" shape="rect"></a>Matching is complete - No final Identifier is supplied.</p>
                                    </td>
                                 <td align="center" rowspan="1" colspan="1">
                                        <p>
                                       <a id="para_d8912058-f764-4f2d-937c-8e87762164e8" shape="rect"></a>0000</p>
                                    </td>
                                 <td align="center" rowspan="1" colspan="1">
                                        <p>
                                       <a id="para_07d68219-99ce-4794-8574-b8546e9bc941" shape="rect"></a>None</p>
                                    </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="2" colspan="1">
                                        <p>
                                       <a id="para_709da2f4-b836-4117-88cb-f7d6f02d2c92" shape="rect"></a>Pending</p>
                                    </td>
                                 <td align="left" rowspan="1" colspan="1">
                                        <p>
                                       <a id="para_e49bf360-9d46-4755-9f45-73111fba9ad4" shape="rect"></a>Matches are continuing - Current Match is supplied and any Optional Keys were supported in the same manner as Required Keys.</p>
                                    </td>
                                 <td align="center" rowspan="1" colspan="1">
                                        <p>
                                       <a id="para_d2290e46-4ae9-4c27-9fcc-5e95c0e60a24" shape="rect"></a>FF00</p>
                                    </td>
                                 <td align="center" rowspan="1" colspan="1">
                                        <p>
                                       <a id="para_3521057e-a2ec-4d34-b4fd-22d6fb94c7b1" shape="rect"></a>Identifier</p>
                                    </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                        <p>
                                       <a id="para_2d84e3c5-3ef1-4958-bea2-968be5450d9d" shape="rect"></a>Matches are continuing - Warning that one or more Optional Keys were not supported for existence for this Identifier.</p>
                                    </td>
                                 <td align="center" rowspan="1" colspan="1">
                                        <p>
                                       <a id="para_16a78713-e747-42ea-9966-1ec5fabe4aca" shape="rect"></a>FF01</p>
                                    </td>
                                 <td align="center" rowspan="1" colspan="1">
                                        <p>
                                       <a id="para_83724366-b1a0-4984-a552-693282595280" shape="rect"></a>Identifier</p>
                                    </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                  </div>
                  <br class="table-break" clear="none" />
                  <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                     <h3 class="title">Note</h3>
                     <p>
                        <a id="para_21febdd6-9315-4b10-8905-1cd0da1cc7d9" shape="rect"></a>Status Codes are returned in DIMSE response messages (see <a href="../part07/PS3.7.html" class="olink" shape="rect">PS3.7</a>). The code values stated in column "Status Codes" are returned in Status Command Element (0000,0900).</p>
                  </div>
                  <p>
                     <a id="para_49d4e972-bda8-4970-826b-43f740e0cdfb" shape="rect"></a>Some Failure Status Codes are implementation specific.</p>
                  <p>
                     <a id="para_537c07b5-a617-47cb-a830-0a15db169c92" shape="rect"></a>An SCP implementation shall assign specific Failure Status Codes by replacing each 'x' symbol with a hexadecimal digit in the range from 0 to F. An SCP implementation wishing to differentiate between causes of “Failed: Unable to process” Failure Meaning shall assign those causes specific Status Code Values within valid range specified in <a class="xref" href="sect_K.4.html#table_K.4-1" title="Table K.4-1. C-FIND Response Status Values" shape="rect">Table K.4-1</a>.</p>
                  <p>
                     <a id="para_055b955e-04c2-4798-8708-e5ad58f889ff" shape="rect"></a>An SCU implementation shall recognize any Failure Status Code within the value range specified in <a class="xref" href="sect_K.4.html#table_K.4-1" title="Table K.4-1. C-FIND Response Status Values" shape="rect">Table K.4-1</a> as an indicator of the Failure Meaning stated in the table. There is no requirement for an SCU implementation to differentiate between specific Status Codes within the valid range.</p>
               </div>
            </div>
            <div class="section">
               <div class="titlepage">
                  <div>
                     <div>
                        <h4 class="title">
                           <a id="sect_K.4.1.2" shape="rect"></a>K.4.1.2 C-FIND SCU Behavior</h4>
                     </div>
                  </div>
               </div>
               <p>
                  <a id="para_ac2cea88-4d59-457d-b4af-ec43b8763110" shape="rect"></a>All C-FIND SCUs shall be capable of generating query requests that meet the requirements of the "Worklist" Search Method (see <a class="xref" href="sect_K.4.html#sect_K.4.1.3.1" title="K.4.1.3.1 &quot;Worklist&quot; Search Method" shape="rect">Section K.4.1.3.1</a>).</p>
               <p>
                  <a id="para_245a7289-c10e-42e1-9efb-21382d292237" shape="rect"></a>Required Keys, and Optional Keys associated with the Worklist may be contained in the Identifier.</p>
               <p>
                  <a id="para_db8b37f3-b35e-4fb4-b4c4-2d629618ab15" shape="rect"></a>An SCU conveys the following semantics using the C-FIND requests and responses:</p>
               <div class="itemizedlist">
                  <ul class="itemizedlist" style="list-style-type: disc; ">
                     <li class="listitem">
                        <p>
                           <a id="para_1df309fd-794a-4ec2-91b3-0ea72a680e82" shape="rect"></a>The SCU requests that the SCP perform a match of all keys specified in the Identifier of the request against the information it possesses of the Worklist specified in the request.</p>
                     </li>
                     <li class="listitem">
                        <p>
                           <a id="para_9a036a95-d8d5-4f51-80f3-1176df3a9672" shape="rect"></a>The SCU shall interpret Pending responses to convey the Attributes of a match of an Entity.</p>
                     </li>
                     <li class="listitem">
                        <p>
                           <a id="para_b270cfd5-e6ba-45ad-ac6d-d279fcedcf6b" shape="rect"></a>The SCU shall interpret a response with a status equal to Success, Failed, Refused or Cancel to convey the end of Pending responses.</p>
                     </li>
                     <li class="listitem">
                        <p>
                           <a id="para_351e1110-71e4-453c-8307-9a952bb22a6f" shape="rect"></a>The SCU shall interpret a Refused or Failed response to a C-FIND request as an indication that the SCP is unable to process the request.</p>
                     </li>
                     <li class="listitem">
                        <p>
                           <a id="para_e7709e23-2c75-470e-86dc-b69f51ac8dcb" shape="rect"></a>The SCU may cancel the C-FIND service by issuing a C-CANCEL-FIND request at any time during the processing of the C-FIND. The SCU shall recognize a status of Cancel to indicate that the C-CANCEL-FIND was successful.</p>
                        <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                           <h3 class="title">Note</h3>
                           <p>
                              <a id="para_36168b5f-c361-48bd-adb2-b76b341d0893" shape="rect"></a>The SCU needs to be prepared to receive C-FIND responses sent by the SCP until the SCP finally processed the C-CANCEL-FIND request.</p>
                        </div>
                     </li>
                  </ul>
               </div>
            </div>
            <div class="section">
               <div class="titlepage">
                  <div>
                     <div>
                        <h4 class="title">
                           <a id="sect_K.4.1.3" shape="rect"></a>K.4.1.3 C-FIND SCP Behavior</h4>
                     </div>
                  </div>
               </div>
               <p>
                  <a id="para_b5fe0d75-9328-4bbe-86b4-1607921397c2" shape="rect"></a>All C-FIND SCPs shall be capable of processing queries that meet the requirements of the "Worklist" Search (see <a class="xref" href="sect_K.4.html#sect_K.4.1.3.1" title="K.4.1.3.1 &quot;Worklist&quot; Search Method" shape="rect">Section K.4.1.3.1</a>).</p>
               <p>
                  <a id="para_89a55c52-586b-4b03-8338-3a97c9d89fb3" shape="rect"></a>An SCP conveys the following semantics using the C-FIND requests and responses:</p>
               <div class="itemizedlist">
                  <ul class="itemizedlist" style="list-style-type: disc; ">
                     <li class="listitem">
                        <p>
                           <a id="para_a6aabc26-4740-4fda-80bc-aed24dc24974" shape="rect"></a>The SCP is requested to perform a match of all the keys specified in the Identifier of the request, against the information it possesses. Attribute matching is performed using the key values specified in the Identifier of the C-FIND request as defined in <a class="xref" href="sect_K.2.html" title="K.2 Worklist Information Model Definition" shape="rect">Section K.2</a>.</p>
                     </li>
                     <li class="listitem">
                        <p>
                           <a id="para_f331a569-301f-4ed6-bd9b-a3e70a069cb2" shape="rect"></a>The SCP generates a C-FIND response for each match using the "Worklist" Search method. All such responses shall contain an Identifier whose Attributes contain values from a single match. All such responses shall contain a status of Pending.</p>
                     </li>
                     <li class="listitem">
                        <p>
                           <a id="para_98cd4e94-3c69-4ad8-b354-2147e171ca30" shape="rect"></a>When all matches have been sent, the SCP generates a C-FIND response that contains a status of Success. A status of Success shall indicate that a response has been sent for each match known to the SCP.</p>
                        <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                           <h3 class="title">Note</h3>
                           <div class="orderedlist">
                              <ol class="orderedlist" type="1">
                                 <li class="listitem">
                                    <p>
                                       <a id="para_650b146d-cc6a-4501-8142-2f8ad7b6813e" shape="rect"></a>No ID is contained in a response with a status of Success. For a complete definition, see <a href="../part07/PS3.7.html" class="olink" shape="rect">PS3.7</a>.</p>
                                 </li>
                                 <li class="listitem">
                                    <p>
                                       <a id="para_251449c9-4876-4be8-bf85-aff4a3d3ac93" shape="rect"></a>When there are no matches, then no responses with a status of Pending are sent, only a single response with a status of Success.</p>
                                 </li>
                              </ol>
                           </div>
                        </div>
                     </li>
                     <li class="listitem">
                        <p>
                           <a id="para_de5b0bdf-ed2d-4acf-8f28-d829e4205d42" shape="rect"></a>The SCP shall generate a response with a status of Refused or Failed if it is unable to process the request. A Refused or Failed response shall contain no Identifier.</p>
                     </li>
                     <li class="listitem">
                        <p>
                           <a id="para_06ae2174-fb51-49c4-a029-5c3438743e46" shape="rect"></a>If the SCP receives C-CANCEL-FIND indication before it has completed the processing of the matches it shall interrupt the matching process and return a status of Cancel.</p>
                     </li>
                  </ul>
               </div>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h5 class="title">
                              <a id="sect_K.4.1.3.1" shape="rect"></a>K.4.1.3.1 "Worklist" Search Method</h5>
                        </div>
                     </div>
                  </div>
                  <p>
                     <a id="para_c43db925-4422-4fe4-935c-125bd4b993aa" shape="rect"></a>The following procedure is used to generate matches.</p>
                  <p>
                     <a id="para_02f5aafd-5d55-4d09-b81c-5df921e7f28a" shape="rect"></a>The key match strings contained in the Identifier of the C-FIND request are matched against the values of the Key Attributes for each worklist entity. For each entity for which the Attributes match all of the specified match strings, construct an Identifier. This Identifier shall contain all of the values of the Attributes for this entity that match those in the C-FIND request. Return a response for each such Identifier. If there are no matching keys, then there are no matches, return a response with a status equal to Success and with no Identifier.</p>
               </div>
            </div>
         </div>
      </div>
      <div class="navfooter">
         <hr />
         <table width="100%" summary="Navigation footer">
            <tr>
               <td width="40%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_K.3.html" shape="rect">Prev</a> </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="u" href="chapter_K.html" shape="rect">Up</a>
               </td>
               <td width="40%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_K.5.html" shape="rect">Next</a>
               </td>
            </tr>
            <tr>
               <td width="40%" align="left" valign="top" rowspan="1" colspan="1">K.3 Worklist Information Model </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="h" href="PS3.4.html" shape="rect">Home</a>
               </td>
               <td width="40%" align="right" valign="top" rowspan="1" colspan="1"> K.5 Association Negotiation</td>
            </tr>
         </table>
      </div>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.4 2024b - Service Class Specifications</span>
            </th>
         </tr>
      </table>
   </body>
</html>
