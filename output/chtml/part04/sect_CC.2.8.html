<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>CC.2.8 Search for Unified Procedure Step (C-FIND)</title>
      <link rel="stylesheet" type="text/css" href="dicom.css" />
      <meta name="generator" content="DocBook XSL Stylesheets V1.78.1" />
      <link rel="home" href="PS3.4.html" title="PS3.4" />
      <link rel="up" href="sect_CC.2.html" title="CC.2 DIMSE Service Groups" />
      <link rel="prev" href="sect_CC.2.7.4.html" title="CC.2.7.4 Status Codes" />
      <link rel="next" href="sect_CC.2.8.2.html" title="CC.2.8.2 Service Class User Behavior" />
      <style type="text/css"><![CDATA[
	p { font-size: 15px; }
      ]]></style>
   </head>
   <body>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.4 2024a - Service Class Specifications</span>
            </th>
         </tr>
      </table>
      <div xmlns="" class="navheader">
         <table width="100%" summary="Navigation header">
            <tr>
               <th colspan="3" align="center" rowspan="1">CC.2.8 Search for Unified Procedure Step (C-FIND) <a accesskey="current" href="http://dicom.nema.org/medical/dicom/current/output/chtml/part04/sect_CC.2.8.html" shape="rect">(Current)</a>
               </th>
            </tr>
            <tr>
               <td width="20%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_CC.2.7.4.html" shape="rect">Prev</a> </td>
               <th width="60%" align="center" rowspan="1" colspan="1">CC.2 DIMSE Service Groups</th>
               <td width="20%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_CC.2.8.2.html" shape="rect">Next</a>
               </td>
            </tr>
         </table>
         <hr />
      </div>
      <div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="breadcrumbs">
         <span class="breadcrumb-link">
            <a href="PS3.4.html" shape="rect">PS3.4</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="chapter_CC.html" shape="rect">Unified Procedure Step Service and SOP Classes (Normative)</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="sect_CC.2.html" shape="rect">DIMSE Service Groups</a>
         </span> &gt; <span class="breadcrumb-node">Search for Unified Procedure Step (C-FIND)</span>
      </div>
      <div class="section">
         <div class="titlepage">
            <div>
               <div>
                  <h3 class="title">
                     <a id="sect_CC.2.8" shape="rect"></a>CC.2.8 Search for Unified Procedure Step (C-FIND)</h3>
               </div>
            </div>
         </div>
         <p>
            <a id="para_8230605b-b846-4335-9856-48ed9c4ce1bf" shape="rect"></a>This operation allows an SCU to locate and get information about Unified Procedure Step instances of interest that are managed by an SCP. This operation shall be invoked by the SCU through the DIMSE C-FIND Service. The SCP processes such queries, matches UPS instances it manages against the keys present in the Identifier and returns C-FIND responses.</p>
         <p>
            <a id="para_79688611-fe1f-4527-bcec-2bade0426fea" shape="rect"></a>The SCU might be searching for UPS instance with the intention of starting work on one of them or perhaps with the intention of subscribing to monitor the progress of an instance.</p>
         <div class="section">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title">
                        <a id="sect_CC.2.8.1" shape="rect"></a>CC.2.8.1 Operation</h4>
                  </div>
               </div>
            </div>
            <div class="section">
               <div class="titlepage">
                  <div>
                     <div>
                        <h5 class="title">
                           <a id="sect_CC.2.8.1.1" shape="rect"></a>CC.2.8.1.1 E/R Model</h5>
                     </div>
                  </div>
               </div>
               <p>
                  <a id="para_ae3047c5-e917-4e89-94a5-c9bddcf5062e" shape="rect"></a>In response to a given C-FIND request, the SCP might send several C-FIND responses, (i.e., one C-FIND response per matching worklist item). Each worklist item describes a single task and its related information.</p>
               <p>
                  <a id="para_6d6bb2ab-f99d-40d1-a3b0-ecaf04a56585" shape="rect"></a>The Unified Procedure Step Query Information Model is represented by the Entity Relationship diagram shown in <a class="xref" href="sect_CC.2.8.html#figure_CC.2.8-1" title="Figure CC.2.8-1. Unified Procedure Step E-R Diagram" shape="rect">Figure CC.2.8-1</a>.</p>
               <p>
                  <a id="para_4067711d-4931-4563-9b5e-18591d70397d" shape="rect"></a>
                            </p>
               <div class="figure">
                  <a id="figure_CC.2.8-1" shape="rect"></a>
                  <div class="figure-contents">
                     <div class="mediaobject">
                        <img src="figures/PS3.4_CC.2.8-1.svg" alt="Unified Procedure Step E-R Diagram" />
                     </div>
                  </div>
                  <p class="title">
                     <strong>Figure CC.2.8-1. Unified Procedure Step E-R Diagram</strong>
                  </p>
               </div>
               <p>
                  <br class="figure-break" clear="none" />
                        </p>
               <p>
                  <a id="para_1891ba70-d271-4e30-8456-d11934ecd44e" shape="rect"></a>There is only one Information Entity in the model, which is the Unified Procedure Step. The Attributes of a Unified Procedure Step can be found in <a class="xref" href="sect_CC.2.5.html#table_CC.2.5-3" title="Table CC.2.5-3. UPS SOP Class N-CREATE/N-SET/N-GET/C-FIND Attributes" shape="rect">Table CC.2.5-3</a>.</p>
            </div>
            <div class="section">
               <div class="titlepage">
                  <div>
                     <div>
                        <h5 class="title">
                           <a id="sect_CC.2.8.1.2" shape="rect"></a>CC.2.8.1.2 C-FIND Service Parameters</h5>
                     </div>
                  </div>
               </div>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h6 class="title">
                              <a id="sect_CC.2.8.1.2.1" shape="rect"></a>CC.2.8.1.2.1 SOP Class UID</h6>
                        </div>
                     </div>
                  </div>
                  <p>
                     <a id="para_6c7136e1-5ffa-4ca9-8fab-78a8cc22f75c" shape="rect"></a>The Affected SOP Class UID of the C-FIND DIMSE request shall always be the UPS SOP Class negotiated for the Presentation Context under which the service is requested. This will always be the UPS Pull SOP Class, the UPS Watch SOP Class, or the UPS Query SOP Class. See <a class="xref" href="sect_CC.3.html#sect_CC.3.1" title="CC.3.1 Service Class and SOP Class UIDs" shape="rect">Section CC.3.1</a> for further details.</p>
                  <p>
                     <a id="para_8faf7bc5-ded5-44a1-b86b-4b41997b032d" shape="rect"></a>The C-FIND is performed against the Unified Procedure Step Information Model shown in <a class="xref" href="sect_CC.2.8.html#figure_CC.2.8-1" title="Figure CC.2.8-1. Unified Procedure Step E-R Diagram" shape="rect">Figure CC.2.8-1</a>.</p>
               </div>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h6 class="title">
                              <a id="sect_CC.2.8.1.2.2" shape="rect"></a>CC.2.8.1.2.2 Priority</h6>
                        </div>
                     </div>
                  </div>
                  <p>
                     <a id="para_7f7852d5-a357-4e22-b70d-b4eabe076630" shape="rect"></a>The Priority Attribute defines the requested priority of the C-FIND operation with respect to other DIMSE operations being performed by the same SCP.</p>
                  <p>
                     <a id="para_8a0f22cc-79eb-475f-8b31-5cd1242c5e7b" shape="rect"></a>Processing of priority requests is not required of SCPs. Whether or not an SCP supports priority processing and the meaning of the different priority levels shall be stated in the Conformance Statement of the SCP.</p>
               </div>
            </div>
            <div class="section">
               <div class="titlepage">
                  <div>
                     <div>
                        <h5 class="title">
                           <a id="sect_CC.2.8.1.3" shape="rect"></a>CC.2.8.1.3 Identifier</h5>
                     </div>
                  </div>
               </div>
               <p>
                  <a id="para_fc40a4b1-9787-434a-a9f8-9be254d34653" shape="rect"></a>Both the C-FIND request and response contain an Identifier encoded as a Data Set (see <a href="../part05/PS3.5.html" class="olink" shape="rect">PS3.5</a>).</p>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h6 class="title">
                              <a id="sect_CC.2.8.1.3.1" shape="rect"></a>CC.2.8.1.3.1 Request Identifier Structure</h6>
                        </div>
                     </div>
                  </div>
                  <p>
                     <a id="para_c3437249-17c3-4825-abef-ecd1cd85bddd" shape="rect"></a>An Identifier in a C-FIND request shall contain:</p>
                  <div class="itemizedlist">
                     <ul class="itemizedlist" style="list-style-type: disc; ">
                        <li class="listitem">
                           <p>
                              <a id="para_e3d1a2df-7141-4403-9acd-914c748de634" shape="rect"></a>Key Attributes values to be matched against the values of Attributes specified in the SOP Class identified by the Affected SOP Class UID.</p>
                        </li>
                        <li class="listitem">
                           <p>
                              <a id="para_ffcf2237-d313-446f-89a4-1b97c98cc0d4" shape="rect"></a>Conditionally, the Attribute Specific Character Set (0008,0005). This Attribute shall be included if expanded or replacement character sets may be used in any of the Attributes in the Request Identifier. It shall not be included otherwise.</p>
                        </li>
                        <li class="listitem">
                           <p>
                              <a id="para_7c971226-4ad7-46b8-b21a-e51c76df0edc" shape="rect"></a>Conditionally, the Attribute Timezone Offset From UTC (0008,0201). This Attribute shall be included if Key Attributes of time are to be interpreted explicitly in the designated local time zone. It shall not be present otherwise, i.e., it shall not be sent with a zero-length value.</p>
                        </li>
                     </ul>
                  </div>
                  <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                     <h3 class="title">Note</h3>
                     <p>
                        <a id="para_a175ef90-eae6-4132-977a-1c84a5cb8621" shape="rect"></a>This means that Specific Character Set (0008,0005) is included if the SCU supports expanded or replacement character sets in the context of this service. It will not be included if expanded or replacement character sets are not supported by the SCU.</p>
                  </div>
                  <p>
                     <a id="para_09e42cc8-6ce1-4987-a55b-407c46f8a739" shape="rect"></a>The Key Attributes and values allowable for the query shall be defined in the SOP Class definition corresponding to the Affected SOP Class UID for the corresponding Unified Worklist And Procedure Step Information Model.</p>
               </div>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h6 class="title">
                              <a id="sect_CC.2.8.1.3.2" shape="rect"></a>CC.2.8.1.3.2 Response Identifier Structure</h6>
                        </div>
                     </div>
                  </div>
                  <p>
                     <a id="para_62a6e1ec-db0c-4c80-a056-320632709b64" shape="rect"></a>The C-FIND response shall not contain Attributes that were not in the request or specified in this section.</p>
                  <p>
                     <a id="para_7a2eaf73-5326-4ce2-956f-e0ce4315e80c" shape="rect"></a>An Identifier in a C-FIND response shall contain:</p>
                  <div class="itemizedlist">
                     <ul class="itemizedlist" style="list-style-type: disc; ">
                        <li class="listitem">
                           <p>
                              <a id="para_4ff73554-cad3-4a7c-8378-0174bb0d6913" shape="rect"></a>Key Attributes with values corresponding to Key Attributes contained in the Identifier of the request (Key Attributes as defined in <a class="xref" href="sect_CC.2.5.html#table_CC.2.5-3" title="Table CC.2.5-3. UPS SOP Class N-CREATE/N-SET/N-GET/C-FIND Attributes" shape="rect">Table CC.2.5-3</a>.)</p>
                        </li>
                        <li class="listitem">
                           <p>
                              <a id="para_1ad36e15-838e-4ab1-85b7-043d6ec3c4a1" shape="rect"></a>Conditionally, the Attribute Specific Character Set (0008,0005). This Attribute shall be included if expanded or replacement character sets may be used in any of the Attributes in the Response Identifier. It shall not be included otherwise. The C-FIND SCP is not required to return responses in the Specific Character Set requested by the SCU if that character set is not supported by the SCP. The SCP may return responses with a different Specific Character Set.</p>
                        </li>
                        <li class="listitem">
                           <p>
                              <a id="para_d2360b44-fc07-4a0c-a210-0d0a4f1ccb4c" shape="rect"></a>Conditionally, the Attribute Timezone Offset From UTC (0008,0201). This Attribute shall be included if any Attributes of time in the Response Identifier are to be interpreted explicitly in the designated local time zone. It shall not be present otherwise, i.e., it shall not be sent with a zero-length value.</p>
                        </li>
                     </ul>
                  </div>
                  <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                     <h3 class="title">Note</h3>
                     <p>
                        <a id="para_a0fe1fee-21c8-43ca-8705-fd94ab958afa" shape="rect"></a>This means that Specific Character Set (0008,0005) is included if the SCP supports expanded or replacement character sets in the context of this service. It will not be included if expanded or replacement character sets are not supported by the SCP.</p>
                  </div>
               </div>
            </div>
         </div>
      </div>
      <div class="navfooter">
         <hr />
         <table width="100%" summary="Navigation footer">
            <tr>
               <td width="40%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_CC.2.7.4.html" shape="rect">Prev</a> </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="u" href="sect_CC.2.html" shape="rect">Up</a>
               </td>
               <td width="40%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_CC.2.8.2.html" shape="rect">Next</a>
               </td>
            </tr>
            <tr>
               <td width="40%" align="left" valign="top" rowspan="1" colspan="1">CC.2.7.4 Status Codes </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="h" href="PS3.4.html" shape="rect">Home</a>
               </td>
               <td width="40%" align="right" valign="top" rowspan="1" colspan="1"> CC.2.8.2 Service Class User Behavior</td>
            </tr>
         </table>
      </div>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.4 2024a - Service Class Specifications</span>
            </th>
         </tr>
      </table>
   </body>
</html>
