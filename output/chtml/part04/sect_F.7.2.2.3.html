<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>F.7.2.2.3 Service Class Provider</title>
      <link rel="stylesheet" type="text/css" href="dicom.css" />
      <meta name="generator" content="DocBook XSL Stylesheets V1.78.1" />
      <link rel="home" href="PS3.4.html" title="PS3.4" />
      <link rel="up" href="sect_F.7.2.2.html" title="F.7.2.2 Set Modality Performed Procedure Step Information" />
      <link rel="prev" href="sect_F.7.2.2.2.html" title="F.7.2.2.2 Service Class User" />
      <link rel="next" href="sect_F.7.2.2.4.html" title="F.7.2.2.4 Status Codes" />
      <style type="text/css"><![CDATA[
	p { font-size: 15px; }
      ]]></style>
   </head>
   <body>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.4 2024b - Service Class Specifications</span>
            </th>
         </tr>
      </table>
      <div xmlns="" class="navheader">
         <table width="100%" summary="Navigation header">
            <tr>
               <th colspan="3" align="center" rowspan="1">F.7.2.2.3 Service Class Provider <a accesskey="current" href="http://dicom.nema.org/medical/dicom/current/output/chtml/part04/sect_F.7.2.2.3.html" shape="rect">(Current)</a>
               </th>
            </tr>
            <tr>
               <td width="20%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_F.7.2.2.2.html" shape="rect">Prev</a> </td>
               <th width="60%" align="center" rowspan="1" colspan="1">F.7.2.2 Set Modality Performed Procedure Step Information</th>
               <td width="20%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_F.7.2.2.4.html" shape="rect">Next</a>
               </td>
            </tr>
         </table>
         <hr />
      </div>
      <div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="breadcrumbs">
         <span class="breadcrumb-link">
            <a href="PS3.4.html" shape="rect">PS3.4</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="chapter_F.html" shape="rect">Procedure Step SOP Classes (Normative)</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="sect_F.7.html" shape="rect">Modality Performed Procedure Step SOP Class</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="sect_F.7.2.html" shape="rect">Operations</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="sect_F.7.2.2.html" shape="rect">Set Modality Performed Procedure Step Information</a>
         </span> &gt; <span class="breadcrumb-node">Service Class Provider</span>
      </div>
      <div class="section">
         <div class="titlepage">
            <div>
               <div>
                  <h5 class="title">
                     <a id="sect_F.7.2.2.3" shape="rect"></a>F.7.2.2.3 Service Class Provider</h5>
               </div>
            </div>
         </div>
         <p>
            <a id="para_8de3b526-35fd-4b7c-9f70-9c73465524b3" shape="rect"></a>The N-SET operation allows the SCU to request that the SCP update selected Attribute Values for a specific Modality Performed Procedure Step SOP Instance. This operation shall be invoked through the use of the DIMSE N-SET Service used in conjunction with the appropriate Modality Performed Procedure Step SOP Instance. The N-SET value for Specific Character Set (0008,0005) does not replace the previous value. The SCP shall appropriately modify its internal representation so that subsequent operations reflect the combination of the character sets in use by the Attributes in this N-SET and those used by Attributes that have not been modified.</p>
         <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
            <h3 class="title">Note</h3>
            <p>
               <a id="para_0de97df5-b369-405b-ab1a-7bbe6443f391" shape="rect"></a>The SCP may need to convert the text for instance to the Unicode character set.
                                If the SCP is not able to perform a necessary conversion it may return a Failure Status Code of 0106H Invalid Attribute Value.</p>
         </div>
         <p>
            <a id="para_efbf62ea-dc1b-4332-b6a8-01d1b3f75ab8" shape="rect"></a>The SCP shall return, via the N-SET response primitive, the N-SET Response Status Code applicable to the associated request. Contingent on the N-SET Response Status, the SCP shall update the Referenced Performed Procedure Step Attributes.</p>
         <p>
            <a id="para_887f22a8-f5ad-49c1-a1fb-28f414166bc5" shape="rect"></a>The SCP shall accept N-SET request primitives only if the value of the already existing Performed Procedure Step Status (0040,0252) is "IN PROGRESS".
                            If the already existing Performed Procedure Step Status (0040,0252) has another value, the SCP shall set a Failure Status Code of 0110H "Processing failure" with a Specific Error Comment (see <a class="xref" href="sect_F.7.2.2.4.html" title="F.7.2.2.4 Status Codes" shape="rect">Section F.7.2.2.4</a>).</p>
         <p>
            <a id="para_8519673d-e7eb-4944-a6c8-8b49c0bea02e" shape="rect"></a>The SCP may itself modify any Attributes of the Modality Performed Procedure Step SOP Instance only after Performed Procedure Step Status (0040,0252) has been set to a value of "COMPLETED" or "DISCONTINUED".</p>
         <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
            <h3 class="title">Note</h3>
            <div class="orderedlist">
               <ol class="orderedlist" type="1">
                  <li class="listitem">
                     <p>
                        <a id="para_503bb84d-0d69-48d3-a2b6-5bffb691041a" shape="rect"></a>Such coercion of Attributes by the SCP may be necessary to correct, for example, patient identification information or incorrectly selected scheduling information. Such an operation is not permitted to the SCU by the requirements described in <a class="xref" href="sect_F.7.2.html#table_F.7.2-1" title="Table F.7.2-1. Modality Performed Procedure Step SOP Class N-CREATE, N-SET and Final State Attributes" shape="rect">Table F.7.2-1</a>, which might create a new Modality Performed Procedure Step SOP Instance to achieve the same objective.</p>
                  </li>
                  <li class="listitem">
                     <p>
                        <a id="para_2db2c3f1-59ef-46c9-80d3-2627b4e062cf" shape="rect"></a>Under exceptional circumstances, it may be necessary for the SCP to itself set the Performed Procedure Step Status (0040,0252) to a value of COMPLETED or DISCONTINUED, for example if the Modality has failed. When the Modality recovers, subsequent N-SETs may fail.</p>
                  </li>
               </ol>
            </div>
         </div>
      </div>
      <div class="navfooter">
         <hr />
         <table width="100%" summary="Navigation footer">
            <tr>
               <td width="40%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_F.7.2.2.2.html" shape="rect">Prev</a> </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="u" href="sect_F.7.2.2.html" shape="rect">Up</a>
               </td>
               <td width="40%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_F.7.2.2.4.html" shape="rect">Next</a>
               </td>
            </tr>
            <tr>
               <td width="40%" align="left" valign="top" rowspan="1" colspan="1">F.7.2.2.2 Service Class User </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="h" href="PS3.4.html" shape="rect">Home</a>
               </td>
               <td width="40%" align="right" valign="top" rowspan="1" colspan="1"> F.7.2.2.4 Status Codes</td>
            </tr>
         </table>
      </div>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.4 2024b - Service Class Specifications</span>
            </th>
         </tr>
      </table>
   </body>
</html>
