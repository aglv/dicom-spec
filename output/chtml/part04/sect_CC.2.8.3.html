<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>CC.2.8.3 Service Class Provider Behavior</title>
      <link rel="stylesheet" type="text/css" href="dicom.css" />
      <meta name="generator" content="DocBook XSL Stylesheets V1.78.1" />
      <link rel="home" href="PS3.4.html" title="PS3.4" />
      <link rel="up" href="sect_CC.2.8.html" title="CC.2.8 Search for Unified Procedure Step (C-FIND)" />
      <link rel="prev" href="sect_CC.2.8.2.html" title="CC.2.8.2 Service Class User Behavior" />
      <link rel="next" href="sect_CC.2.8.4.html" title="CC.2.8.4 Status Codes" />
      <style type="text/css"><![CDATA[
	p { font-size: 15px; }
      ]]></style>
   </head>
   <body>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.4 2024b - Service Class Specifications</span>
            </th>
         </tr>
      </table>
      <div xmlns="" class="navheader">
         <table width="100%" summary="Navigation header">
            <tr>
               <th colspan="3" align="center" rowspan="1">CC.2.8.3 Service Class Provider Behavior <a accesskey="current" href="http://dicom.nema.org/medical/dicom/current/output/chtml/part04/sect_CC.2.8.3.html" shape="rect">(Current)</a>
               </th>
            </tr>
            <tr>
               <td width="20%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_CC.2.8.2.html" shape="rect">Prev</a> </td>
               <th width="60%" align="center" rowspan="1" colspan="1">CC.2.8 Search for Unified Procedure Step (C-FIND)</th>
               <td width="20%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_CC.2.8.4.html" shape="rect">Next</a>
               </td>
            </tr>
         </table>
         <hr />
      </div>
      <div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="breadcrumbs">
         <span class="breadcrumb-link">
            <a href="PS3.4.html" shape="rect">PS3.4</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="chapter_CC.html" shape="rect">Unified Procedure Step Service and SOP Classes (Normative)</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="sect_CC.2.html" shape="rect">DIMSE Service Groups</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="sect_CC.2.8.html" shape="rect">Search for Unified Procedure Step (C-FIND)</a>
         </span> &gt; <span class="breadcrumb-node">Service Class Provider Behavior</span>
      </div>
      <div class="section">
         <div class="titlepage">
            <div>
               <div>
                  <h4 class="title">
                     <a id="sect_CC.2.8.3" shape="rect"></a>CC.2.8.3 Service Class Provider Behavior</h4>
               </div>
            </div>
         </div>
         <p>
            <a id="para_a1f8e2ed-a9c4-42b4-b58f-6aec54e56ff3" shape="rect"></a>All C-FIND SCPs shall be capable of processing queries that meet the requirements of the "Worklist" Search (see <a class="xref" href="sect_CC.2.8.3.html#sect_CC.2.8.3.1" title="CC.2.8.3.1 Worklist Search Method" shape="rect">Section CC.2.8.3.1</a>). This does not imply that an SCP that supports the UPS Watch SOP Class or the UPS Query SOP Class must also be an SCP of the UPS Pull SOP Class.</p>
         <p>
            <a id="para_59dc5e5b-f1c7-419c-90f9-a265a600d679" shape="rect"></a>The SCP shall support Attribute matching as described in <a class="xref" href="sect_C.2.2.2.html" title="C.2.2.2 Attribute Matching" shape="rect">Section C.2.2.2</a>.</p>
         <p>
            <a id="para_f2e6f58b-df02-4c62-ae6c-b02cea82d47f" shape="rect"></a>An SCP conveys the following semantics using the C-FIND requests and responses:</p>
         <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; ">
               <li class="listitem">
                  <p>
                     <a id="para_c4c5e217-5a78-4080-ae04-33a4a3565244" shape="rect"></a>The SCP is requested to perform a match of all the keys specified in the Identifier of the request, against the information it possesses. Attribute matching is performed using the key values specified in the Identifier of the C-FIND request as defined in <a class="xref" href="sect_CC.2.5.html#table_CC.2.5-3" title="Table CC.2.5-3. UPS SOP Class N-CREATE/N-SET/N-GET/C-FIND Attributes" shape="rect">Table CC.2.5-3</a>.</p>
               </li>
               <li class="listitem">
                  <p>
                     <a id="para_663714da-8560-4856-aa06-f0a760122868" shape="rect"></a>The SCP generates a C-FIND response for each match using the "Worklist" Search method. All such responses shall contain an Identifier whose Attributes contain values from a single match. All such responses shall contain a status of Pending.</p>
               </li>
               <li class="listitem">
                  <p>
                     <a id="para_2bec2971-8b48-4a4b-a934-36dea321f20d" shape="rect"></a>When all matches have been sent, the SCP generates a C-FIND response that contains a status of Success. A status of Success shall indicate that a response has been sent for each match known to the SCP.</p>
               </li>
            </ul>
         </div>
         <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
            <h3 class="title">Note</h3>
            <div class="orderedlist">
               <ol class="orderedlist" type="1">
                  <li class="listitem">
                     <p>
                        <a id="para_dcc8a04d-259c-4d0d-b01d-c375d03d8930" shape="rect"></a>No Identifier is contained in a response with a status of Success. For a complete definition, see <a href="../part07/PS3.7.html" class="olink" shape="rect">PS3.7</a>.</p>
                  </li>
                  <li class="listitem">
                     <p>
                        <a id="para_040ef99b-2b8a-4307-8226-db7dc34780a0" shape="rect"></a>When there are no matches, then no responses with a status of Pending are sent, only a single response with a status of Success.</p>
                  </li>
               </ol>
            </div>
         </div>
         <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; ">
               <li class="listitem">
                  <p>
                     <a id="para_c9855d9e-b23e-4697-b079-1fec6408477e" shape="rect"></a>The SCP shall generate a response with a status of Failure if it is unable to process the request. A Failure response shall contain no Identifier.</p>
               </li>
               <li class="listitem">
                  <p>
                     <a id="para_125e9761-0267-4a11-a586-d72a5731639d" shape="rect"></a>If the SCP receives C-CANCEL-FIND indication before it has completed the processing of the matches it shall interrupt the matching process and return a status of Cancel.</p>
               </li>
            </ul>
         </div>
         <p>
            <a id="para_63be51de-0326-4660-abf3-347caf964b0d" shape="rect"></a>Bi-directional Authentication of machines/users/applications is possible at association time (see <a href="../part07/PS3.7.html" class="olink" shape="rect">PS3.7</a> and <a href="../part15/PS3.15.html" class="olink" shape="rect">PS3.15</a>).
                        <a href="../part07/PS3.7.html" class="olink" shape="rect">PS3.7</a> provides a Failure Status Code of 0124H "Refused: Not authorized".
                        Further requiring or documenting authentication and/or authorization features from the SCU or SCP is beyond the scope of this SOP Class.</p>
         <div class="section">
            <div class="titlepage">
               <div>
                  <div>
                     <h5 class="title">
                        <a id="sect_CC.2.8.3.1" shape="rect"></a>CC.2.8.3.1 Worklist Search Method</h5>
                  </div>
               </div>
            </div>
            <p>
               <a id="para_57af78df-eb25-41c2-8c17-a1a32d117531" shape="rect"></a>The following steps are used to generate match responses.</p>
            <div class="itemizedlist">
               <ul class="itemizedlist" style="list-style-type: disc; ">
                  <li class="listitem">
                     <p>
                        <a id="para_1e25680b-80f4-40b6-a7b3-1ce79eae02a0" shape="rect"></a>Match the key match Attributes contained in the Identifier of the C-FIND request against the values of the Key Attributes for each worklist entity.</p>
                  </li>
                  <li class="listitem">
                     <p>
                        <a id="para_8599049c-7684-492a-a1c1-99c70e371a3d" shape="rect"></a>If there are no matching keys, then there are no matches, return a response with a status equal to Success and with no Identifier.</p>
                  </li>
                  <li class="listitem">
                     <p>
                        <a id="para_e2a9be40-0fb3-4a43-bde0-85d45bb2db01" shape="rect"></a>Otherwise,</p>
                     <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; ">
                           <li class="listitem">
                              <p>
                                 <a id="para_474a730c-b592-41f8-a588-e6dfcc845244" shape="rect"></a>For each entity for which the Attributes match all of the specified matching key Attributes, construct an Identifier. This Identifier shall contain all of the values of the Attributes for this entity that correspond to the return keys specified in the C-FIND request.</p>
                           </li>
                           <li class="listitem">
                              <p>
                                 <a id="para_60731ff6-e4da-45f6-a634-66186595e2dd" shape="rect"></a>Return a response for each remaining Identifier.</p>
                           </li>
                        </ul>
                     </div>
                  </li>
               </ul>
            </div>
            <p>
               <a id="para_776bc9ef-b741-4cf0-89c5-e47b05d3b39e" shape="rect"></a>
                            <a class="xref" href="sect_CC.2.5.html#table_CC.2.5-3" title="Table CC.2.5-3. UPS SOP Class N-CREATE/N-SET/N-GET/C-FIND Attributes" shape="rect">Table CC.2.5-3</a> defines the Attributes of the Unified Procedure Step Information Model, the requirements for key matching, and the requirements for return keys.</p>
         </div>
      </div>
      <div class="navfooter">
         <hr />
         <table width="100%" summary="Navigation footer">
            <tr>
               <td width="40%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_CC.2.8.2.html" shape="rect">Prev</a> </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="u" href="sect_CC.2.8.html" shape="rect">Up</a>
               </td>
               <td width="40%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_CC.2.8.4.html" shape="rect">Next</a>
               </td>
            </tr>
            <tr>
               <td width="40%" align="left" valign="top" rowspan="1" colspan="1">CC.2.8.2 Service Class User Behavior </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="h" href="PS3.4.html" shape="rect">Home</a>
               </td>
               <td width="40%" align="right" valign="top" rowspan="1" colspan="1"> CC.2.8.4 Status Codes</td>
            </tr>
         </table>
      </div>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.4 2024b - Service Class Specifications</span>
            </th>
         </tr>
      </table>
   </body>
</html>
