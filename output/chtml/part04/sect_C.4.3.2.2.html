<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>C.4.3.2.2 Extended Behavior of SCU</title>
      <link rel="stylesheet" type="text/css" href="dicom.css" />
      <meta name="generator" content="DocBook XSL Stylesheets V1.78.1" />
      <link rel="home" href="PS3.4.html" title="PS3.4" />
      <link rel="up" href="sect_C.4.3.2.html" title="C.4.3.2 C-GET SCU Behavior" />
      <link rel="prev" href="sect_C.4.3.2.html" title="C.4.3.2 C-GET SCU Behavior" />
      <link rel="next" href="sect_C.4.3.3.html" title="C.4.3.3 C-GET SCP Behavior" />
      <style type="text/css"><![CDATA[
	p { font-size: 15px; }
      ]]></style>
   </head>
   <body>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.4 - Service Class Specifications</span>
            </th>
         </tr>
      </table>
      <div xmlns="" class="navheader">
         <table width="100%" summary="Navigation header">
            <tr>
               <th colspan="3" align="center" rowspan="1">C.4.3.2.2 Extended Behavior of SCU <a accesskey="current" href="http://dicom.nema.org/medical/dicom/current/output/chtml/part04/sect_C.4.3.2.2.html" shape="rect">(Current)</a>
               </th>
            </tr>
            <tr>
               <td width="20%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_C.4.3.2.html" shape="rect">Prev</a> </td>
               <th width="60%" align="center" rowspan="1" colspan="1">C.4.3.2 C-GET SCU Behavior</th>
               <td width="20%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_C.4.3.3.html" shape="rect">Next</a>
               </td>
            </tr>
         </table>
         <hr />
      </div>
      <div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="breadcrumbs">
         <span class="breadcrumb-link">
            <a href="PS3.4.html" shape="rect">PS3.4</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="chapter_C.html" shape="rect">Query/Retrieve Service Class (Normative)</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="sect_C.4.html" shape="rect">DIMSE-C Service Groups</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="sect_C.4.3.html" shape="rect">C-GET Operation</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="sect_C.4.3.2.html" shape="rect">C-GET SCU Behavior</a>
         </span> &gt; <span class="breadcrumb-node">Extended Behavior of SCU</span>
      </div>
      <div class="section">
         <div class="titlepage">
            <div>
               <div>
                  <h5 class="title">
                     <a id="sect_C.4.3.2.2" shape="rect"></a>C.4.3.2.2 Extended Behavior of SCU</h5>
               </div>
            </div>
         </div>
         <p>
            <a id="para_9e273bff-3fd8-4164-8433-d3ae4d1693f4" shape="rect"></a>Extended SCU behavior shall be negotiated at Association establishment time. If an option within the extended behavior is not agreed upon in the negotiation, then only baseline SCU behavior shall be supported with respect to that option. Extended SCU behavior includes all baseline behavior with the following option:</p>
         <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; ">
               <li class="listitem">
                  <p>
                     <a id="para_ff801ce6-40d1-45e8-9375-4434becf84b8" shape="rect"></a>Relational-retrieve</p>
               </li>
               <li class="listitem">
                  <p>
                     <a id="para_1ed5dacd-1b56-4fd7-ba52-da2f4aebf4e8" shape="rect"></a>Enhanced Multi-Frame Image Conversion</p>
               </li>
            </ul>
         </div>
         <p>
            <a id="para_ef2278bc-33c0-4743-a379-bfc93bf6afda" shape="rect"></a>More than one option may be agreed upon.</p>
         <div class="section">
            <div class="titlepage">
               <div>
                  <div>
                     <h6 class="title">
                        <a id="sect_C.4.3.2.2.1" shape="rect"></a>C.4.3.2.2.1 Relational-Retrieve</h6>
                  </div>
               </div>
            </div>
            <p>
               <a id="para_1abee181-e784-40b3-b72e-68cf5d7d647d" shape="rect"></a>The C-GET Service with relational-retrieve removes the restriction that the SCU supply Unique Key values for levels above the Query/Retrieve level to help identify an entity at the level of the retrieval. Hence, the Identifier of a C-GET request may retrieve:</p>
            <div class="itemizedlist">
               <ul class="itemizedlist" style="list-style-type: disc; ">
                  <li class="listitem">
                     <p>
                        <a id="para_f36d55ad-002e-4f6c-8c42-0e286efca7a3" shape="rect"></a>all Composite Object Instances related to a study by providing a Study Instance UID (0020,000D)</p>
                  </li>
                  <li class="listitem">
                     <p>
                        <a id="para_c469a004-408a-4577-9883-9d38122dea37" shape="rect"></a>all Composite Object Instances related to a series by providing a Series Instance UID (0020,000E)</p>
                  </li>
                  <li class="listitem">
                     <p>
                        <a id="para_b4527a26-239d-45fd-8dbf-47cd50b352e0" shape="rect"></a>individual Composite Object Instances by providing a list of SOP Instance UIDs (0008,0018)</p>
                  </li>
               </ul>
            </div>
         </div>
         <div class="section">
            <div class="titlepage">
               <div>
                  <div>
                     <h6 class="title">
                        <a id="sect_C.4.3.2.2.2" shape="rect"></a>C.4.3.2.2.2 Enhanced Multi-Frame Image Conversion</h6>
                  </div>
               </div>
            </div>
            <p>
               <a id="para_e49fa878-9049-4684-be54-eadf24eded98" shape="rect"></a>The C-GET Service with Enhanced Multi-Frame Image Conversion allows for selection of the default or an alternative view of the instances represented by the Information Model, and hence the retrieval of either the legacy or the converted images, together with any unconverted instances, all of which are required to be processed to maintain referential integrity within the scope of the Patient.</p>
            <p>
               <a id="para_0849c198-3c3c-4807-bdf5-4bf29085cfab" shape="rect"></a>Support for Enhanced Multi-Frame Image Conversion allows the SCU to specify the Attribute Query/Retrieve View (0008,0053) in the Request Identifier with a value of either "CLASSIC" or "ENHANCED".</p>
            <p>
               <a id="para_005e5dce-4ccc-40ec-8f03-f6a130e90633" shape="rect"></a>If Query/Retrieve View (0008,0053) is not present in the Request Identifier, then the SCU requests that the SCP retrieve all the requested instances it possesses, as received.</p>
            <p>
               <a id="para_25a329d9-7963-4ab3-944e-70cfb268d2a4" shape="rect"></a>If Query/Retrieve View (0008,0053) is present with a value of "CLASSIC", then the SCU requests that the SCP retrieve all the Classic single frame Instances (converted from Enhanced multi-frame Instances if required), as well as any instances that were converted to preserve referential integrity, and any that did not need to be converted.</p>
            <p>
               <a id="para_bd04c8c7-2ce2-4614-ae35-3b8dc4f11847" shape="rect"></a>If Query/Retrieve View (0008,0053) is present with a value of "ENHANCED", then the SCU requests that the SCP retrieve all the Enhanced multi-frame Instances (converted from Classic single frame Instances if required), as well as any instances that were converted to preserve referential integrity, and any that did not need to be converted.</p>
            <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
               <h3 class="title">Note</h3>
               <div class="orderedlist">
                  <ol class="orderedlist" type="1">
                     <li class="listitem">
                        <p>
                           <a id="para_94c65171-4925-464b-96b4-dec7d85df195" shape="rect"></a>The C-GET SCU acting as a C-STORE SCP may assume that no duplicate information will be provided. For example, if an entire series of single frame instances can be converted to a separate series of converted instances, a STUDY level C-GET will not return both series.</p>
                     </li>
                     <li class="listitem">
                        <p>
                           <a id="para_31211fdf-d0f8-43d6-9192-432ba2a6ace2" shape="rect"></a>The C-GET SCU acting as a C-STORE SCP will need to support the necessary SOP Classes for converted instances, otherwise the C-STORE sub-operations will fail in the normal manner and this will be reflected in the C-GET responses.</p>
                     </li>
                     <li class="listitem">
                        <p>
                           <a id="para_961bd8cb-0be9-4471-b3f1-6fe3fd54c6e7" shape="rect"></a>The Query Information Model is unchanged, and the same unique, required and optional keys are equally applicable to both views, except that the values for the SERIES and IMAGE level queries will be different and will depend on the converted instance content.</p>
                     </li>
                     <li class="listitem">
                        <p>
                           <a id="para_0a354142-4c7f-456e-9c37-6a8681c65d37" shape="rect"></a>The Query/Retrieve View is still required in an IMAGE or SERIES level request identifier, even though the requested unique key (s) are unambiguous, and the view is in a sense "redundant", because the conversion that created the requested instances may not have been executed yet. It is not permitted to specify a view that is inconsistent with the requested unique key(s).</p>
                     </li>
                  </ol>
               </div>
            </div>
         </div>
      </div>
      <div class="navfooter">
         <hr />
         <table width="100%" summary="Navigation footer">
            <tr>
               <td width="40%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_C.4.3.2.html" shape="rect">Prev</a> </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="u" href="sect_C.4.3.2.html" shape="rect">Up</a>
               </td>
               <td width="40%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_C.4.3.3.html" shape="rect">Next</a>
               </td>
            </tr>
            <tr>
               <td width="40%" align="left" valign="top" rowspan="1" colspan="1">C.4.3.2 C-GET SCU Behavior </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="h" href="PS3.4.html" shape="rect">Home</a>
               </td>
               <td width="40%" align="right" valign="top" rowspan="1" colspan="1"> C.4.3.3 C-GET SCP Behavior</td>
            </tr>
         </table>
      </div>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.4 - Service Class Specifications</span>
            </th>
         </tr>
      </table>
   </body>
</html>
