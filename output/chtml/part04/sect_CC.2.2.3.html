<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>CC.2.2.3 Service Class Provider Behavior</title>
      <link rel="stylesheet" type="text/css" href="dicom.css" />
      <meta name="generator" content="DocBook XSL Stylesheets V1.78.1" />
      <link rel="home" href="PS3.4.html" title="PS3.4" />
      <link rel="up" href="sect_CC.2.2.html" title="CC.2.2 Request UPS Cancel (N-ACTION)" />
      <link rel="prev" href="sect_CC.2.2.2.html" title="CC.2.2.2 Service Class User Behavior" />
      <link rel="next" href="sect_CC.2.2.4.html" title="CC.2.2.4 Status Codes" />
      <style type="text/css"><![CDATA[
	p { font-size: 15px; }
      ]]></style>
   </head>
   <body>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.4 - Service Class Specifications</span>
            </th>
         </tr>
      </table>
      <div xmlns="" class="navheader">
         <table width="100%" summary="Navigation header">
            <tr>
               <th colspan="3" align="center" rowspan="1">CC.2.2.3 Service Class Provider Behavior <a accesskey="current" href="http://dicom.nema.org/medical/dicom/current/output/chtml/part04/sect_CC.2.2.3.html" shape="rect">(Current)</a>
               </th>
            </tr>
            <tr>
               <td width="20%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_CC.2.2.2.html" shape="rect">Prev</a> </td>
               <th width="60%" align="center" rowspan="1" colspan="1">CC.2.2 Request UPS Cancel (N-ACTION)</th>
               <td width="20%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_CC.2.2.4.html" shape="rect">Next</a>
               </td>
            </tr>
         </table>
         <hr />
      </div>
      <div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="breadcrumbs">
         <span class="breadcrumb-link">
            <a href="PS3.4.html" shape="rect">PS3.4</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="chapter_CC.html" shape="rect">Unified Procedure Step Service and SOP Classes (Normative)</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="sect_CC.2.html" shape="rect">DIMSE Service Groups</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="sect_CC.2.2.html" shape="rect">Request UPS Cancel (N-ACTION)</a>
         </span> &gt; <span class="breadcrumb-node">Service Class Provider Behavior</span>
      </div>
      <div class="section">
         <div class="titlepage">
            <div>
               <div>
                  <h4 class="title">
                     <a id="sect_CC.2.2.3" shape="rect"></a>CC.2.2.3 Service Class Provider Behavior</h4>
               </div>
            </div>
         </div>
         <p>
            <a id="para_5461de5b-264e-4128-9dbb-13ec6442454e" shape="rect"></a>The SCP shall send appropriate "UPS Cancel Requested" N-EVENT-REPORT messages, as described in <a class="xref" href="sect_CC.2.4.3.html" title="CC.2.4.3 Service Class Provider Behavior" shape="rect">Section CC.2.4.3</a> or shall report the appropriate failure response code.</p>
         <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
            <h3 class="title">Note</h3>
            <p>
               <a id="para_05ebbf33-bf1e-4608-ad86-98bf4489df86" shape="rect"></a>If provided, the Reason For Cancellation, a proposed Procedure Step Discontinuation Reason Code Sequence, a Contact Display Name and a Contact URI of someone responsible for the Cancel request might be useful in deciding to cancel the UPS or might be displayed to an operator so they can make contact for the purpose of clarifying or confirming the Cancel request. If the SCP is the performer and chooses to actually Cancel the UPS, it may at its own discretion set the Procedure Step Discontinuation Reason Code Sequence in the UPS instance based on the corresponding values provided.</p>
         </div>
         <p>
            <a id="para_0bce0b50-7d41-4a96-941a-7c6115f9d4e1" shape="rect"></a>If the Procedure Step State (0074,1000) of the UPS instance is still SCHEDULED, the SCP shall change the Procedure Step State, as described in <a class="xref" href="sect_CC.2.html#sect_CC.2.1.3" title="CC.2.1.3 Service Class Provider Behavior" shape="rect">Section CC.2.1.3</a>, first to IN PROGRESS and then to CANCELED, ensuring that the Final State requirements, described in <a class="xref" href="sect_CC.2.5.html#sect_CC.2.5.1.1" title="CC.2.5.1.1 UPS Final State Requirements" shape="rect">Section CC.2.5.1.1</a>, are met.</p>
         <p>
            <a id="para_7eb1ea38-ca9f-43ae-aaed-412480db7d70" shape="rect"></a>If the Procedure Step State (0074,1000) of the UPS instance is IN PROGRESS, and the SCP is itself the performer of the UPS, the SCP may, at its own discretion, choose to cancel the UPS as described in <a class="xref" href="sect_CC.2.html#sect_CC.2.1.3" title="CC.2.1.3 Service Class Provider Behavior" shape="rect">Section CC.2.1.3</a>.</p>
         <p>
            <a id="para_21ed76cb-47aa-43e4-a478-5e3b7c796476" shape="rect"></a>If the SCP is the performer of the UPS and chooses not to cancel, or if there is no possibility that the performing SCU will be informed of the cancel request (e.g., the subscription list for the UPS is empty, or the SCP has determined that the performing SCU has been disabled), the SCP may return a failure.</p>
         <p>
            <a id="para_2143545c-b002-4f6c-9f3b-6a6df9f36b24" shape="rect"></a>Upon completion of the N-ACTION request, the SCP shall return, via the N-ACTION response primitive, the N-ACTION Status Code applicable to the associated request as shown in <a class="xref" href="sect_CC.2.2.4.html#table_CC.2.2-2" title="Table CC.2.2-2. N-ACTION Response Status Values [for Request UPS Cancel]" shape="rect">Table CC.2.2-2</a>.</p>
         <p>
            <a id="para_00f1fe67-18df-4777-bcb5-4c2d97b2976f" shape="rect"></a>Bi-directional Authentication of machines/users/applications is possible at association time (see <a href="../part07/PS3.7.html" class="olink" shape="rect">PS3.7</a> and <a href="../part15/PS3.15.html" class="olink" shape="rect">PS3.15</a>). <a href="../part07/PS3.7.html" class="olink" shape="rect">PS3.7</a> provides a "Refused: Refused: Not authorized" error code. Further requiring or documenting authentication and/or authorization features from the SCU or SCP is beyond the scope of this SOP Class.</p>
      </div>
      <div class="navfooter">
         <hr />
         <table width="100%" summary="Navigation footer">
            <tr>
               <td width="40%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_CC.2.2.2.html" shape="rect">Prev</a> </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="u" href="sect_CC.2.2.html" shape="rect">Up</a>
               </td>
               <td width="40%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_CC.2.2.4.html" shape="rect">Next</a>
               </td>
            </tr>
            <tr>
               <td width="40%" align="left" valign="top" rowspan="1" colspan="1">CC.2.2.2 Service Class User Behavior </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="h" href="PS3.4.html" shape="rect">Home</a>
               </td>
               <td width="40%" align="right" valign="top" rowspan="1" colspan="1"> CC.2.2.4 Status Codes</td>
            </tr>
         </table>
      </div>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.4 - Service Class Specifications</span>
            </th>
         </tr>
      </table>
   </body>
</html>
