<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>R.6.3.2 Network Synchronized Time</title>
      <link rel="stylesheet" type="text/css" href="dicom.css" />
      <meta name="generator" content="DocBook XSL Stylesheets V1.78.1" />
      <link rel="home" href="PS3.17.html" title="PS3.17" />
      <link rel="up" href="sect_R.6.3.html" title="R.6.3 Background" />
      <link rel="prev" href="sect_R.6.3.html" title="R.6.3 Background" />
      <link rel="next" href="sect_R.6.3.3.html" title="R.6.3.3 External Clocks" />
      <style type="text/css"><![CDATA[
	p { font-size: 15px; }
      ]]></style>
   </head>
   <body>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.17 2024a - Explanatory Information</span>
            </th>
         </tr>
      </table>
      <div xmlns="" class="navheader">
         <table width="100%" summary="Navigation header">
            <tr>
               <th colspan="3" align="center" rowspan="1">R.6.3.2 Network Synchronized Time <a accesskey="current" href="http://dicom.nema.org/medical/dicom/current/output/chtml/part17/sect_R.6.3.2.html" shape="rect">(Current)</a>
               </th>
            </tr>
            <tr>
               <td width="20%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_R.6.3.html" shape="rect">Prev</a> </td>
               <th width="60%" align="center" rowspan="1" colspan="1">R.6.3 Background</th>
               <td width="20%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_R.6.3.3.html" shape="rect">Next</a>
               </td>
            </tr>
         </table>
         <hr />
      </div>
      <div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="breadcrumbs">
         <span class="breadcrumb-link">
            <a href="PS3.17.html" shape="rect">PS3.17</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="chapter_R.html" shape="rect">Configuration Use Cases (Informative)</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="sect_R.6.html" shape="rect">Time Synchronization</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="sect_R.6.3.html" shape="rect">Background</a>
         </span> &gt; <span class="breadcrumb-node">Network Synchronized Time</span>
      </div>
      <div class="section">
         <div class="titlepage">
            <div>
               <div>
                  <h4 class="title">
                     <a id="sect_R.6.3.2" shape="rect"></a>R.6.3.2 Network Synchronized Time</h4>
               </div>
            </div>
         </div>
         <p>
            <a id="para_e8c37711-cb01-4558-a096-a4dbbe283bb8" shape="rect"></a>There is a well established Internet protocol (NTP) for maintaining time synchronization that should be used by DICOM. It operates in several ways.</p>
         <p>
            <a id="para_7f479150-9f1d-41f3-9c44-d094a4cab416" shape="rect"></a>The most common is for the computer to become an NTP client of one or more NTP servers. As a client it uses occasional ping-pong NTP messages to:</p>
         <div class="orderedlist">
            <ol class="orderedlist" type="a">
               <li class="listitem">
                  <p>
                     <a id="para_9fc7b27a-152d-4290-a10d-4ac06a9f16b0" shape="rect"></a>Estimate the network delays. These estimates are updated during each NTP update cycle.</p>
               </li>
               <li class="listitem">
                  <p>
                     <a id="para_c15df76e-aa2f-4c3b-9b3e-f05dc4650178" shape="rect"></a>Obtain a time estimate from the server. Each estimate includes the server's own statistical characteristics and accuracy assessment of the estimate.</p>
               </li>
               <li class="listitem">
                  <p>
                     <a id="para_b880902b-fb13-457e-a96f-213c3a866ca4" shape="rect"></a>Use the time estimates from the servers, the network delay estimates, and the time estimates from the local system clock, to obtain a new NTP time estimate. This typically uses modern statistical methods and filtering to perform optimal estimation.</p>
               </li>
               <li class="listitem">
                  <p>
                     <a id="para_ca21d3b8-be53-4d4c-8942-96f7f557a85f" shape="rect"></a>Use the resulting time estimate to</p>
                  <div class="orderedlist">
                     <ol class="orderedlist" type="1">
                        <li class="listitem">
                           <p>
                              <a id="para_2e21e63e-986d-4a24-bcf9-ea07d7a7aac9" shape="rect"></a>Adjust the system time, and</p>
                        </li>
                        <li class="listitem">
                           <p>
                              <a id="para_5d70c793-f4db-4c64-9c9f-c4a6ebf7b5d1" shape="rect"></a>Update drift and statistical characteristics of the local clock.</p>
                        </li>
                     </ol>
                  </div>
               </li>
            </ol>
         </div>
         <p>
            <a id="para_86b9d433-f85c-4c31-947b-a95b9a53ec98" shape="rect"></a>The local applications do not normally communicate with the NTP client software. They normally continue to use the system clock services. The NTP client software adjusts the system clock. The NTP standard defines a nominal system clock service as having two adjustable parameters:</p>
         <div class="orderedlist">
            <ol class="orderedlist" type="a">
               <li class="listitem">
                  <p>
                     <a id="para_814fcb99-f75c-4595-95ff-18f3b500b936" shape="rect"></a>The clock frequency. In the example above, the nominal clock was 100Hz, with a nominal increment of 10 milliseconds. Long term measurement may indicate that the actual clock is slightly faster and the NTP client can adjust the clock increment to be 9.98 milliseconds.</p>
               </li>
               <li class="listitem">
                  <p>
                     <a id="para_d3563823-0640-4267-809c-76a4569490e6" shape="rect"></a>The clock phase. This adjustment permits jump adjustments, and is the fixed time offset between the internal clock and the estimated UTC.</p>
               </li>
            </ol>
         </div>
         <p>
            <a id="para_569c0648-28dc-42a8-9e6c-61e5ad08e754" shape="rect"></a>The experience with NTP in the field is that NTP clients on the same LAN as their NTP server will maintain synchronization to within approximately 100 microseconds. NTP clients on the North American Internet and utilizing multiple NTP servers will maintain synchronization to within approximately 10 milliseconds.</p>
         <p>
            <a id="para_8fa7a037-f61d-4810-b380-ddc0919a70bd" shape="rect"></a>There are low cost devices with only limited time synchronization needs. NTP has been updated to include SNTP for these devices. SNTP eliminates the estimation of network delays and eliminates the statistical methods for optimal time estimation. It assumes that the network delays are nil and that each NTP server time estimate received is completely accurate. This reduces the development and hardware costs for these devices. The computer processing costs for NTP are insignificant for a PC, but may be burdensome for very small devices. The SNTP synchronization errors are only a few milliseconds in a LAN environment. They are very topology sensitive and errors may become huge in a WAN environment.</p>
         <p>
            <a id="para_b92b1f18-5675-40e8-a7e3-0b7c271928bc" shape="rect"></a>Most NTP servers are in turn NTP clients to multiple superior servers and peers. NTP is designed to accommodate a hierarchy of server/clients that distributes time information from a few international standard clocks out through layers of servers.</p>
      </div>
      <div class="navfooter">
         <hr />
         <table width="100%" summary="Navigation footer">
            <tr>
               <td width="40%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_R.6.3.html" shape="rect">Prev</a> </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="u" href="sect_R.6.3.html" shape="rect">Up</a>
               </td>
               <td width="40%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_R.6.3.3.html" shape="rect">Next</a>
               </td>
            </tr>
            <tr>
               <td width="40%" align="left" valign="top" rowspan="1" colspan="1">R.6.3 Background </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="h" href="PS3.17.html" shape="rect">Home</a>
               </td>
               <td width="40%" align="right" valign="top" rowspan="1" colspan="1"> R.6.3.3 External Clocks</td>
            </tr>
         </table>
      </div>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.17 2024a - Explanatory Information</span>
            </th>
         </tr>
      </table>
   </body>
</html>
