<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>XXX.3.5 Volumetric Annotations (example: Trajectory Planning)</title>
      <link rel="stylesheet" type="text/css" href="dicom.css" />
      <meta name="generator" content="DocBook XSL Stylesheets V1.78.1" />
      <link rel="home" href="PS3.17.html" title="PS3.17" />
      <link rel="up" href="sect_XXX.3.html" title="XXX.3 Use Cases" />
      <link rel="prev" href="sect_XXX.3.4.3.html" title="XXX.3.4.3 Encoding Details" />
      <link rel="next" href="sect_XXX.3.5.2.html" title="XXX.3.5.2 Encoding Outline" />
      <style type="text/css"><![CDATA[
	p { font-size: 15px; }
      ]]></style>
   </head>
   <body>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.17 2024a - Explanatory Information</span>
            </th>
         </tr>
      </table>
      <div xmlns="" class="navheader">
         <table width="100%" summary="Navigation header">
            <tr>
               <th colspan="3" align="center" rowspan="1">XXX.3.5 Volumetric Annotations (example: Trajectory Planning) <a accesskey="current" href="http://dicom.nema.org/medical/dicom/current/output/chtml/part17/sect_XXX.3.5.html" shape="rect">(Current)</a>
               </th>
            </tr>
            <tr>
               <td width="20%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_XXX.3.4.3.html" shape="rect">Prev</a> </td>
               <th width="60%" align="center" rowspan="1" colspan="1">XXX.3 Use Cases</th>
               <td width="20%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_XXX.3.5.2.html" shape="rect">Next</a>
               </td>
            </tr>
         </table>
         <hr />
      </div>
      <div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="breadcrumbs">
         <span class="breadcrumb-link">
            <a href="PS3.17.html" shape="rect">PS3.17</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="chapter_XXX.html" shape="rect">Volumetric Presentation States (Informative)</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="sect_XXX.3.html" shape="rect">Use Cases</a>
         </span> &gt; <span class="breadcrumb-node">Volumetric Annotations (example: Trajectory Planning)</span>
      </div>
      <div class="section">
         <div class="titlepage">
            <div>
               <div>
                  <h3 class="title">
                     <a id="sect_XXX.3.5" shape="rect"></a>XXX.3.5 Volumetric Annotations (example: Trajectory Planning)</h3>
               </div>
            </div>
         </div>
         <div class="section">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title">
                        <a id="sect_XXX.3.5.1" shape="rect"></a>XXX.3.5.1 User Scenario</h4>
                  </div>
               </div>
            </div>
            <p>
               <a id="para_b2389c87-a730-4420-b9a5-2a6e8d53314d" shape="rect"></a>The Planar MPR Volumetric Presentation State makes it easy for the receiving display application to enable the user to modify the initial view for viewing nearby anatomy. This requires that display relative annotations need to be removed when the initial view gets manipulated. Otherwise there would be the risk that the annotations point to the wrong anatomy.</p>
            <p>
               <a id="para_30081e11-5660-4385-bc01-2e4855ca64c6" shape="rect"></a>To give the display application more control over when to show annotations, the Planar MPR Volumetric Presentation State defines annotations described by coordinates in the VPS-RCS.</p>
            <p>
               <a id="para_2f7adff8-bd8e-47c5-baaf-dd8971b59cec" shape="rect"></a>As an example, during intervention trajectory planning one or more straight lines representing the trajectories of a device (e.g., needle) to be introduced during further treatment (e.g., cementoplasty, tumor ablation…) are drawn by the user on a planar MPR view.</p>
            <p>
               <a id="para_d9b9fcb7-a709-46e5-ae6c-d554834970b7" shape="rect"></a>
                        </p>
            <div class="figure">
               <a id="figure_XXX.3.5-1" shape="rect"></a>
               <div class="figure-contents">
                  <div class="mediaobject">
                     <img src="figures/PS3.17_XXX.3.5-1.svg" alt="Needle trajectory on a Planar MPR view" />
                  </div>
               </div>
               <p class="title">
                  <strong>Figure XXX.3.5-1. Needle trajectory on a Planar MPR view</strong>
               </p>
            </div>
            <p>
               <br class="figure-break" clear="none" />
                    </p>
            <p>
               <a id="para_d713ed5c-799e-40ce-b5db-a815fa079d94" shape="rect"></a>The Planar MPR VPS does not define how to render the text associated with the annotation or how to connect it to the graphical representation of the annotation. This is an implementation decision.</p>
            <p>
               <a id="para_8c823951-3646-449e-9f66-c0a2474a013b" shape="rect"></a>The creating application derives the 3D coordinates of the needle trajectory from the Planar MPR view and creates a Planar MPR VPS SOP instance with the needle trajectory as Volumetric Graphic Annotation. When a user viewing the Presentation State manipulates the initial Planar MPR view, the display application could control the visibility of the needle trajectory based on the visibility of the part of the volume which is crossed by the needle trajectory (e.g., by fading the trajectory in and out, since the intersection of the graphic with the plane may only appear as one point). Annotation Clipping (0070,1907) controls whether the out-of-view portion of the 3D annotation is displayed or not; see <a href="../part03/sect_C.11.28.html#sect_C.11.28.1" class="olink" shape="rect">Section C.11.28.1 “Annotation Clipping” in PS3.3</a> for details.</p>
            <p>
               <a id="para_93cc8e4e-68d7-4941-99d4-061f1f688b92" shape="rect"></a>For handling multiple annotations in different areas of the volume, applications might provide a list of the annotations which are referenced in the Presentation State. When a user selects one of the annotations the Planar MPR view could automatically be adjusted to optimally show the part of the volume containing the annotation.</p>
         </div>
      </div>
      <div class="navfooter">
         <hr />
         <table width="100%" summary="Navigation footer">
            <tr>
               <td width="40%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_XXX.3.4.3.html" shape="rect">Prev</a> </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="u" href="sect_XXX.3.html" shape="rect">Up</a>
               </td>
               <td width="40%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_XXX.3.5.2.html" shape="rect">Next</a>
               </td>
            </tr>
            <tr>
               <td width="40%" align="left" valign="top" rowspan="1" colspan="1">XXX.3.4.3 Encoding Details </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="h" href="PS3.17.html" shape="rect">Home</a>
               </td>
               <td width="40%" align="right" valign="top" rowspan="1" colspan="1"> XXX.3.5.2 Encoding Outline</td>
            </tr>
         </table>
      </div>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.17 2024a - Explanatory Information</span>
            </th>
         </tr>
      </table>
   </body>
</html>
