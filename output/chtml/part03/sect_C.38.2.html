<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>C.38.2 Inventory Related Macros</title>
      <link rel="stylesheet" type="text/css" href="dicom.css" />
      <meta name="generator" content="DocBook XSL Stylesheets V1.78.1" />
      <link rel="home" href="PS3.3.html" title="PS3.3" />
      <link rel="up" href="sect_C.38.html" title="C.38 Inventory Modules" />
      <link rel="prev" href="sect_C.38.html" title="C.38 Inventory Modules" />
      <link rel="next" href="sect_C.38.2.2.html" title="C.38.2.2 Stored File Access Macro" />
      <style type="text/css"><![CDATA[
	p { font-size: 15px; }
      ]]></style>
   </head>
   <body>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.3 2024c - Information Object Definitions</span>
            </th>
         </tr>
      </table>
      <div xmlns="" class="navheader">
         <table width="100%" summary="Navigation header">
            <tr>
               <th colspan="3" align="center" rowspan="1">C.38.2 Inventory Related Macros <a accesskey="current" href="http://dicom.nema.org/medical/dicom/current/output/chtml/part03/sect_C.38.2.html" shape="rect">(Current)</a>
               </th>
            </tr>
            <tr>
               <td width="20%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_C.38.html" shape="rect">Prev</a> </td>
               <th width="60%" align="center" rowspan="1" colspan="1">C.38 Inventory Modules</th>
               <td width="20%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_C.38.2.2.html" shape="rect">Next</a>
               </td>
            </tr>
         </table>
         <hr />
      </div>
      <div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="breadcrumbs">
         <span class="breadcrumb-link">
            <a href="PS3.3.html" shape="rect">PS3.3</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="chapter_C.html" shape="rect">Information Module Definitions (Normative)</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="sect_C.38.html" shape="rect">Inventory Modules</a>
         </span> &gt; <span class="breadcrumb-node">Inventory Related Macros</span>
      </div>
      <div class="section">
         <div class="titlepage">
            <div>
               <div>
                  <h3 class="title">
                     <a id="sect_C.38.2" shape="rect"></a>C.38.2 Inventory Related Macros</h3>
               </div>
            </div>
         </div>
         <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
            <h3 class="title">Note</h3>
            <p>
               <a id="para_a40ee885-e38a-450e-be67-e40595c32d77" shape="rect"></a>See <a class="xref" href="sect_5.5.html" title="5.5 Types and Conditions in Normalized IODs" shape="rect">Section 5.5</a> for the interpretation of the Type column when these Macros are invoked in Normalized IODs.</p>
         </div>
         <div class="section">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title">
                        <a id="sect_C.38.2.1" shape="rect"></a>C.38.2.1 Scope of Inventory Macro</h4>
                  </div>
               </div>
            </div>
            <p>
               <a id="para_0d75aee6-5186-4b9f-aeca-66d997afc80b" shape="rect"></a>
                        <a class="xref" href="sect_C.38.2.html#table_C.38.2-1" title="Table C.38.2-1. Scope of Inventory Macro Attributes" shape="rect">Table C.38.2-1</a> specifies the Key Attribute valuesthat select the Studies included in the Inventory, i.e., the Scope of Inventory.</p>
            <p>
               <a id="para_fefb5534-a208-4181-a7a8-5f8be1c5c043" shape="rect"></a>The full semantics of the matching process is specified in <a href="../part04/chapter_C.html" class="olink" shape="rect">Annex C “Query/Retrieve Service Class (Normative)” in PS3.4</a>.</p>
            <div class="table">
               <a id="table_C.38.2-1" shape="rect"></a>
               <p class="title">
                  <strong>Table C.38.2-1. Scope of Inventory Macro Attributes</strong>
               </p>
               <div class="table-contents">
                  <table frame="box" rules="all">
                     <thead>
                        <tr valign="top">
                           <th align="center" rowspan="1" colspan="1">
                                    <p>
                                 <a id="para_f134bc72-fa37-460c-8f86-932d49612c9b" shape="rect"></a>Attribute Name</p>
                                </th>
                           <th align="center" rowspan="1" colspan="1">
                                    <p>
                                 <a id="para_998a637c-7fc5-4775-be36-bc1a2dfb17d0" shape="rect"></a>Tag</p>
                                </th>
                           <th align="center" rowspan="1" colspan="1">
                                    <p>
                                 <a id="para_0dd9c975-a006-4521-b399-a5c5883c279a" shape="rect"></a>Type</p>
                                </th>
                           <th align="center" rowspan="1" colspan="1">
                                    <p>
                                 <a id="para_02734d8e-849a-4dec-9bec-d932de97b0ac" shape="rect"></a>Attribute Description</p>
                                </th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr valign="top">
                           <td align="left" rowspan="1" colspan="1">
                                    <p>
                                 <a id="para_1c2e08e1-0897-4807-892b-f7efd1cda171" shape="rect"></a>Scope of Inventory Sequence</p>
                                </td>
                           <td align="center" rowspan="1" colspan="1">
                                    <p>
                                 <a id="para_29387ba7-3f1f-4769-a3b8-a023af34b13f" shape="rect"></a>(0008,0400)</p>
                                </td>
                           <td align="center" rowspan="1" colspan="1">
                                    <p>
                                 <a id="para_932996f3-2297-49c1-873b-406019064ac9" shape="rect"></a>2</p>
                                </td>
                           <td align="left" rowspan="1" colspan="1">
                                    <p>
                                 <a id="para_a29f0753-8e08-4d3d-b535-45b9c21b07ed" shape="rect"></a>Matching Key Attribute values for the Studies to be included in the Inventory. See <a class="xref" href="sect_C.38.2.html#sect_C.38.2.1.1.1" title="C.38.2.1.1.1 Scope of Inventory Sequence" shape="rect">Section C.38.2.1.1.1</a>.</p>
                                    <p>
                                 <a id="para_746205ba-6395-48c4-9f61-c9ff14c7f258" shape="rect"></a>Zero or one Item shall be included in this Sequence.</p>
                                    <p>
                                 <a id="para_58bca00f-abd4-4a15-a640-d5d9fa748d56" shape="rect"></a>An empty Sequence, or a Sequence with a single empty Item, indicates Universal Match to all Studies in the Repository.</p>
                                </td>
                        </tr>
                        <tr valign="top">
                           <td align="left" rowspan="1" colspan="1">
                                    <p>
                                 <a id="para_45aea519-7e6f-4872-ae86-ce0f09c2c5bb" shape="rect"></a>&gt;Extended Matching Mechanisms</p>
                                </td>
                           <td align="center" rowspan="1" colspan="1">
                                    <p>
                                 <a id="para_95eff8bf-8e77-4490-b51f-a22e057de3a5" shape="rect"></a>(0008,040F)</p>
                                </td>
                           <td align="center" rowspan="1" colspan="1">
                                    <p>
                                 <a id="para_eba820a5-9c43-4d7b-87d2-aa48d810d37e" shape="rect"></a>1C</p>
                                </td>
                           <td align="left" rowspan="1" colspan="1">
                                    <p>
                                 <a id="para_52e91ca5-85e5-4868-9cfc-b4f83ea0ae57" shape="rect"></a>Extended Attribute matching mechanisms applied to the Key Attributes, equivalent to mechanisms accepted during Extended Negotiation of the Query/Retrieve Service Class as specified in <a href="../part04/sect_C.5.html#sect_C.5.1.1.2" class="olink" shape="rect">Section C.5.1.1.2 “SOP Class Extended Negotiation Sub-Item Structure (A-ASSOCIATE-AC)” in PS3.4</a>. See <a class="xref" href="sect_C.38.2.html#sect_C.38.2.1.1.1" title="C.38.2.1.1.1 Scope of Inventory Sequence" shape="rect">Section C.38.2.1.1.1</a>.</p>
                                    <div class="variablelist">
                                 <p class="title">
                                    <strong>Enumerated Values:</strong>
                                 </p>
                                 <dl class="variablelist compact">
                                    <dt>
                                       <span class="term">RELATIONAL</span>
                                    </dt>
                                    <dd>
                                       <p>
                                          <a id="para_84046fa6-a2c1-436e-8823-a5405cdbb007" shape="rect"></a>Relational-queries</p>
                                    </dd>
                                    <dt>
                                       <span class="term">COMBINED_DT</span>
                                    </dt>
                                    <dd>
                                       <p>
                                          <a id="para_aefce248-7b57-4bc0-bb2c-c7870af6a840" shape="rect"></a>Date-time Matching</p>
                                    </dd>
                                    <dt>
                                       <span class="term">FUZZY_SEMANTIC</span>
                                    </dt>
                                    <dd>
                                       <p>
                                          <a id="para_3a0b37ca-30ee-4bdb-bb79-b9a6b8542a18" shape="rect"></a>Fuzzy Semantic Matching of person names</p>
                                    </dd>
                                    <dt>
                                       <span class="term">TIMEZONE_ADJUST</span>
                                    </dt>
                                    <dd>
                                       <p>
                                          <a id="para_ff8bdbb7-65c3-4756-aedd-0861e1298905" shape="rect"></a>Timezone Query Adjustment</p>
                                    </dd>
                                    <dt>
                                       <span class="term">EMPTY_VALUE</span>
                                    </dt>
                                    <dd>
                                       <p>
                                          <a id="para_4e81e71b-701a-46c1-94db-178ffcd7e700" shape="rect"></a>Empty Value Matching</p>
                                    </dd>
                                    <dt>
                                       <span class="term">MULTIPLE_VALUE</span>
                                    </dt>
                                    <dd>
                                       <p>
                                          <a id="para_087f12fc-0409-4b55-8dbb-0169aa88d35a" shape="rect"></a>Multiple Value Matching</p>
                                    </dd>
                                 </dl>
                              </div>
                                    <p>
                                 <a id="para_51e26bb2-5404-4a70-8407-7628d3237809" shape="rect"></a>Required if extended matching mechanisms were applied.</p>
                                </td>
                        </tr>
                        <tr valign="top">
                           <td align="left" rowspan="1" colspan="1">
                                    <p>
                                 <a id="para_c43fbc5b-c8fc-4bf7-9f7f-80ee887931f6" shape="rect"></a>&gt;Specific Character Set</p>
                                </td>
                           <td align="center" rowspan="1" colspan="1">
                                    <p>
                                 <a id="para_7d0c3752-d392-41e0-b0f7-c9f539898bb2" shape="rect"></a>(0008,0005)</p>
                                </td>
                           <td align="center" rowspan="1" colspan="1">
                                    <p>
                                 <a id="para_6e1464e1-dc66-4788-be04-77c419b8a8be" shape="rect"></a>1C</p>
                                </td>
                           <td align="left" rowspan="1" colspan="1">
                                    <p>
                                 <a id="para_08cbc646-5ac8-4cdd-8f9e-99d09cb8c9f7" shape="rect"></a>Expanded or replacement character sets used in the Key Attributes. See <a class="xref" href="sect_C.12.html#sect_C.12.1.1.2" title="C.12.1.1.2 Specific Character Set" shape="rect">Section C.12.1.1.2</a>.</p>
                                    <p>
                                 <a id="para_41a2daee-1b6c-4fa4-bba7-b2cbf246ed70" shape="rect"></a>Required if Attributes within the Sequence Item use an expanded or replacement character set.</p>
                                </td>
                        </tr>
                        <tr valign="top">
                           <td align="left" rowspan="1" colspan="1">
                                    <p>
                                 <a id="para_2c531b54-ee8f-4e26-9bdd-0b1be6bdd1c6" shape="rect"></a>&gt;Timezone Offset from UTC</p>
                                </td>
                           <td align="center" rowspan="1" colspan="1">
                                    <p>
                                 <a id="para_180109b3-3333-4a12-b2f6-209b4b445c15" shape="rect"></a>(0008,0201)</p>
                                </td>
                           <td align="center" rowspan="1" colspan="1">
                                    <p>
                                 <a id="para_a2b97744-f294-4061-a474-0b0e1aed788c" shape="rect"></a>1C</p>
                                </td>
                           <td align="left" rowspan="1" colspan="1">
                                    <p>
                                 <a id="para_78a8df65-2e45-4633-832f-6b8cdb9d7d25" shape="rect"></a>Offset from UTC to the local timezone for all DA and TM Key Attributes. See <a class="xref" href="sect_C.12.html#sect_C.12.1.1.8" title="C.12.1.1.8 Timezone Offset From UTC" shape="rect">Section C.12.1.1.8</a>.</p>
                                    <p>
                                 <a id="para_d8e6b640-c356-4e71-a009-176b307e9706" shape="rect"></a>Required if Extended Matching Mechanisms (0008,040F) includes value TIMEZONE_ADJUST.</p>
                                </td>
                        </tr>
                        <tr valign="top">
                           <td align="left" rowspan="1" colspan="1">
                                    <p>
                                 <a id="para_8ea4b3b8-4dc2-4009-ad48-6c5391899c92" shape="rect"></a>&gt;Query/Retrieve Level</p>
                                </td>
                           <td align="center" rowspan="1" colspan="1">
                                    <p>
                                 <a id="para_b1ccd422-491a-4b74-a50e-5366e3c655b7" shape="rect"></a>(0008,0052)</p>
                                </td>
                           <td align="center" rowspan="1" colspan="1">
                                    <p>
                                 <a id="para_8225ee0e-d399-47be-84b3-4bb6d5ee4788" shape="rect"></a>1C</p>
                                </td>
                           <td align="left" rowspan="1" colspan="1">
                                    <p>
                                 <a id="para_78381986-dec0-4aad-b078-6cfa04e2f914" shape="rect"></a>Matching level for Relational Matching mechanism. See <a class="xref" href="sect_C.38.2.html#sect_C.38.2.1.1.2" title="C.38.2.1.1.2 Relational Matching" shape="rect">Section C.38.2.1.1.2</a>.</p>
                                    <div class="variablelist">
                                 <p class="title">
                                    <strong>Enumerated Values:</strong>
                                 </p>
                                 <dl class="variablelist compact">
                                    <dt>
                                       <span class="term">STUDY</span>
                                    </dt>
                                    <dd>
                                       <p>
                                          <a id="para_9f9f1c65-1bcf-49e8-a97e-968dba796e7f" shape="rect"></a>Study level</p>
                                    </dd>
                                    <dt>
                                       <span class="term">SERIES</span>
                                    </dt>
                                    <dd>
                                       <p>
                                          <a id="para_6941540d-2c2b-4bad-807b-804e97dc9748" shape="rect"></a>Series level</p>
                                    </dd>
                                    <dt>
                                       <span class="term">IMAGE</span>
                                    </dt>
                                    <dd>
                                       <p>
                                          <a id="para_2bd0d6ca-3ec3-40d6-a05f-9c52b5da388f" shape="rect"></a>SOP Instance level</p>
                                    </dd>
                                 </dl>
                              </div>
                                    <p>
                                 <a id="para_b586c803-5635-4d26-8671-228f4a56725a" shape="rect"></a>Required if Extended Matching Mechanisms (0008,040F) includes value RELATIONAL.</p>
                                </td>
                        </tr>
                        <tr valign="top">
                           <td align="left" rowspan="1" colspan="1">
                                    <p>
                                 <a id="para_fceb8e94-bcf2-42f4-93ae-5e3bed81c0df" shape="rect"></a>&gt;Range Matching Sequence</p>
                                </td>
                           <td align="center" rowspan="1" colspan="1">
                                    <p>
                                 <a id="para_fa0b2ce5-ff70-43fb-a89a-627287c6e8be" shape="rect"></a>(0008,0410)</p>
                                </td>
                           <td align="center" rowspan="1" colspan="1">
                                    <p>
                                 <a id="para_d94258a3-f260-473d-b0b9-8bd2ac734b5d" shape="rect"></a>1C</p>
                                </td>
                           <td align="left" rowspan="1" colspan="1">
                                    <p>
                                 <a id="para_640456c9-aa43-44cb-83a5-b414ce5bdf69" shape="rect"></a>The beginning and end values for Range Matching of date and time Key Attributes. See <a class="xref" href="sect_C.38.2.html#sect_C.38.2.1.1.3" title="C.38.2.1.1.3 Range Matching Sequence" shape="rect">Section C.38.2.1.1.3</a>.</p>
                                    <p>
                                 <a id="para_0551cf72-853e-4763-aa07-0d24463b35f8" shape="rect"></a>Exactly two Items shall be included in this Sequence.</p>
                                    <p>
                                 <a id="para_fd0d9d66-34d0-4301-92a9-83dc1835dbaf" shape="rect"></a>Required if Range Matching is applied to any Key Attribute.</p>
                                </td>
                        </tr>
                        <tr valign="top">
                           <td align="left" colspan="2" rowspan="1">
                                    <p>
                                 <a id="para_50e3f595-c4e5-470c-9613-da70efdc06a5" shape="rect"></a>
                                        <span class="italic">&gt;&gt;Any DA, DT, or TM Attributes</span>
                                    </p>
                                </td>
                           <td align="center" rowspan="1" colspan="1">
                                    <p>
                                 <a id="para_c8cd8f9a-55d6-4355-bf31-243b7b2c07c3" shape="rect"></a>2</p>
                                </td>
                           <td align="left" rowspan="1" colspan="1">
                                    <p>
                                 <a id="para_d8911456-9eb8-471f-8288-6a6d63e13a30" shape="rect"></a>Key Attribute values for matching.</p>
                                    <p>
                                 <a id="para_b7f1e26d-2e7c-4a35-8bb7-6ccd43a98de6" shape="rect"></a>Multiple Attributes may be present.</p>
                                </td>
                        </tr>
                        <tr valign="top">
                           <td align="left" rowspan="1" colspan="1">
                                    <p>
                                 <a id="para_46d207b3-c614-4fc4-a496-53d99142bfd1" shape="rect"></a>&gt;List of UID Matching Sequence</p>
                                </td>
                           <td align="center" rowspan="1" colspan="1">
                                    <p>
                                 <a id="para_a22620b9-b8a4-4504-82e0-29512ba7bba9" shape="rect"></a>(0008,0411)</p>
                                </td>
                           <td align="center" rowspan="1" colspan="1">
                                    <p>
                                 <a id="para_69954604-61c8-460c-b7e9-d6c9ea6354a4" shape="rect"></a>1C</p>
                                </td>
                           <td align="left" rowspan="1" colspan="1">
                                    <p>
                                 <a id="para_c48c10ba-fb2f-4ab5-9e94-e5e7f393f1a1" shape="rect"></a>Key Attribute values for List of UID Matching. See <a class="xref" href="sect_C.38.2.html#sect_C.38.2.1.1.4" title="C.38.2.1.1.4 List of UID Matching Sequence" shape="rect">Section C.38.2.1.1.4</a>.</p>
                                    <p>
                                 <a id="para_c0a21201-51b8-4f83-9a63-27b86af89620" shape="rect"></a>Required if List of UID Matching is applied to any Key Attribute.</p>
                                    <p>
                                 <a id="para_0c4ebd6e-0243-4108-af0d-6cb5d94e7a99" shape="rect"></a>One or more Items shall be included in this Sequence.</p>
                                </td>
                        </tr>
                        <tr valign="top">
                           <td align="left" colspan="2" rowspan="1">
                                    <p>
                                 <a id="para_48e31f44-91a4-4579-b6b1-449604c93f8b" shape="rect"></a>
                                        <span class="italic">&gt;&gt;Any UI Key Attribute</span>
                                    </p>
                                </td>
                           <td align="center" rowspan="1" colspan="1">
                                    <p>
                                 <a id="para_b9477989-b5ba-4923-8e5a-c3da6752f3a3" shape="rect"></a>1</p>
                                </td>
                           <td align="left" rowspan="1" colspan="1">
                                    <p>
                                 <a id="para_79fc9111-e649-420a-a4ac-e1dd0c8fdb14" shape="rect"></a>Key Attribute value for matching.</p>
                                </td>
                        </tr>
                        <tr valign="top">
                           <td align="left" rowspan="1" colspan="1">
                                    <p>
                                 <a id="para_cfcb6797-61e5-4849-8d8e-59d167465f57" shape="rect"></a>&gt;Empty Value Matching Sequence</p>
                                </td>
                           <td align="center" rowspan="1" colspan="1">
                                    <p>
                                 <a id="para_926ef493-58ac-4b07-9504-c3ea6af93c05" shape="rect"></a>(0008,0412)</p>
                                </td>
                           <td align="center" rowspan="1" colspan="1">
                                    <p>
                                 <a id="para_f825795b-3900-4716-915e-721daf6868db" shape="rect"></a>1C</p>
                                </td>
                           <td align="left" rowspan="1" colspan="1">
                                    <p>
                                 <a id="para_bed52e7a-3f3c-429d-bff5-447d728bceef" shape="rect"></a>Key Attributes for Empty Value Matching.</p>
                                    <p>
                                 <a id="para_624c86ec-a22d-40da-b0a1-9b52f2b7ec36" shape="rect"></a>See <a class="xref" href="sect_C.38.2.html#sect_C.38.2.1.1.5" title="C.38.2.1.1.5 Empty Value Matching Sequence" shape="rect">Section C.38.2.1.1.5</a>.</p>
                                    <p>
                                 <a id="para_da4cea6a-9834-46c4-9563-2559b4c728af" shape="rect"></a>Required if Extended Matching Mechanisms (0008,040F) includes value EMPTY_VALUE and Empty Value Matching is applied to any Key Attribute.</p>
                                    <p>
                                 <a id="para_934a539d-7baf-417d-8134-56dbd59bb3c8" shape="rect"></a>Only a single Item is permitted in this Sequence.</p>
                                </td>
                        </tr>
                        <tr valign="top">
                           <td align="left" colspan="2" rowspan="1">
                                    <p>
                                 <a id="para_46505027-76c0-4802-8df0-c98fd386da26" shape="rect"></a>
                                        <span class="italic">&gt;&gt;Any Attributes</span>
                                    </p>
                                </td>
                           <td align="center" rowspan="1" colspan="1">
                                    <p>
                                 <a id="para_3318e209-33b2-4ec3-9f71-c0273efb84f3" shape="rect"></a>2</p>
                                </td>
                           <td align="left" rowspan="1" colspan="1">
                                    <p>
                                 <a id="para_c7b88d99-7a60-4972-9cca-993c7499864e" shape="rect"></a>Key Attributes with zero-length values.</p>
                                    <p>
                                 <a id="para_6143547c-4afd-4c83-a81d-94c92a7c8dd5" shape="rect"></a>Multiple Attributes may be present.</p>
                                </td>
                        </tr>
                        <tr valign="top">
                           <td align="left" rowspan="1" colspan="1">
                                    <p>
                                 <a id="para_26070779-331b-4df7-8780-92c9c166f623" shape="rect"></a>&gt;General Matching Sequence</p>
                                </td>
                           <td align="center" rowspan="1" colspan="1">
                                    <p>
                                 <a id="para_56d89327-3f8e-4538-95e4-b65fe1145857" shape="rect"></a>(0008,0413)</p>
                                </td>
                           <td align="center" rowspan="1" colspan="1">
                                    <p>
                                 <a id="para_8fd51413-c099-473c-9732-64844f02e8b6" shape="rect"></a>1C</p>
                                </td>
                           <td align="left" rowspan="1" colspan="1">
                                    <p>
                                 <a id="para_1c095fd4-51eb-4e6e-b7d1-82f94fe6132d" shape="rect"></a>Key Attribute values for Single Value, Multiple Value, and Wild Card matching. See <a class="xref" href="sect_C.38.2.html#sect_C.38.2.1.1.6" title="C.38.2.1.1.6 General Matching Sequence" shape="rect">Section C.38.2.1.1.6</a>.</p>
                                    <p>
                                 <a id="para_7b68c436-bf35-4562-8718-dc817016d43b" shape="rect"></a>Required if Single Value, Multiple Value, or Wild Card matching is applied to any Key Attribute.</p>
                                    <p>
                                 <a id="para_ad5da73e-3488-41a6-be17-174c23809732" shape="rect"></a>Only a single Item is permitted in this Sequence.</p>
                                </td>
                        </tr>
                        <tr valign="top">
                           <td align="left" colspan="2" rowspan="1">
                                    <p>
                                 <a id="para_80e13604-da51-4c5b-8a56-b1845a84ac92" shape="rect"></a>
                                        <span class="italic">&gt;&gt;Any Attributes</span>
                                    </p>
                                </td>
                           <td align="center" rowspan="1" colspan="1">
                                    <p>
                                 <a id="para_8eb4f6cb-4512-4ee2-b98f-3039990d0e51" shape="rect"></a>1</p>
                                </td>
                           <td align="left" rowspan="1" colspan="1">
                                    <p>
                                 <a id="para_78c8f5f8-6180-4acc-acf2-76f9115a605c" shape="rect"></a>Key Attribute values for matching.</p>
                                    <p>
                                 <a id="para_65323664-b91c-4ed6-8fa6-1800c8e9ecb7" shape="rect"></a>Multiple Attributes may be present.</p>
                                </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
            </div>
            <br class="table-break" clear="none" />
            <div class="section">
               <div class="titlepage">
                  <div>
                     <div>
                        <h5 class="title">
                           <a id="sect_C.38.2.1.1" shape="rect"></a>C.38.2.1.1 Scope of Inventory Macro Attribute Descriptions</h5>
                     </div>
                  </div>
               </div>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h6 class="title">
                              <a id="sect_C.38.2.1.1.1" shape="rect"></a>C.38.2.1.1.1 Scope of Inventory Sequence</h6>
                        </div>
                     </div>
                  </div>
                  <p>
                     <a id="para_8f9abe2a-8bde-402d-87b9-c43bdc3b7973" shape="rect"></a>The Scope of Inventory Sequence (0008,0400) specifies Key Attribute values used to select Studies to be included in an Inventory.</p>
                  <p>
                     <a id="para_023d7876-3a11-4b49-91b2-fc2aa62eca35" shape="rect"></a>Selection of Studies is done by a matching process between Key Attribute values specified in the Scope of Inventory Sequence (0008,0400) and the corresponding values in Attributes of Studies in the repository. The matching process is identical to the Attribute matching specified for the Query/Retrieve Service Class in <a href="../part04/sect_C.2.2.2.html" class="olink" shape="rect">Section C.2.2.2 “Attribute Matching” in PS3.4</a>.</p>
                  <p>
                     <a id="para_9c0aea6b-9fba-4dd1-8be5-83257ed1428c" shape="rect"></a>Any extended matching mechanisms beyond the baseline Query/Retrieve behavior used in selection of Studies for the Inventory are identified in the Extended Matching Mechanisms (0008,040F) Attribute.</p>
                  <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                     <h3 class="title">Note</h3>
                     <div class="orderedlist">
                        <ol class="orderedlist" type="1">
                           <li class="listitem">
                              <p>
                                 <a id="para_2a3b47b6-b78a-4413-b582-5a80dc5aba65" shape="rect"></a>Attributes of Studies that may be matched include those additional Query/Retrieve Attributes that may be managed by the Repository system for managing stored SOP Instances, but are not specified in Composite IODs. See <a class="xref" href="sect_C.3.4.html" title="C.3.4 Visit Admission Module" shape="rect">Section C.3.4</a> and <a href="../part04/sect_C.6.4.html#sect_C.6.4.1" class="olink" shape="rect">Section C.6.4.1 “Additional Query Information Model Attributes” in PS3.4</a>. Of particular interest for some Inventory use cases are Study Update DateTime (0008,041F), Modalities in Study (0008,0061), and Removed from Operational Use (0008,0405).</p>
                           </li>
                           <li class="listitem">
                              <p>
                                 <a id="para_e8247858-40b0-487d-bf2d-ac0598ab7daa" shape="rect"></a>In the Query/Retrieve Service Class (including the Repository Query SOP Class), extended matching mechanisms are requested and agreed through SOP Class Extended Negotiation. In the Inventory Creation SOP Class (<a href="../part04/sect_KK.2.html" class="olink" shape="rect">Section KK.2 “Inventory Creation SOP Class” in PS3.4</a>), the use of extended mechanisms is requested using the Extended Matching Mechanisms (0008,040F) Attribute in the Initiate Action Request. In the Inventory SOP Instances, the actual use of such mechanisms is encoded in the Extended Matching Mechanisms (0008,040F) Attribute by the Instance creator.</p>
                           </li>
                        </ol>
                     </div>
                  </div>
                  <p>
                     <a id="para_dc58ac22-b602-4c54-a7c8-f0f3aa75de9e" shape="rect"></a>Key Attributes for matching in the Query/Retrieve Service Class are allowed to have values that are exceptions to the VR for those Attributes in other contexts (see <a href="../part05/sect_6.2.html" class="olink" shape="rect">Section 6.2 “Value Representation (VR)” in PS3.5</a>), or to have multiplicities that are exceptions to the VM of those Attributes as specified in <a href="../part06/PS3.6.html" class="olink" shape="rect">PS3.6</a>. The Scope of Inventory Sequence (0008,0400) specifies Sequence Attributes that provide equivalent encoding of Key Attributes while maintaining conformance to VR and VM specifications.</p>
                  <p>
                     <a id="para_e902f985-fdcd-45f9-8f9f-e40960398564" shape="rect"></a>Universal matching Key Attributes, i.e., those with zero-length value or with the value "*", do not select Studies, and they shall not be included in the Scope of Inventory. Zero-length values are permitted in Key Attributes of the Range Matching Sequence (0008,0410), where they represent an unbounded beginning or end of a range, and in Key Attributes of the Empty Value Matching Sequence (0008,0412).</p>
               </div>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h6 class="title">
                              <a id="sect_C.38.2.1.1.2" shape="rect"></a>C.38.2.1.1.2 Relational Matching</h6>
                        </div>
                     </div>
                  </div>
                  <p>
                     <a id="para_b4633f7e-c67d-47d6-b0cb-0dc6ba0ef3e5" shape="rect"></a>If Extended Matching Mechanisms (0008,040F) does not include the value RELATIONAL, only Key Attributes defined at the Study level, as specified in <a href="../part04/sect_C.6.2.html#sect_C.6.2.1.2" class="olink" shape="rect">Section C.6.2.1.2 “Study Level” in PS3.4</a>, shall be included in Scope of Inventory.</p>
                  <p>
                     <a id="para_203262a9-48ca-455d-8a08-0e5a36454033" shape="rect"></a>If Extended Matching Mechanisms (0008,040F) includes the value RELATIONAL, Studies are selected for the Inventory in accordance with the specifications for Relational-queries matching in <a href="../part04/sect_C.4.html#sect_C.4.1.3.2.2" class="olink" shape="rect">Section C.4.1.3.2.2 “Relational Search Method” in PS3.4</a> using the Query/Retrieve Level (0008,0052) and Key Attributes specified. The Inventory Level (0008,0403) determines the level of information that is included in the Inventory and may differ from this Query/Retrieve Level (0008,0052). In the case that the Inventory Level (0008,0403) is at or lower than the Query/Retrieve Level (0008,0052), then only the records for entities matching all Key Attributes will be included in the Inventory.</p>
                  <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                     <h3 class="title">Note</h3>
                     <p>
                        <a id="para_59038469-2f32-4ab4-b41d-98fb292cbfe9" shape="rect"></a>For example, specification of Relational Matching, Query/Retrieve Level (0008,0052) SERIES, and a Key Attribute Modality (0008,0060) with value CT will include in the Inventory all Studies that have at least one Series with Modality CT. If the Inventory Level (0008,0403) is INSTANCE, only those Series and Instances with modality CT will be included in the Inventory; Series and Instances with Modality PR or SR, for example, in the same Study will not be included.</p>
                     <p>
                        <a id="para_60f7c7e6-b443-4bc4-a827-e45bf533097b" shape="rect"></a>Baseline (non-relational) matching of Modalities in Study (0008,0061) with value CT will also include in the Inventory all Studies that have at least one Series with Modality CT. But since that Key Attribute performs selection at the Study level, an Inventory will include all Series of any modality for that Study.</p>
                  </div>
               </div>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h6 class="title">
                              <a id="sect_C.38.2.1.1.3" shape="rect"></a>C.38.2.1.1.3 Range Matching Sequence</h6>
                        </div>
                     </div>
                  </div>
                  <p>
                     <a id="para_54d97f65-31a9-46cc-875f-6b17fa6882e3" shape="rect"></a>Range Matching Sequence (0008,0410) provides values for Key Attributes that use range matching of dates and times using the mechanism specified in <a href="../part04/sect_C.2.2.2.5.html" class="olink" shape="rect">Section C.2.2.2.5 “Range Matching” in PS3.4</a>.</p>
                  <p>
                     <a id="para_ab713249-c685-4871-bbb8-e020e63e4d85" shape="rect"></a>The same set of Key Attributes shall be present in both Items of this Sequence. For each Key Attribute, at least one Item shall have a non-zero length value.</p>
                  <p>
                     <a id="para_e217c310-34fe-4dfe-ac52-88bbd80fe850" shape="rect"></a>Values in the first Item represent the beginning of the range, and values in the second Itemrepresent the end of the range. If the first or the second value is empty, the range has an unbounded beginning or end, respectively. The range is inclusive; matched Attributes whose value is at or after the first value and before or at the second value match the range.</p>
                  <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                     <h3 class="title">Note</h3>
                     <p>
                        <a id="para_e9d940da-a40b-4e7a-86a5-8c4135d26e60" shape="rect"></a>In the equivalent Query/Retrieve Service Class range matching, the beginning and end values are encoded in a single Data Element, and delimited by "-".</p>
                  </div>
                  <p>
                     <a id="para_a9b81152-b9d2-4dc1-b1d7-9ae4dcd99a9d" shape="rect"></a>If Extended Matching Mechanisms (0008,040F) includes the value COMBINED_DT, related date and time Attributes, such as Study Date (0008,0020) and Study Time (0008,0030), are considered together as a datetime value for matching.</p>
                  <p>
                     <a id="para_2b7b71c2-cb92-46b9-a1ef-dcfde61eb07d" shape="rect"></a>If Extended Matching Mechanisms (0008,040F) includes the value TIMEZONE_ADJUST, dates and times are adjusted for the local timezone specified in Timezone Offset from UTC (0008,0201), as specified in <a href="../part04/sect_C.2.2.2.html#sect_C.2.2.2.1.3" class="olink" shape="rect">Section C.2.2.2.1.3 “Attributes of VR of DA, DT or TM” in PS3.4</a>.</p>
               </div>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h6 class="title">
                              <a id="sect_C.38.2.1.1.4" shape="rect"></a>C.38.2.1.1.4 List of UID Matching Sequence</h6>
                        </div>
                     </div>
                  </div>
                  <p>
                     <a id="para_6f14c566-31fe-4ef0-a2bd-665b57ddf440" shape="rect"></a>List of UID Matching Sequence (0008,0411) provides a list of UIDs, one per Item, to be matched using the List of UID Matching mechanism specified in <a href="../part04/sect_C.2.2.2.2.html" class="olink" shape="rect">Section C.2.2.2.2 “List of UID Matching” in PS3.4</a>.</p>
                  <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                     <h3 class="title">Note</h3>
                     <p>
                        <a id="para_604bb3d9-168b-44dd-908e-a82e73af70a5" shape="rect"></a>In the equivalent Query/Retrieve Service Class List of UID Matching, the VM=1 restriction is overridden for Key Attributes.</p>
                  </div>
               </div>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h6 class="title">
                              <a id="sect_C.38.2.1.1.5" shape="rect"></a>C.38.2.1.1.5 Empty Value Matching Sequence</h6>
                        </div>
                     </div>
                  </div>
                  <p>
                     <a id="para_21308b90-07ec-4a6e-9c52-82efc2c240e9" shape="rect"></a>Empty Value Matching Sequence (0008,0412) specifies Key Attributes that match when the corresponding Attribute in the Study has no value, as specified in <a href="../part04/sect_C.2.2.2.7.html" class="olink" shape="rect">Section C.2.2.2.7 “Empty Value Matching” in PS3.4</a>. Key Attributes identified in this Sequence shall have zero-length values.</p>
                  <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                     <h3 class="title">Note</h3>
                     <p>
                        <a id="para_8f5156f5-9ee1-4097-bf49-db92873db0c4" shape="rect"></a>In the equivalent Query/Retrieve Service Class Empty Value Matching, the value consisting of exactly two QUOTATION MARK characters signifies an empty value, and its use is permitted in Key Attributes with a VR of DA, DT, or TM.</p>
                  </div>
               </div>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h6 class="title">
                              <a id="sect_C.38.2.1.1.6" shape="rect"></a>C.38.2.1.1.6 General Matching Sequence</h6>
                        </div>
                     </div>
                  </div>
                  <p>
                     <a id="para_bf17f1a8-76c7-4a84-ac67-395fd10b348c" shape="rect"></a>General Matching Sequence (0008,0413) specifies Key Attributes that are matched using Single Value and Wild Card matching, as specified in <a href="../part04/sect_C.2.2.2.html#sect_C.2.2.2.1" class="olink" shape="rect">Section C.2.2.2.1 “Single Value Matching” in PS3.4</a> and <a href="../part04/sect_C.2.2.2.4.html" class="olink" shape="rect">Section C.2.2.2.4 “Wild Card Matching” in PS3.4</a>.</p>
                  <p>
                     <a id="para_70d2c84c-7001-489e-aeef-2267b0b6386a" shape="rect"></a>If Extended Matching Mechanisms (0008,040F) includes the value MULTIPLE_VALUE, General Matching Sequence (0008,0413) may also specify Key Attributes that are matched using Multiple Value matching, as specified in <a href="../part04/sect_C.2.2.2.8.html" class="olink" shape="rect">Section C.2.2.2.8 “Multiple Value Matching” in PS3.4</a>.</p>
                  <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                     <h3 class="title">Note</h3>
                     <p>
                        <a id="para_fb2d86a3-e67d-4da2-9e41-d470f2102fae" shape="rect"></a>If Extended Matching Mechanisms (0008,040F) does not include the value MULTIPLE_VALUE, Key Attributes with multiple values have undefined meaning.</p>
                  </div>
                  <p>
                     <a id="para_17812f92-89bb-402e-bfcb-addca881c8ad" shape="rect"></a>If Extended Matching Mechanisms (0008,040F) includes the value TIMEZONE_ADJUST, dates and time are adjusted for the local timezone specified in Timezone Offset from UTC (0008,0201), as specified in <a href="../part04/sect_C.2.2.2.html#sect_C.2.2.2.1.3" class="olink" shape="rect">Section C.2.2.2.1.3 “Attributes of VR of DA, DT or TM” in PS3.4</a>.</p>
                  <p>
                     <a id="para_21fd610b-b450-4cb8-bad5-2d3b52930918" shape="rect"></a>If Extended Matching Mechanisms (0008,040F) includes the value FUZZY_SEMANTIC, matching of Attributes with VR PN may be done using implementation-specific fuzzy semantic matching, as specified in <a href="../part04/sect_C.2.2.2.html#sect_C.2.2.2.1.1" class="olink" shape="rect">Section C.2.2.2.1.1 “Attributes of VR of PN” in PS3.4</a>.</p>
               </div>
            </div>
         </div>
      </div>
      <div class="navfooter">
         <hr />
         <table width="100%" summary="Navigation footer">
            <tr>
               <td width="40%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_C.38.html" shape="rect">Prev</a> </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="u" href="sect_C.38.html" shape="rect">Up</a>
               </td>
               <td width="40%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_C.38.2.2.html" shape="rect">Next</a>
               </td>
            </tr>
            <tr>
               <td width="40%" align="left" valign="top" rowspan="1" colspan="1">C.38 Inventory Modules </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="h" href="PS3.3.html" shape="rect">Home</a>
               </td>
               <td width="40%" align="right" valign="top" rowspan="1" colspan="1"> C.38.2.2 Stored File Access Macro</td>
            </tr>
         </table>
      </div>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.3 2024c - Information Object Definitions</span>
            </th>
         </tr>
      </table>
   </body>
</html>
