<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>C.11.18 Structured Display Annotation Module</title>
      <link rel="stylesheet" type="text/css" href="dicom.css" />
      <meta name="generator" content="DocBook XSL Stylesheets V1.78.1" />
      <link rel="home" href="PS3.3.html" title="PS3.3" />
      <link rel="up" href="sect_C.11.html" title="C.11 Look Up Tables and Presentation States" />
      <link rel="prev" href="sect_C.11.17.html" title="C.11.17 Structured Display Image Box Module" />
      <link rel="next" href="sect_C.11.19.html" title="C.11.19 XA/XRF Presentation State Mask Module" />
      <style type="text/css"><![CDATA[
	p { font-size: 15px; }
      ]]></style>
   </head>
   <body>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.3 2024a - Information Object Definitions</span>
            </th>
         </tr>
      </table>
      <div xmlns="" class="navheader">
         <table width="100%" summary="Navigation header">
            <tr>
               <th colspan="3" align="center" rowspan="1">C.11.18 Structured Display Annotation Module <a accesskey="current" href="http://dicom.nema.org/medical/dicom/current/output/chtml/part03/sect_C.11.18.html" shape="rect">(Current)</a>
               </th>
            </tr>
            <tr>
               <td width="20%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_C.11.17.html" shape="rect">Prev</a> </td>
               <th width="60%" align="center" rowspan="1" colspan="1">C.11 Look Up Tables and Presentation States</th>
               <td width="20%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_C.11.19.html" shape="rect">Next</a>
               </td>
            </tr>
         </table>
         <hr />
      </div>
      <div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="breadcrumbs">
         <span class="breadcrumb-link">
            <a href="PS3.3.html" shape="rect">PS3.3</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="chapter_C.html" shape="rect">Information Module Definitions (Normative)</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="sect_C.11.html" shape="rect">Look Up Tables and Presentation States</a>
         </span> &gt; <span class="breadcrumb-node">Structured Display Annotation Module</span>
      </div>
      <div class="section">
         <div class="titlepage">
            <div>
               <div>
                  <h3 class="title">
                     <a id="sect_C.11.18" shape="rect"></a>C.11.18 Structured Display Annotation Module</h3>
               </div>
            </div>
         </div>
         <p>
            <a id="para_eaa37fb5-a776-425f-8ed1-b6df739bfc95" shape="rect"></a>
                    <a class="xref" href="sect_C.11.18.html#table_C.11.18-1" title="Table C.11.18-1. Structured Display Annotation Module Attributes" shape="rect">Table C.11.18-1</a> specifies the Attributes of the <a class="xref" href="sect_C.11.18.html" title="C.11.18 Structured Display Annotation Module" shape="rect">Structured Display Annotation Module</a>.</p>
         <p>
            <a id="para_c7d1db93-b9b7-4503-bba9-6b3d22ac8854" shape="rect"></a>This Module defines Attributes of text annotation that shall be applied to a Structured Display. The text is defined in position and size relative to the Display Environment.</p>
         <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
            <h3 class="title">Note</h3>
            <div class="orderedlist">
               <ol class="orderedlist" type="1">
                  <li class="listitem">
                     <p>
                        <a id="para_f5bbabbf-0f6f-438e-a312-d0d76edea944" shape="rect"></a>The text bounding box is specified using the same Attribute, Display Environment Spatial Position (0072,0108), which is used for Image Boxes in the <a class="xref" href="sect_C.11.16.html" title="C.11.16 Structured Display Module" shape="rect">Structured Display Module</a>. This Attribute uses the coordinates (0.0,0.0) as the bottom left hand corner and (1.0,1.0) as the top right hand corner. In contrast, the image-related text annotations defined in the <a class="xref" href="sect_C.10.5.html" title="C.10.5 Graphic Annotation Module" shape="rect">Graphic Annotation Module</a> in image Presentation State IODs use the Attributes Bounding Box Top Left Hand Corner (0070,0010) and Bounding Box Bottom Right Hand Corner (0070,0011), which use the coordinates (0.0,0.0) as the top left hand corner and (1.0,1.0) as the bottom right hand corner.</p>
                  </li>
                  <li class="listitem">
                     <p>
                        <a id="para_1b620369-365f-444e-b15c-87af0f77c6f4" shape="rect"></a>Annotation of regions of interest in images included in the Structured Display, e.g., circling of a feature of interest, may be done with a Presentation State applied to the image in the Structured Display Image Box Sequence (0072,0422) in the <a class="xref" href="sect_C.11.17.html" title="C.11.17 Structured Display Image Box Module" shape="rect">Structured Display Image Box Module</a>. This <a class="xref" href="sect_C.11.18.html" title="C.11.18 Structured Display Annotation Module" shape="rect">Structured Display Annotation Module</a> provides only for text annotations, typically as used for captions for the Image Boxes or for the Structured Display as a whole.</p>
                  </li>
               </ol>
            </div>
         </div>
         <div class="table">
            <a id="table_C.11.18-1" shape="rect"></a>
            <p class="title">
               <strong>Table C.11.18-1. Structured Display Annotation Module Attributes</strong>
            </p>
            <div class="table-contents">
               <table frame="box" rules="all">
                  <thead>
                     <tr valign="top">
                        <th align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_70bda8fa-3c7b-412f-a698-4f38c2eb5f71" shape="rect"></a>Attribute Name</p>
                            </th>
                        <th align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_3168d4ab-aedf-4a1e-af48-5b987dc1e37d" shape="rect"></a>Tag</p>
                            </th>
                        <th align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_014aac53-adf3-46e5-b9df-2b7b942e0b85" shape="rect"></a>Type</p>
                            </th>
                        <th align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_717282cc-fd27-41ce-a885-b96c9913573a" shape="rect"></a>Attribute Description</p>
                            </th>
                     </tr>
                  </thead>
                  <tbody>
                     <tr valign="top">
                        <td align="left" rowspan="1" colspan="1">
                                <p>
                              <a id="para_7f399a58-ba7c-4dbf-91a5-30639d3d26e7" shape="rect"></a>Structured Display Text Box Sequence</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_29d5aa36-42f4-4246-abbd-893c319ba390" shape="rect"></a>(0072,0424)</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_6d5b476f-606f-48b0-8826-5c3815cafa42" shape="rect"></a>1</p>
                            </td>
                        <td align="left" rowspan="1" colspan="1">
                                <p>
                              <a id="para_13e7cd18-dab2-42c4-8c58-f43157308db2" shape="rect"></a>Sequence that describes a text annotation.</p>
                                <p>
                              <a id="para_5df34ec8-b6a9-4072-9b16-a0c67198d4c3" shape="rect"></a>One or more Items shall be included in this Sequence.</p>
                            </td>
                     </tr>
                     <tr valign="top">
                        <td align="left" rowspan="1" colspan="1">
                                <p>
                              <a id="para_1981b64b-e822-4f3d-aebd-68c81a6438ec" shape="rect"></a>&gt;Unformatted Text Value</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_5bfc8eea-ae89-417b-911d-700b58ea8562" shape="rect"></a>(0070,0006)</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_c6b37e1f-f34e-4e93-8b14-d2dc346cee27" shape="rect"></a>1</p>
                            </td>
                        <td align="left" rowspan="1" colspan="1">
                                <p>
                              <a id="para_10e919d3-19c8-40e4-96dc-63d0e3de9f2a" shape="rect"></a>Text data that is unformatted and whose manner of display within the defined bounding box is implementation dependent. See <a class="xref" href="sect_C.11.18.html#sect_C.11.18.1.1" title="C.11.18.1.1 Unformatted Text Value and Display Environment Spatial Position" shape="rect">Section C.11.18.1.1</a>.</p>
                                <p>
                              <a id="para_a5b96da8-8dc4-4042-85ad-ca4a38dd5e8f" shape="rect"></a>The text value may contain spaces, as well as multiple lines separated by CR LF, but otherwise no format control characters (such as horizontal or vertical tab and form feed) shall be present, even if permitted by the Value Representation of ST.</p>
                                <p>
                              <a id="para_8f6c5cfb-5512-46d5-b5d2-8cb190ca4d7a" shape="rect"></a>The text shall be interpreted as specified by Specific Character Set (0008,0005) if present in the SOP Instance.</p>
                                <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                              <h3 class="title">Note</h3>
                              <p>
                                 <a id="para_4d51d02d-23fa-4c1a-8fd6-17d69437aa20" shape="rect"></a>The text may contain single or multi-byte characters and use code extension techniques as described in <a href="../part05/PS3.5.html" class="olink" shape="rect">PS3.5</a> if permitted by the values of Specific Character Set (0008,0005).</p>
                           </div>
                            </td>
                     </tr>
                     <tr valign="top">
                        <td align="left" rowspan="1" colspan="1">
                                <p>
                              <a id="para_bfa49466-d4ad-4020-a670-9f5e352e29bd" shape="rect"></a>&gt;Display Environment Spatial Position</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_5b34ed40-33b0-47d0-90c0-619ef994d06a" shape="rect"></a>(0072,0108)</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_1076febe-f77b-4b82-bfb9-1fd1fb9c3e8c" shape="rect"></a>1</p>
                            </td>
                        <td align="left" rowspan="1" colspan="1">
                                <p>
                              <a id="para_1a974985-4c2c-4217-9d46-8c22ccbde24d" shape="rect"></a>Exactly four dimensionless floating point values, in the range 0.0 to 1.0, indicating the rectangular coordinate position within the Display Environment of the bounding box in which Unformatted Text Value (0070,0006) is to be displayed.</p>
                                <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                              <h3 class="title">Note</h3>
                              <p>
                                 <a id="para_5ce777b4-35c4-4de3-9994-5537def2c766" shape="rect"></a>For the Basic Structured Display with a single screen, the Display Environment is coextensive with thescreen defined in the Nominal Screen Definition Sequence (0072,0102). See <a class="xref" href="sect_C.11.16.html" title="C.11.16 Structured Display Module" shape="rect">Section C.11.16</a>.</p>
                           </div>
                            </td>
                     </tr>
                     <tr valign="top">
                        <td align="left" rowspan="1" colspan="1">
                                <p>
                              <a id="para_d89c5d72-4885-427a-a5fe-eaebdf711b89" shape="rect"></a>&gt;Bounding Box Text Horizontal Justification</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_ee13ff03-8d6d-4c43-a586-a1ac64aba416" shape="rect"></a>(0070,0012)</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_624bc18b-6b21-4833-a3b2-b18800e6ae26" shape="rect"></a>1</p>
                            </td>
                        <td align="left" rowspan="1" colspan="1">
                                <p>
                              <a id="para_c977a229-1095-4d78-a1f6-55c88bcde194" shape="rect"></a>Location of the text relative to the vertical edges of the bounding box.</p>
                                <div class="variablelist">
                              <p class="title">
                                 <strong>Enumerated Values:</strong>
                              </p>
                              <dl class="variablelist compact">
                                 <dt>
                                    <span class="term">LEFT</span>
                                 </dt>
                                 <dd>
                                    <p>
                                       <a id="para_b0597505-f51d-46cd-916f-4f39731b5fd8" shape="rect"></a>closest to left edge</p>
                                 </dd>
                                 <dt>
                                    <span class="term">RIGHT</span>
                                 </dt>
                                 <dd>
                                    <p>
                                       <a id="para_7241e6c1-fce1-44fe-9097-976d0333b634" shape="rect"></a>closest to right edge</p>
                                 </dd>
                                 <dt>
                                    <span class="term">CENTER</span>
                                 </dt>
                                 <dd>
                                    <p>
                                       <a id="para_9a5d3d15-a998-43d2-bb8a-7a237353c948" shape="rect"></a>centered</p>
                                 </dd>
                              </dl>
                           </div>
                            </td>
                     </tr>
                     <tr valign="top">
                        <td align="left" rowspan="1" colspan="1">
                                <p>
                              <a id="para_ae94642c-464a-44b6-b878-972a1485a94d" shape="rect"></a>&gt;Graphic Layer Recommended Display CIELab Value</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_1bcd17e1-31f5-4a84-9bac-b9417cef3eca" shape="rect"></a>(0070,0401)</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_b010d1dc-356b-473b-a1f4-f4070f1c2494" shape="rect"></a>3</p>
                            </td>
                        <td align="left" rowspan="1" colspan="1">
                                <p>
                              <a id="para_c9e36893-95ee-4579-948c-3d0f553c10ef" shape="rect"></a>A value in which it is recommended that Unformatted Text Value (0070,0006) be rendered on a color display. The units are specified in PCS-Values, and the value is encoded as CIELab. See <a class="xref" href="sect_C.10.7.html#sect_C.10.7.1.1" title="C.10.7.1.1 Encoding of CIELab Values" shape="rect">Section C.10.7.1.1</a>.</p>
                            </td>
                     </tr>
                  </tbody>
               </table>
            </div>
         </div>
         <br class="table-break" clear="none" />
         <div class="section">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title">
                        <a id="sect_C.11.18.1" shape="rect"></a>C.11.18.1 Structured Display Annotation Module Attribute Descriptions</h4>
                  </div>
               </div>
            </div>
            <div class="section">
               <div class="titlepage">
                  <div>
                     <div>
                        <h5 class="title">
                           <a id="sect_C.11.18.1.1" shape="rect"></a>C.11.18.1.1 Unformatted Text Value and Display Environment Spatial Position</h5>
                     </div>
                  </div>
               </div>
               <p>
                  <a id="para_93442181-a5ed-498a-bc8c-abe908eb0a68" shape="rect"></a>The Unformatted Text Value (0070,0006) rendered in Display Environment Spatial Position (0072,0108) need not be confined to the specified bounding box.</p>
               <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                  <h3 class="title">Note</h3>
                  <div class="orderedlist">
                     <ol class="orderedlist" type="1">
                        <li class="listitem">
                           <p>
                              <a id="para_ec94313f-1618-4cbe-a3aa-cae0973eab5a" shape="rect"></a>An implementation may render text outside the confines of the bounding box if necessary to display all the specified text.</p>
                        </li>
                        <li class="listitem">
                           <p>
                              <a id="para_80107b00-ec72-405f-9330-0894803fb217" shape="rect"></a>Alternatively, an implementation may choose to render the text in a scrolling box, or a link to another fixed or popup window as appropriate.</p>
                        </li>
                     </ol>
                  </div>
               </div>
               <p>
                  <a id="para_b1a163e3-a6f8-4190-b4fa-75fcd0f27997" shape="rect"></a>When the text bounding box overlaps an Image Box (from the <a class="xref" href="sect_C.11.17.html" title="C.11.17 Structured Display Image Box Module" shape="rect">Structured Display Image Box Module</a>), the text box has a higher display priority (i.e., it is on top of the image box). The background color of the bounding box is undefined.</p>
               <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                  <h3 class="title">Note</h3>
                  <div class="orderedlist">
                     <ol class="orderedlist" type="1">
                        <li class="listitem">
                           <p>
                              <a id="para_9bba4be5-001c-4cd2-9823-eed9e78194e7" shape="rect"></a>Commonly, the background region of the bounding box around the text will be rendered "transparently", i.e., the image will be visible, though some implementations may choose to opacify the bounding box behind the text to improve its readability.</p>
                        </li>
                        <li class="listitem">
                           <p>
                              <a id="para_f4d240be-8750-4850-9099-32c88e671052" shape="rect"></a>With a transparent background, for example, an implementation may choose an "exclusive or" style opacification to be sure that the text is discernible over light and dark portions of the image.</p>
                        </li>
                     </ol>
                  </div>
               </div>
               <p>
                  <a id="para_f71dbff5-2147-49f9-9616-d8a6ab94a843" shape="rect"></a>The size, font, and rotation of the individual rendered text characters are unspecified.</p>
            </div>
         </div>
      </div>
      <div class="navfooter">
         <hr />
         <table width="100%" summary="Navigation footer">
            <tr>
               <td width="40%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_C.11.17.html" shape="rect">Prev</a> </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="u" href="sect_C.11.html" shape="rect">Up</a>
               </td>
               <td width="40%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_C.11.19.html" shape="rect">Next</a>
               </td>
            </tr>
            <tr>
               <td width="40%" align="left" valign="top" rowspan="1" colspan="1">C.11.17 Structured Display Image Box Module </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="h" href="PS3.3.html" shape="rect">Home</a>
               </td>
               <td width="40%" align="right" valign="top" rowspan="1" colspan="1"> C.11.19 XA/XRF Presentation State Mask Module</td>
            </tr>
         </table>
      </div>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.3 2024a - Information Object Definitions</span>
            </th>
         </tr>
      </table>
   </body>
</html>
