<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>C.38.2.3 Inventory Reference Macro</title>
      <link rel="stylesheet" type="text/css" href="dicom.css" />
      <meta name="generator" content="DocBook XSL Stylesheets V1.78.1" />
      <link rel="home" href="PS3.3.html" title="PS3.3" />
      <link rel="up" href="sect_C.38.2.html" title="C.38.2 Inventory Related Macros" />
      <link rel="prev" href="sect_C.38.2.2.html" title="C.38.2.2 Stored File Access Macro" />
      <link rel="next" href="sect_C.38.2.4.html" title="C.38.2.4 Access End Points Macro" />
      <style type="text/css"><![CDATA[
	p { font-size: 15px; }
      ]]></style>
   </head>
   <body>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.3 - Information Object Definitions</span>
            </th>
         </tr>
      </table>
      <div xmlns="" class="navheader">
         <table width="100%" summary="Navigation header">
            <tr>
               <th colspan="3" align="center" rowspan="1">C.38.2.3 Inventory Reference Macro <a accesskey="current" href="http://dicom.nema.org/medical/dicom/current/output/chtml/part03/sect_C.38.2.3.html" shape="rect">(Current)</a>
               </th>
            </tr>
            <tr>
               <td width="20%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_C.38.2.2.html" shape="rect">Prev</a> </td>
               <th width="60%" align="center" rowspan="1" colspan="1">C.38.2 Inventory Related Macros</th>
               <td width="20%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_C.38.2.4.html" shape="rect">Next</a>
               </td>
            </tr>
         </table>
         <hr />
      </div>
      <div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="breadcrumbs">
         <span class="breadcrumb-link">
            <a href="PS3.3.html" shape="rect">PS3.3</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="chapter_C.html" shape="rect">Information Module Definitions (Normative)</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="sect_C.38.html" shape="rect">Inventory Modules</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="sect_C.38.2.html" shape="rect">Inventory Related Macros</a>
         </span> &gt; <span class="breadcrumb-node">Inventory Reference Macro</span>
      </div>
      <div class="section">
         <div class="titlepage">
            <div>
               <div>
                  <h4 class="title">
                     <a id="sect_C.38.2.3" shape="rect"></a>C.38.2.3 Inventory Reference Macro</h4>
               </div>
            </div>
         </div>
         <p>
            <a id="para_f1f395d3-109e-408e-8642-b6645be66de4" shape="rect"></a>
                        <a class="xref" href="sect_C.38.2.3.html#table_C.38.2-3" title="Table C.38.2-3. Inventory Reference Macro Attributes" shape="rect">Table C.38.2-3</a> specifies the Attributes of the <a class="xref" href="sect_C.38.2.3.html" title="C.38.2.3 Inventory Reference Macro" shape="rect">Inventory Reference Macro</a>, which describe a referenced Inventory SOP Instance, and its referenced Inventory SOP Instances in a hierarchical tree.</p>
         <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
            <h3 class="title">Note</h3>
            <p>
               <a id="para_18e14f75-b6e2-4376-8205-37c96de1d0d2" shape="rect"></a>Because each node in the tree of references includes its complete subsidiary tree, it is not possible to have cycles of references (a node being a descendent of itself). See also <a href="../part17/sect_YYYY.7.3.html" class="olink" shape="rect">Section YYYY.7.3 “Using Referenced Inventories” in PS3.17</a>.</p>
         </div>
         <div class="table">
            <a id="table_C.38.2-3" shape="rect"></a>
            <p class="title">
               <strong>Table C.38.2-3. Inventory Reference Macro Attributes</strong>
            </p>
            <div class="table-contents">
               <table frame="box" rules="all">
                  <thead>
                     <tr valign="top">
                        <th align="center" rowspan="1" colspan="1">
                                    <p>
                              <a id="para_10ab78d0-72df-4362-a008-6fcdd3d9dc5b" shape="rect"></a>Attribute Name</p>
                                </th>
                        <th align="center" rowspan="1" colspan="1">
                                    <p>
                              <a id="para_cfa99096-5032-4615-a08e-9411d42c1e0b" shape="rect"></a>Tag</p>
                                </th>
                        <th align="center" rowspan="1" colspan="1">
                                    <p>
                              <a id="para_e2df557c-b9dc-4fc0-9b7f-74751c4907a2" shape="rect"></a>Type</p>
                                </th>
                        <th align="center" rowspan="1" colspan="1">
                                    <p>
                              <a id="para_bfd447bc-7e21-4211-9946-84ff300a448b" shape="rect"></a>Attribute Description</p>
                                </th>
                     </tr>
                  </thead>
                  <tbody>
                     <tr valign="top">
                        <td align="left" rowspan="1" colspan="1">
                                    <p>
                              <a id="para_6e324c79-83f8-4d35-a845-de5558761a45" shape="rect"></a>Referenced SOP Class UID</p>
                                </td>
                        <td align="center" rowspan="1" colspan="1">
                                    <p>
                              <a id="para_b5541866-14bf-4e59-aeb9-2e4d4e671798" shape="rect"></a>(0008,1150)</p>
                                </td>
                        <td align="center" rowspan="1" colspan="1">
                                    <p>
                              <a id="para_664e22c3-14f3-4d17-b316-09f8815d4bd8" shape="rect"></a>1</p>
                                </td>
                        <td align="left" rowspan="1" colspan="1">
                                    <p>
                              <a id="para_2460325c-a2d7-4f01-8509-121561145057" shape="rect"></a>SOP Class UID of the Inventory SOP Instance included by reference.</p>
                                </td>
                     </tr>
                     <tr valign="top">
                        <td align="left" rowspan="1" colspan="1">
                                    <p>
                              <a id="para_6913ef87-db96-4639-b7a2-8f03cff5cb69" shape="rect"></a>Referenced SOP Instance UID</p>
                                </td>
                        <td align="center" rowspan="1" colspan="1">
                                    <p>
                              <a id="para_15bc80a6-7691-47e5-a805-e570e6b755e6" shape="rect"></a>(0008,1155)</p>
                                </td>
                        <td align="center" rowspan="1" colspan="1">
                                    <p>
                              <a id="para_cd46b89b-bed5-418a-86e7-5c6411d709e3" shape="rect"></a>1</p>
                                </td>
                        <td align="left" rowspan="1" colspan="1">
                                    <p>
                              <a id="para_86414c7f-f5b6-4ae2-946e-e67af68a7db5" shape="rect"></a>SOP Instance UID of the Inventory SOP Instance included by reference.</p>
                                </td>
                     </tr>
                     <tr valign="top">
                        <td align="left" rowspan="1" colspan="1">
                                    <p>
                              <a id="para_ec58c98a-22c0-4e43-ab87-089e4bd4f6d7" shape="rect"></a>Inventory Access End Points Sequence</p>
                                </td>
                        <td align="center" rowspan="1" colspan="1">
                                    <p>
                              <a id="para_572adead-dc4d-4b30-93ef-4ab3c87c164d" shape="rect"></a>(0008,0420)</p>
                                </td>
                        <td align="center" rowspan="1" colspan="1">
                                    <p>
                              <a id="para_bfa7ace9-c491-42fa-a352-947b7a98cef2" shape="rect"></a>3</p>
                                </td>
                        <td align="left" rowspan="1" colspan="1">
                                    <p>
                              <a id="para_f8e6212b-6c9f-4748-94dc-0cb91cac4c0b" shape="rect"></a>End point(s) for network protocols to access the referenced Inventory SOP Instance, and the baseline default end point(s) to access Inventory SOP Instances in the Incorporated Inventory Instance Sequence (0008,0422). See <a class="xref" href="sect_C.38.2.3.html#sect_C.38.2.3.1.1" title="C.38.2.3.1.1 Inventory Access End Points Sequence" shape="rect">Section C.38.2.3.1.1</a>.</p>
                                    <p>
                              <a id="para_782a995d-0a21-4eb3-a90b-7ec40d699eb8" shape="rect"></a>Only a single Item is permitted in this Sequence.</p>
                                </td>
                     </tr>
                     <tr valign="top">
                        <td align="left" colspan="4" rowspan="1">
                                    <p>
                              <a id="para_3cc9c010-e3c9-4822-a260-c58ac59b5f2f" shape="rect"></a>
                                        <span class="italic">&gt;Include <a class="xref" href="sect_C.38.2.4.html#table_C.38.2-4" title="Table C.38.2-4. Access End Points Macro Attributes" shape="rect">Table C.38.2-4 “Access End Points Macro Attributes”</a>
                                        </span>
                                    </p>
                                </td>
                     </tr>
                     <tr valign="top">
                        <td align="left" colspan="3" rowspan="1">
                                    <p>
                              <a id="para_e9cca74c-aa30-4727-b759-769a988b8aaf" shape="rect"></a>
                                        <span class="italic">Include <a class="xref" href="sect_C.38.2.2.html#table_C.38.2-2" title="Table C.38.2-2. Stored File Access Macro Attributes" shape="rect">Table C.38.2-2 “Stored File Access Macro Attributes”</a>
                                        </span>
                                    </p>
                                </td>
                        <td align="left" rowspan="1" colspan="1">
                                    <p>
                              <a id="para_71bcd169-a08d-4371-b867-ab5ee3af4073" shape="rect"></a>
                                        <span class="italic">See <a class="xref" href="sect_C.38.2.3.html#sect_C.38.2.3.1.2" title="C.38.2.3.1.2 File Access URI and Stored Instance Base URI" shape="rect">Section C.38.2.3.1.2</a>
                                        </span>
                                    </p>
                                </td>
                     </tr>
                     <tr valign="top">
                        <td align="left" rowspan="1" colspan="1">
                                    <p>
                              <a id="para_59d08d3e-5e59-4ef6-9010-998ece6ceb84" shape="rect"></a>Incorporated Inventory Instance Sequence</p>
                                </td>
                        <td align="center" rowspan="1" colspan="1">
                                    <p>
                              <a id="para_d2eab3a5-7065-4116-90f5-1423698e9401" shape="rect"></a>(0008,0422)</p>
                                </td>
                        <td align="center" rowspan="1" colspan="1">
                                    <p>
                              <a id="para_801ef846-6c30-43d5-94eb-f04e97911dd9" shape="rect"></a>1C</p>
                                </td>
                        <td align="left" rowspan="1" colspan="1">
                                    <p>
                              <a id="para_8eb78798-14f8-4041-b97a-87cabf0babad" shape="rect"></a>Inventory SOP Instances whose content is included by reference. See <a class="xref" href="sect_C.38.html#sect_C.38.1.1.5" title="C.38.1.1.5 Incorporated Inventory Instance Sequence" shape="rect">Section C.38.1.1.5</a>.</p>
                                    <p>
                              <a id="para_5dd84d5b-1730-4bb9-b7f3-ee9b10823c00" shape="rect"></a>Required if the referenced Inventory SOP Instance itself includes Inventory SOP Instances by reference.</p>
                                    <p>
                              <a id="para_a1865f6b-f507-4887-a2cc-015e3c919655" shape="rect"></a>One or more Items shall be included in this Sequence.</p>
                                </td>
                     </tr>
                     <tr valign="top">
                        <td align="left" colspan="3" rowspan="1">
                                    <p>
                              <a id="para_f63c9a68-2484-4139-9c12-2c9cbe0ad5d2" shape="rect"></a>
                                        <span class="italic">&gt;Include <a class="xref" href="sect_C.38.2.3.html#table_C.38.2-3" title="Table C.38.2-3. Inventory Reference Macro Attributes" shape="rect">Table C.38.2-3 “Inventory Reference Macro Attributes”</a>
                                        </span>
                                    </p>
                                </td>
                        <td align="left" rowspan="1" colspan="1">
                                    <p>
                              <a id="para_27f80295-a788-491a-aff2-bdeaa248d1f3" shape="rect"></a>
                                        <span class="italic">Recursive inclusion to describe a tree of referenced Inventory SOP Instances.</span>
                                    </p>
                                </td>
                     </tr>
                  </tbody>
               </table>
            </div>
         </div>
         <br class="table-break" clear="none" />
         <div class="section">
            <div class="titlepage">
               <div>
                  <div>
                     <h5 class="title">
                        <a id="sect_C.38.2.3.1" shape="rect"></a>C.38.2.3.1 Inventory Reference Macro Attribute Descriptions</h5>
                  </div>
               </div>
            </div>
            <div class="section">
               <div class="titlepage">
                  <div>
                     <div>
                        <h6 class="title">
                           <a id="sect_C.38.2.3.1.1" shape="rect"></a>C.38.2.3.1.1 Inventory Access End Points Sequence</h6>
                     </div>
                  </div>
               </div>
               <p>
                  <a id="para_19e0653b-ba7f-432a-af8a-ebab5e25b551" shape="rect"></a>The tree of referenced Inventory SOP Instances includes Attributes specifying the available network access mechanisms and protocol end point(s) for each referenced SOP Instance. As the protocol end point may be the same for all referenced SOP Instances in a tree or sub-tree, the value specified in any node in the tree sets the default value for all subsidiary nodes, except for a sub-tree whose root node sets a value. For example, if all referenced Inventory SOP Instances are accessible through the Inventory MOVE SOP Class at the same SCP AE Title, that AE Title only needs to be specified in the root node of the tree.</p>
               <p>
                  <a id="para_c43b873a-1cd4-41ca-8273-8b6581f7b1f1" shape="rect"></a>If protocol end point values are not specified in the current Item of the Incorporated Inventory Instance Sequence (0008,0422) (which invoked the <a class="xref" href="sect_C.38.2.3.html" title="C.38.2.3 Inventory Reference Macro" shape="rect">Inventory Reference Macro</a>), the default values specified for the data set incorporating the Incorporated Inventory Instance Sequence (0008,0422) apply.</p>
               <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                  <h3 class="title">Note</h3>
                  <div class="orderedlist">
                     <ol class="orderedlist" type="1">
                        <li class="listitem">
                           <p>
                              <a id="para_e6ed671b-1bdc-4394-88cf-a35118e09319" shape="rect"></a>Access via Retrieve AE Title (0008,0054) or Retrieve URL (0008,1190) uses the Referenced SOP Instance UID (0008,1155) to identify the Inventory SOP Instance. Access via the Stored Instance Base URI (0008,0407) uses the File Access URI (0008,0409) to identify the stored Inventory SOP Instance file.</p>
                        </li>
                        <li class="listitem">
                           <p>
                              <a id="para_6bd73e72-c505-41ba-b4e9-8eb698b88225" shape="rect"></a>See <a href="../part18/chapter_12.html" class="olink" shape="rect">Section 12 “Non-Patient Instance Service and Resources” in PS3.18</a> for the mechanisms to construct a DICOM web-based URI from the Retrieve URL (0008,1190) and Referenced SOP Instance UID (0008,1155).</p>
                        </li>
                        <li class="listitem">
                           <p>
                              <a id="para_20601837-8132-4aa9-a993-849b8b1aec1b" shape="rect"></a>See also <a href="../part17/sect_YYYY.7.3.html" class="olink" shape="rect">Section YYYY.7.3 “Using Referenced Inventories” in PS3.17</a>.</p>
                        </li>
                     </ol>
                  </div>
               </div>
            </div>
            <div class="section">
               <div class="titlepage">
                  <div>
                     <div>
                        <h6 class="title">
                           <a id="sect_C.38.2.3.1.2" shape="rect"></a>C.38.2.3.1.2 File Access URI and Stored Instance Base URI</h6>
                     </div>
                  </div>
               </div>
               <p>
                  <a id="para_479f4e60-fdf0-4ff9-9fa5-5f2733864bdc" shape="rect"></a>If the referenced Inventory SOP Instance is stored in the DICOM File Format (see <a href="../part10/chapter_7.html" class="olink" shape="rect">Section 7 “DICOM File Format” in PS3.10</a>) and is accessible through a non-DICOM protocol (see <a class="xref" href="chapter_P.html" title="P Stored File Access Through Non-DICOM Protocols (Normative)" shape="rect">Annex P</a>), the File Access URI (0008,0409) contains an <a class="xref" href="chapter_2.html#biblio_RFC_3986" title="Uniform Resource Identifiers (URI): Generic Syntax" shape="rect">[<abbr class="abbrev">RFC3986</abbr>]</a> URI for non-DICOM protocol access to the Inventory SOP Instance. File Access URI (0008,0409) may be a relative path reference URI, which is merged with the Stored Instance Base URI (0008,0407) from the Inventory Access End Points Sequence (0008,0420) in accordance with <a class="xref" href="sect_P.2.html#sect_P.2.1" title="P.2.1 URI Format" shape="rect">Section P.2.1</a>.</p>
               <p>
                  <a id="para_824bcf2d-5c02-472b-a947-bd68a1ba8ae4" shape="rect"></a>File Access URI (0008,0409) may reference a container file that includes the Inventory SOP Instance.</p>
               <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                  <h3 class="title">Note</h3>
                  <div class="orderedlist">
                     <ol class="orderedlist" type="1">
                        <li class="listitem">
                           <p>
                              <a id="para_a0bf37b2-b955-42a6-aa68-d2a31a587435" shape="rect"></a>The File Access URI (0008,0409) is specified in the included <a class="xref" href="sect_C.38.2.2.html" title="C.38.2.2 Stored File Access Macro" shape="rect">Stored File Access Macro</a>.</p>
                        </li>
                        <li class="listitem">
                           <p>
                              <a id="para_118657a3-7e70-4c32-865b-e4a240fda371" shape="rect"></a>Storage in a container file (ZIP or GZIP) permits compression of the entre file using operating system applications, as an alternative to compression of the SOP Instance using DICOM applications (e.g., using the Deflated Little Endian Transfer Syntax defined in <a href="../part05/sect_A.5.html" class="olink" shape="rect">Section A.5 “DICOM Deflated Little Endian Transfer Syntax (Explicit VR)” in PS3.5</a>).</p>
                        </li>
                     </ol>
                  </div>
               </div>
            </div>
         </div>
      </div>
      <div class="navfooter">
         <hr />
         <table width="100%" summary="Navigation footer">
            <tr>
               <td width="40%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_C.38.2.2.html" shape="rect">Prev</a> </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="u" href="sect_C.38.2.html" shape="rect">Up</a>
               </td>
               <td width="40%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_C.38.2.4.html" shape="rect">Next</a>
               </td>
            </tr>
            <tr>
               <td width="40%" align="left" valign="top" rowspan="1" colspan="1">C.38.2.2 Stored File Access Macro </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="h" href="PS3.3.html" shape="rect">Home</a>
               </td>
               <td width="40%" align="right" valign="top" rowspan="1" colspan="1"> C.38.2.4 Access End Points Macro</td>
            </tr>
         </table>
      </div>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.3 - Information Object Definitions</span>
            </th>
         </tr>
      </table>
   </body>
</html>
