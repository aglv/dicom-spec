<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>C.11.19 XA/XRF Presentation State Mask Module</title>
      <link rel="stylesheet" type="text/css" href="dicom.css" />
      <meta name="generator" content="DocBook XSL Stylesheets V1.78.1" />
      <link rel="home" href="PS3.3.html" title="PS3.3" />
      <link rel="up" href="sect_C.11.html" title="C.11 Look Up Tables and Presentation States" />
      <link rel="prev" href="sect_C.11.18.html" title="C.11.18 Structured Display Annotation Module" />
      <link rel="next" href="sect_C.11.20.html" title="C.11.20 XA/XRF Presentation State Shutter Module" />
      <style type="text/css"><![CDATA[
	p { font-size: 15px; }
      ]]></style>
   </head>
   <body>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.3 2024a - Information Object Definitions</span>
            </th>
         </tr>
      </table>
      <div xmlns="" class="navheader">
         <table width="100%" summary="Navigation header">
            <tr>
               <th colspan="3" align="center" rowspan="1">C.11.19 XA/XRF Presentation State Mask Module <a accesskey="current" href="http://dicom.nema.org/medical/dicom/current/output/chtml/part03/sect_C.11.19.html" shape="rect">(Current)</a>
               </th>
            </tr>
            <tr>
               <td width="20%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_C.11.18.html" shape="rect">Prev</a> </td>
               <th width="60%" align="center" rowspan="1" colspan="1">C.11 Look Up Tables and Presentation States</th>
               <td width="20%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_C.11.20.html" shape="rect">Next</a>
               </td>
            </tr>
         </table>
         <hr />
      </div>
      <div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="breadcrumbs">
         <span class="breadcrumb-link">
            <a href="PS3.3.html" shape="rect">PS3.3</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="chapter_C.html" shape="rect">Information Module Definitions (Normative)</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="sect_C.11.html" shape="rect">Look Up Tables and Presentation States</a>
         </span> &gt; <span class="breadcrumb-node">XA/XRF Presentation State Mask Module</span>
      </div>
      <div class="section">
         <div class="titlepage">
            <div>
               <div>
                  <h3 class="title">
                     <a id="sect_C.11.19" shape="rect"></a>C.11.19 XA/XRF Presentation State Mask Module</h3>
               </div>
            </div>
         </div>
         <p>
            <a id="para_88fd30f6-9156-47f0-86f8-d2d75e2a01de" shape="rect"></a>
                    <a class="xref" href="sect_C.11.19.html#table_C.11.19-1" title="Table C.11.19-1. XA/XRF Presentation State Mask Module Attributes" shape="rect">Table C.11.19-1</a> specifies the Attributes of the <a class="xref" href="sect_C.11.19.html" title="C.11.19 XA/XRF Presentation State Mask Module" shape="rect">XA/XRF Presentation State Mask Module</a>, which describe mask operations for a XA/XRF Multi-frame image.</p>
         <div class="table">
            <a id="table_C.11.19-1" shape="rect"></a>
            <p class="title">
               <strong>Table C.11.19-1. XA/XRF Presentation State Mask Module Attributes</strong>
            </p>
            <div class="table-contents">
               <table frame="box" rules="all">
                  <thead>
                     <tr valign="top">
                        <th align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_0b792b3b-c7f8-451f-abf8-5440a27a0ef5" shape="rect"></a>Attribute Name</p>
                            </th>
                        <th align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_eeca10f9-9432-4985-9b21-2f6c58ef3ad3" shape="rect"></a>Tag</p>
                            </th>
                        <th align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_3e36060c-7523-43ba-b544-14b83db4fd09" shape="rect"></a>Type</p>
                            </th>
                        <th align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_e7e943fe-261d-4225-8d9a-4e9c5b00dac9" shape="rect"></a>Attribute Description</p>
                            </th>
                     </tr>
                  </thead>
                  <tbody>
                     <tr valign="top">
                        <td align="left" rowspan="1" colspan="1">
                                <p>
                              <a id="para_e054bc86-95bd-461e-8bd0-d7bd45b00a38" shape="rect"></a>Mask Subtraction Sequence</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_860a7c39-8d6d-4f7e-83d1-d1c45321505e" shape="rect"></a>(0028,6100)</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_9353f9da-6d37-43b8-9fdd-29531f3e2520" shape="rect"></a>1</p>
                            </td>
                        <td align="left" rowspan="1" colspan="1">
                                <p>
                              <a id="para_0111fbc0-3287-4c18-8f96-92592e8bc9ed" shape="rect"></a>Defines a Sequence that describes mask subtraction operations for Multi-frame Images.</p>
                                <p>
                              <a id="para_2c751521-4b6c-4f21-8dc1-77c5222f3c45" shape="rect"></a>One or more Items shall be included in this Sequence.</p>
                            </td>
                     </tr>
                     <tr valign="top">
                        <td align="left" rowspan="1" colspan="1">
                                <p>
                              <a id="para_61d4acae-42a7-40f8-bb51-bb2ac6fd3d1e" shape="rect"></a>&gt;Referenced Image Sequence</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_879dd71b-973c-42b0-bc8b-0ff7d170a66d" shape="rect"></a>(0008,1140)</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_8a129938-9698-4199-a054-01cd4c7a09e5" shape="rect"></a>1C</p>
                            </td>
                        <td align="left" rowspan="1" colspan="1">
                                <p>
                              <a id="para_e9aafd06-147f-4be8-9d1e-077882713a50" shape="rect"></a>A reference to a selected Image.</p>
                                <p>
                              <a id="para_caeaa9c8-c17d-46fe-8b96-ffce2eacc0af" shape="rect"></a>Required if <a class="xref" href="sect_C.11.11.html" title="C.11.11 Presentation State Relationship Module" shape="rect">Presentation State Relationship Module</a> references more than one SOP Instance.</p>
                                <p>
                              <a id="para_c1de7503-e76d-4816-9dad-79a68f0e85c7" shape="rect"></a>Only a single Item shall be included in this Sequence.</p>
                            </td>
                     </tr>
                     <tr valign="top">
                        <td align="left" colspan="4" rowspan="1">
                                <p>
                              <a id="para_b0511d8f-ed1f-430d-bac9-e0c48001ca87" shape="rect"></a>
                                    <span class="italic">&gt;&gt;Include <a class="xref" href="sect_10.8.html#table_10-11" title="Table 10-11. SOP Instance Reference Macro Attributes" shape="rect">Table 10-11 “SOP Instance Reference Macro Attributes”</a>
                                    </span>
                                </p>
                            </td>
                     </tr>
                     <tr valign="top">
                        <td align="left" rowspan="1" colspan="1">
                                <p>
                              <a id="para_c0d5e81f-9b5e-4b14-a6ee-b17b3592499d" shape="rect"></a>&gt;Mask Operation</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_ab952f5c-c7af-4d39-bc96-a4367b7daea9" shape="rect"></a>(0028,6101)</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_43680763-7226-44c1-b253-1fc09b1a788f" shape="rect"></a>1</p>
                            </td>
                        <td align="left" rowspan="1" colspan="1">
                                <p>
                              <a id="para_c999db54-13e2-4ccc-ae75-f810d1bc23ac" shape="rect"></a>Defined Term identifying the type of mask operation to be performed. See <a class="xref" href="sect_C.7.6.10.html#sect_C.7.6.10.1" title="C.7.6.10.1 Mask Module Attribute Descriptions" shape="rect">Section C.7.6.10.1</a> for further explanation.</p>
                            </td>
                     </tr>
                     <tr valign="top">
                        <td align="left" rowspan="1" colspan="1">
                                <p>
                              <a id="para_b3e43ed9-8bcb-4576-9d6d-722723355fef" shape="rect"></a>&gt;Applicable Frame Range</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_e31dc6ce-fdf1-4042-acb8-026b3d9dee68" shape="rect"></a>(0028,6102)</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_3a117f10-e84c-4260-864e-0e9efb3cbd60" shape="rect"></a>1C</p>
                            </td>
                        <td align="left" rowspan="1" colspan="1">
                                <p>
                              <a id="para_b090fbd3-0889-4575-86e9-7293205f83d9" shape="rect"></a>Each pair of numbers in this multi-valued Attribute specifies a beginning and ending frame number inclusive of a range where this particular mask operation is valid. Discontinuous ranges are represented by multiple pairs of numbers. Frames in a Multi-frame Image are specified by sequentially increasing number values beginning with 1. If this Attribute is missing in this particular Sequence Item, then the mask operation is applicable throughout the entire Multi-frame Image, subject to certain limits as described in <a class="xref" href="sect_C.7.6.10.html#sect_C.7.6.10.1.1" title="C.7.6.10.1.1 Mask Operation" shape="rect">Section C.7.6.10.1.1</a>.</p>
                                <p>
                              <a id="para_318f9c0a-221e-41b2-bb65-58b3aff9a44d" shape="rect"></a>Each frame shall only be associated with a single Item of this Sequence.</p>
                                <p>
                              <a id="para_134d547b-0359-460f-a572-b8079844b4dc" shape="rect"></a>Required if Mask Operation (0028,6101) equals REV_TID. May be present otherwise.</p>
                            </td>
                     </tr>
                     <tr valign="top">
                        <td align="left" rowspan="1" colspan="1">
                                <p>
                              <a id="para_7a380d41-3eba-4522-a31b-c48ecddb31e0" shape="rect"></a>&gt;Mask Frame Numbers</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_e934cf7f-5d74-428e-8475-176756048b0b" shape="rect"></a>(0028,6110)</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_ba25ea30-94c8-4e43-a8a2-0655aee88f35" shape="rect"></a>1C</p>
                            </td>
                        <td align="left" rowspan="1" colspan="1">
                                <p>
                              <a id="para_43dd50d6-4acb-4c3d-9ccb-cfc900f97c75" shape="rect"></a>Specifies the frame numbers of the pixel data used to generate this mask. Frames in a Multi-frame Image are specified by sequentially increasing number values beginning with 1. Required if the Mask Operation (0028,6101) is AVG_SUB.</p>
                            </td>
                     </tr>
                     <tr valign="top">
                        <td align="left" rowspan="1" colspan="1">
                                <p>
                              <a id="para_b15bd198-a934-4e31-8bcd-cc1390f19536" shape="rect"></a>&gt;Contrast Frame Averaging</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_2480acc0-7493-480a-a0b8-0a58fb1a5d59" shape="rect"></a>(0028,6112)</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_cdcb71d1-caa2-4955-bbee-fb5df0e9df93" shape="rect"></a>3</p>
                            </td>
                        <td align="left" rowspan="1" colspan="1">
                                <p>
                              <a id="para_5a21cc48-9437-4fd0-b6f2-37052d2aa494" shape="rect"></a>Specifies the number of contrast frames to average together before performing the mask operation. If the Attribute is missing, no averaging is performed.</p>
                            </td>
                     </tr>
                     <tr valign="top">
                        <td align="left" rowspan="1" colspan="1">
                                <p>
                              <a id="para_640a9e35-a120-4ae4-9d2d-e08c2b3ee26c" shape="rect"></a>&gt;TID Offset</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_e7857ed2-ee62-44f3-becf-31913ed22abc" shape="rect"></a>(0028,6120)</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_51fc4940-8cee-421f-b8bc-17ad537d89e0" shape="rect"></a>2C</p>
                            </td>
                        <td align="left" rowspan="1" colspan="1">
                                <p>
                              <a id="para_647ba698-54e9-44e4-bd35-9a4de69f480b" shape="rect"></a>If Mask Operation is TID, specifies the offset to be subtracted from the current frame number in order to locate the mask frame in TID mode.</p>
                                <p>
                              <a id="para_d5695c15-7e88-45d8-a9aa-28f503873c7d" shape="rect"></a>If Mask Operation is REV_TID, specifies the initial offset to be subtracted from the first contrast frame number. See <a class="xref" href="sect_C.7.6.10.html#sect_C.7.6.10.1.1" title="C.7.6.10.1.1 Mask Operation" shape="rect">Section C.7.6.10.1.1</a>.</p>
                                <p>
                              <a id="para_e75cc460-03f7-4ad4-9c35-1d1780afb487" shape="rect"></a>If zero length, TID Offset defaults to 1. Required if Mask Operation (0028,6101) is TID or REV_TID.</p>
                            </td>
                     </tr>
                     <tr valign="top">
                        <td align="left" rowspan="1" colspan="1">
                                <p>
                              <a id="para_161a1ff0-8553-4bae-9907-bfbad627da80" shape="rect"></a>&gt;Pixel Intensity Relationship LUT Sequence</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_5c7493d2-9cfe-48f9-a711-3c22bcf60ce8" shape="rect"></a>(0028,9422)</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_604b067f-d09d-4537-829e-b8767243ad5a" shape="rect"></a>1C</p>
                            </td>
                        <td align="left" rowspan="1" colspan="1">
                                <p>
                              <a id="para_44a3b183-5996-45ca-8748-ad28bece89a3" shape="rect"></a>A Sequence of Pixel Intensity Relationship LUTs that specifies a transformation to logarithmic space.</p>
                                <p>
                              <a id="para_34d80f59-ea2e-40a2-ad78-2f4af7b3910c" shape="rect"></a>One or more Items shall be included in this Sequence.</p>
                                <p>
                              <a id="para_f4f96d75-a7f6-4de9-a980-95246d3e85af" shape="rect"></a>Required if Pixel Intensity Relationship (0028,1040) is not LOG for frames included in this Item of the Mask Subtraction Sequence (0028,6100).</p>
                            </td>
                     </tr>
                     <tr valign="top">
                        <td align="left" rowspan="1" colspan="1">
                                <p>
                              <a id="para_fac5694c-dcb6-4618-bb4f-1c99be2f4a33" shape="rect"></a>&gt;&gt;LUT Frame Range</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_da9590d0-6a5f-49dc-b521-dc7a7d2e7ed6" shape="rect"></a>(0028,9507)</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_7cfc0488-7b28-4fc1-acfb-02012e6a639f" shape="rect"></a>1</p>
                            </td>
                        <td align="left" rowspan="1" colspan="1">
                                <p>
                              <a id="para_2a90c236-bd23-48d0-858f-d77ceb2a162c" shape="rect"></a>Each pair of numbers in this multi-valued Attribute specifies a beginning and ending frame number inclusive of a range where this LUT operation is specified.</p>
                                <p>
                              <a id="para_8a36d8d4-4319-49a0-b83f-45a8dc049b8e" shape="rect"></a>Discontinuous ranges are represented by multiple pairs of numbers. Frames in a Multi-frame Image are specified by sequentially increasing number values beginning with 1.</p>
                                <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                              <h3 class="title">Note</h3>
                              <p>
                                 <a id="para_28f9d63b-2c6d-40d2-a52f-ced1ffd6f7ae" shape="rect"></a>The specified frame numbers must be a part of the frames where this mask operation is valid.</p>
                           </div>
                            </td>
                     </tr>
                     <tr valign="top">
                        <td align="left" rowspan="1" colspan="1">
                                <p>
                              <a id="para_bc1f7bae-e9dd-4c2b-854f-98e3ca79fb2b" shape="rect"></a>&gt;&gt;LUT Descriptor</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_52edccc7-cb9e-4b73-882e-fcaa16b4d6ac" shape="rect"></a>(0028,3002)</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_defa3e26-fe7a-4351-8c54-417dc493d6fe" shape="rect"></a>1</p>
                            </td>
                        <td align="left" rowspan="1" colspan="1">
                                <p>
                              <a id="para_bb26c189-a3f8-441b-9d4f-745306fc9ef3" shape="rect"></a>Specifies the format of the LUT Data in this Sequence.</p>
                                <p>
                              <a id="para_3c86d8e0-0bda-464b-bfd9-5e7b2573a08d" shape="rect"></a>See <a class="xref" href="sect_C.11.html#sect_C.11.1.1" title="C.11.1.1 Modality LUT Module Attribute Descriptions" shape="rect">Section C.11.1.1</a> and <a class="xref" href="sect_C.7.6.16.2.html#sect_C.7.6.16.2.13.1" title="C.7.6.16.2.13.1 Pixel Intensity Relationship LUT" shape="rect">Section C.7.6.16.2.13.1</a> for further explanation.</p>
                            </td>
                     </tr>
                     <tr valign="top">
                        <td align="left" rowspan="1" colspan="1">
                                <p>
                              <a id="para_1179168a-bd43-4ec5-8585-7930ae90ca8a" shape="rect"></a>&gt;&gt;LUT Data</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_4e9bd3e5-ff47-4f72-95fb-d310eb3cfe47" shape="rect"></a>(0028,3006)</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_33ca9e95-5243-4793-9a0f-b01a72c8f541" shape="rect"></a>1</p>
                            </td>
                        <td align="left" rowspan="1" colspan="1">
                                <p>
                              <a id="para_278d20e8-cce5-482c-91a1-d66484849953" shape="rect"></a>LUT Data in this Sequence.</p>
                            </td>
                     </tr>
                     <tr valign="top">
                        <td align="left" rowspan="1" colspan="1">
                                <p>
                              <a id="para_81a13d27-94ce-40ba-bf48-8f105157be6d" shape="rect"></a>&gt;&gt;LUT Function</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_c0a26b00-629e-47d8-96df-4e338458b1cc" shape="rect"></a>(0028,9474)</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_48c3a582-3477-4634-8dfb-8d35ebd27e3c" shape="rect"></a>1</p>
                            </td>
                        <td align="left" rowspan="1" colspan="1">
                                <p>
                              <a id="para_fcbf28b7-5a9b-495e-9ec4-6c3092dd5511" shape="rect"></a>The transformation function this LUT applies to the stored pixel values.</p>
                                <div class="variablelist">
                              <p class="title">
                                 <strong>Enumerated Values:</strong>
                              </p>
                              <dl class="variablelist compact">
                                 <dt>
                                    <span class="term">TO_LOG</span>
                                 </dt>
                                 <dd>
                                    <p>
                                       <a id="para_c30d0288-374f-4b8e-897d-1fcefc29fe4f" shape="rect"></a>
                                    </p>
                                 </dd>
                              </dl>
                           </div>
                            </td>
                     </tr>
                     <tr valign="top">
                        <td align="left" rowspan="1" colspan="1">
                                <p>
                              <a id="para_8378a056-4be9-4935-a4ed-d092d792463a" shape="rect"></a>&gt;Pixel Shift Sequence</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_67003192-0a0c-4d79-9b7a-059e5933bf25" shape="rect"></a>(0028,9501)</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_69891bd6-976d-45f6-815b-84813b9ebb32" shape="rect"></a>1</p>
                            </td>
                        <td align="left" rowspan="1" colspan="1">
                                <p>
                              <a id="para_2ebea630-bb53-48df-adcb-f9b576ffdc66" shape="rect"></a>Sequence containing the pixel shift values for the masks of the specified frame range(s) in the specified region(s).</p>
                                <p>
                              <a id="para_18e714aa-da5e-4577-b667-bb7d68bb2c72" shape="rect"></a>One or more Items shall be included in this Sequence.</p>
                            </td>
                     </tr>
                     <tr valign="top">
                        <td align="left" rowspan="1" colspan="1">
                                <p>
                              <a id="para_12f677e2-ca33-42bf-8d66-f32d399d6c1a" shape="rect"></a>&gt;&gt;Pixel Shift Frame Range</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_5a1d43f2-83d1-4edb-8c57-3280fc53e6ba" shape="rect"></a>(0028,9506)</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_3550c36c-389e-481c-8870-628b8814a5b8" shape="rect"></a>1</p>
                            </td>
                        <td align="left" rowspan="1" colspan="1">
                                <p>
                              <a id="para_ea39629a-6bb6-4229-ac1a-78a18e6e5a8a" shape="rect"></a>Each pair of numbers in this multi-valued Attribute specify a beginning and ending contrast frame number inclusive of a range where this pixel shift is specified.</p>
                                <p>
                              <a id="para_b5af6e5f-cc7b-44b0-8fa9-6b86fe3f577b" shape="rect"></a>Discontinuous ranges are represented by multiple pairs of numbers. Frames in a Multi-frame Image are specified by sequentially increasing number values beginning with 1.</p>
                                <p>
                              <a id="para_e7416d1e-4f6c-4867-b15e-ca23e78535a1" shape="rect"></a>Overlapping frame ranges are not permitted.</p>
                                <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                              <h3 class="title">Note</h3>
                              <p>
                                 <a id="para_e090ce30-9edf-4f10-877b-a39d3aaf8ec1" shape="rect"></a>The specified frame numbers must be a part of the frames where this mask operation is valid.</p>
                           </div>
                            </td>
                     </tr>
                     <tr valign="top">
                        <td align="left" rowspan="1" colspan="1">
                                <p>
                              <a id="para_9961ddf6-90aa-43e2-b6fe-56bafbc372c0" shape="rect"></a>&gt;&gt;Region Pixel Shift Sequence</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_8c3dccdb-a741-4c90-b4b7-51fd1f21828f" shape="rect"></a>(0028,9502)</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_023802f3-b35b-41cc-841d-74e627bede02" shape="rect"></a>1</p>
                            </td>
                        <td align="left" rowspan="1" colspan="1">
                                <p>
                              <a id="para_11cbfd68-5c17-48d6-a6be-4eebffe3763e" shape="rect"></a>Sequence containing the pixel shifts for this frame(s).</p>
                                <p>
                              <a id="para_ce603e3e-989d-435c-ad4d-4fbcf2dea00c" shape="rect"></a>Only one sub region of this frame(s) shall be specified when the pixel shift is applicable for the full size or a single region of the frame(s).</p>
                                <p>
                              <a id="para_82eae081-2aa2-4c1f-9c3a-191f2fbc7375" shape="rect"></a>More than one sub region of this frame(s) may be specified when pixel shift is different in different regions.</p>
                                <p>
                              <a id="para_4432e36b-c969-48a6-9b63-a49f33ded163" shape="rect"></a>The order of Items in this Sequence is significant, see <a class="xref" href="sect_C.11.19.html#sect_C.11.19.1.2" title="C.11.19.1.2 Vertices of the Region" shape="rect">Section C.11.19.1.2</a>.</p>
                                <p>
                              <a id="para_628def6c-acc5-4ac2-8a96-64dda5d73c72" shape="rect"></a>One or more Items shall be included in this Sequence.</p>
                            </td>
                     </tr>
                     <tr valign="top">
                        <td align="left" rowspan="1" colspan="1">
                                <p>
                              <a id="para_c3547b0c-fbeb-4f31-a251-c0dc4e8cae7a" shape="rect"></a>&gt;&gt;&gt;Mask Sub-pixel Shift</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_dc2d0867-eae4-4b4f-a159-c57d71ee0b2c" shape="rect"></a>(0028,6114)</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_0c4cca77-d722-42f0-8f87-c4750b6085bb" shape="rect"></a>1</p>
                            </td>
                        <td align="left" rowspan="1" colspan="1">
                                <p>
                              <a id="para_5d5f6fa1-7875-4312-a6db-dd6f8bc3578a" shape="rect"></a>A pair of floating point numbers specifying the fractional vertical [adjacent row spacing] and horizontal [adjacent column spacing] pixel shift applied to the mask before subtracting it from the region of the frame numbers specified by Pixel Shift Frame Range (0028,9506) of this Pixel Shift Sequence (0028,9501) Item.</p>
                                <p>
                              <a id="para_4a4b180e-73ba-4fa0-b629-98e8f2699f5d" shape="rect"></a>The region is specified by the polygon defined by the Vertices of the Region (0028,9503) Attribute. The pixels on the line of the polygon belong to the region.</p>
                                <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                              <h3 class="title">Note</h3>
                              <p>
                                 <a id="para_1043a271-e7b2-454c-9b56-19ece56b016c" shape="rect"></a>If no pixel shift has to be applied a pair of zero Attribute values (0.0\0.0) should be specified.</p>
                           </div>
                                <p>
                              <a id="para_0407b963-8f9c-4648-b0a3-434f42cd7b54" shape="rect"></a>See <a class="xref" href="sect_C.11.19.html#sect_C.11.19.1.1" title="C.11.19.1.1 Mask Sub-pixel Shift" shape="rect">Section C.11.19.1.1</a>.</p>
                            </td>
                     </tr>
                     <tr valign="top">
                        <td align="left" rowspan="1" colspan="1">
                                <p>
                              <a id="para_4c0a1641-c8e6-415b-b5c2-5b149bc46379" shape="rect"></a>&gt;&gt;&gt;Vertices of the Region</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_bbadf57c-eb5a-461c-86ae-9f9148d903b5" shape="rect"></a>(0028,9503)</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_c95d7855-7e41-4888-a814-6117f62165d1" shape="rect"></a>1C</p>
                            </td>
                        <td align="left" rowspan="1" colspan="1">
                                <p>
                              <a id="para_9ee6c8c4-d394-49ec-b994-6e46c202c41f" shape="rect"></a>Multiple Values where the first set of two values are:</p>
                                <p>
                              <a id="para_1b63f407-46cf-4821-8d4c-fd7a42ade534" shape="rect"></a>row of the origin vertexcolumn of the origin vertex</p>
                                <p>
                              <a id="para_a1bfe0ce-8e4d-4cce-8c3f-2121bdbfd20f" shape="rect"></a>Two or more pairs of values follow and are the row and column coordinates of the other vertices of the polygon region. Each polygon region is implicitly closed from the last vertex to the origin vertex and all edges shall be non-intersecting except at the vertices. See <a class="xref" href="sect_C.11.19.html#sect_C.11.19.1.2" title="C.11.19.1.2 Vertices of the Region" shape="rect">Section C.11.19.1.2</a>.</p>
                                <p>
                              <a id="para_d02bef48-1525-4439-9681-7fd23f37cda4" shape="rect"></a>The upper left pixel of the image has the coordinate 1\1.</p>
                                <p>
                              <a id="para_54f06881-0572-47fd-9dcc-724b6db34ab3" shape="rect"></a>Required if the pixel shift does not apply to the entire set of pixels of the frames.</p>
                            </td>
                     </tr>
                  </tbody>
               </table>
            </div>
         </div>
         <br class="table-break" clear="none" />
         <div class="section">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title">
                        <a id="sect_C.11.19.1" shape="rect"></a>C.11.19.1 XA/XRF Presentation State Mask Module Attribute Descriptions</h4>
                  </div>
               </div>
            </div>
            <div class="section">
               <div class="titlepage">
                  <div>
                     <div>
                        <h5 class="title">
                           <a id="sect_C.11.19.1.1" shape="rect"></a>C.11.19.1.1 Mask Sub-pixel Shift</h5>
                     </div>
                  </div>
               </div>
               <p>
                  <a id="para_4a5ae2e3-d2ca-4758-9eb6-e072b6158c38" shape="rect"></a>A pair of floating point numbers specifying the fractional vertical [adjacent row spacing] and horizontal [adjacent column spacing] pixel shift applied to the mask before subtracting it from the specified region of the contrast frame. The row offset results in a shift of the pixels along the column axis. The column offset results in a shift of the pixels along the row axis. A positive row offset is a shift toward the pixels of the lower row of the pixel plane. A positive column offset is a shift toward the pixels of the left hand side column of the pixel plane.</p>
            </div>
            <div class="section">
               <div class="titlepage">
                  <div>
                     <div>
                        <h5 class="title">
                           <a id="sect_C.11.19.1.2" shape="rect"></a>C.11.19.1.2 Vertices of the Region</h5>
                     </div>
                  </div>
               </div>
               <p>
                  <a id="para_e0f27a4d-25de-4dde-87c2-7780b3dfd523" shape="rect"></a>Each Item of the Region Pixel Shift Sequence (0028,9502) specifies both a region of the contrast frame and a mask pixel shift to be applied during the subtraction of that region.</p>
               <p>
                  <a id="para_29e5408c-ba92-4223-b3ae-6d70ff1e207f" shape="rect"></a>When the Region Pixel Shift Sequence (0028,9502) contains more than one Item, each region of the contrast frame is subtracted by applying the corresponding pixel shift specified in that Item.</p>
               <p>
                  <a id="para_1f3669a1-451a-4c46-b5e9-dabb0a138175" shape="rect"></a>When an Item of the Sequence does not contain the Attribute Vertices of the Region (0028,9503), the applicable region for that Item is the whole contrast frame.</p>
               <p>
                  <a id="para_6d92d1a8-4741-4c31-8072-fea07ec0cca6" shape="rect"></a>The union of all the regions defined in the Region Pixel Shift Sequence (0028,9502) does not cover necessarily the whole contrast frame, in which case the pixels outside the union of all the regions shall be subtracted with no pixel shift.</p>
               <p>
                  <a id="para_f898746b-2300-4512-aff1-2b4cd3c85732" shape="rect"></a>If a set of pixels of the contrast frame is contained in more than one region, the applicable pixel shift is the one of the last Item with the region that contains this set of pixels, as shown in <a class="xref" href="sect_C.11.19.html#figure_C.11.19-1" title="Figure C.11.19-1. Applicable pixel shift in case of multiple pixel shift regions" shape="rect">Figure C.11.19-1</a>.</p>
               <p>
                  <a id="para_0bd6027d-2d4c-4d9c-949e-7b951241f239" shape="rect"></a>
                            </p>
               <div class="figure">
                  <a id="figure_C.11.19-1" shape="rect"></a>
                  <div class="figure-contents">
                     <div class="mediaobject">
                        <img src="figures/PS3.3_C.11.19-1.svg" alt="Applicable pixel shift in case of multiple pixel shift regions" />
                     </div>
                  </div>
                  <p class="title">
                     <strong>Figure C.11.19-1. Applicable pixel shift in case of multiple pixel shift regions</strong>
                  </p>
               </div>
               <p>
                  <br class="figure-break" clear="none" />
                        </p>
               <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                  <h3 class="title">Note</h3>
                  <p>
                     <a id="para_6293da24-9bf3-481b-bcab-97a20f2c87df" shape="rect"></a>For example, the contrast frames 4 to 10 of a SOP Instance "A" are subtracted to the mask frame 1, the subtraction of the frames 4 to 7 being performed with three different values of mask pixel shift on overlapping rectangular regions: The (row,column) coordinates of the top-left and bottom-right vertices of the regions are 1: (1,1) to (30,60), 2: (10,40) to (50,120) and 3: (20,20) to (70,80). The mask pixel shift to be applied to the pixel (25,50) corresponds to the region 3 because this pixel is contained in the intersection of the three regions (see <a class="xref" href="sect_C.11.19.html#figure_C.11.19-2" title="Figure C.11.19-2. Example of Contents of Mask Subtraction Sequence" shape="rect">Figure C.11.19-2</a> and <a class="xref" href="sect_C.11.19.html#figure_C.11.19-3" title="Figure C.11.19-3. Example of three different pixel shift regions" shape="rect">Figure C.11.19-3</a>).</p>
               </div>
               <p>
                  <a id="para_0b36b8a6-ba72-4325-9a23-2026a80ab4ae" shape="rect"></a>
                            </p>
               <div class="figure">
                  <a id="figure_C.11.19-2" shape="rect"></a>
                  <div class="figure-contents">
                     <div class="mediaobject">
                        <img src="figures/PS3.3_C.11.19-2.svg" alt="Example of Contents of Mask Subtraction Sequence" />
                     </div>
                  </div>
                  <p class="title">
                     <strong>Figure C.11.19-2. Example of Contents of Mask Subtraction Sequence</strong>
                  </p>
               </div>
               <p>
                  <br class="figure-break" clear="none" />
                        </p>
               <p>
                  <a id="para_3a00c512-dc6a-4703-966d-3eb391f1608f" shape="rect"></a>
                            </p>
               <div class="figure">
                  <a id="figure_C.11.19-3" shape="rect"></a>
                  <div class="figure-contents">
                     <div class="mediaobject">
                        <img src="figures/PS3.3_C.11.19-3.svg" alt="Example of three different pixel shift regions" />
                     </div>
                  </div>
                  <p class="title">
                     <strong>Figure C.11.19-3. Example of three different pixel shift regions</strong>
                  </p>
               </div>
               <p>
                  <br class="figure-break" clear="none" />
                        </p>
            </div>
         </div>
      </div>
      <div class="navfooter">
         <hr />
         <table width="100%" summary="Navigation footer">
            <tr>
               <td width="40%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_C.11.18.html" shape="rect">Prev</a> </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="u" href="sect_C.11.html" shape="rect">Up</a>
               </td>
               <td width="40%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_C.11.20.html" shape="rect">Next</a>
               </td>
            </tr>
            <tr>
               <td width="40%" align="left" valign="top" rowspan="1" colspan="1">C.11.18 Structured Display Annotation Module </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="h" href="PS3.3.html" shape="rect">Home</a>
               </td>
               <td width="40%" align="right" valign="top" rowspan="1" colspan="1"> C.11.20 XA/XRF Presentation State Shutter Module</td>
            </tr>
         </table>
      </div>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.3 2024a - Information Object Definitions</span>
            </th>
         </tr>
      </table>
   </body>
</html>
