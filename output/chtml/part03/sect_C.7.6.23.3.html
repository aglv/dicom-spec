<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>C.7.6.23.3 Bits Mapped to Color Lookup Table</title>
      <link rel="stylesheet" type="text/css" href="dicom.css" />
      <meta name="generator" content="DocBook XSL Stylesheets V1.78.1" />
      <link rel="home" href="PS3.3.html" title="PS3.3" />
      <link rel="up" href="sect_C.7.6.23.html" title="C.7.6.23 Enhanced Palette Color Lookup Table Module" />
      <link rel="prev" href="sect_C.7.6.23.2.html" title="C.7.6.23.2 Data Path Assignment" />
      <link rel="next" href="sect_C.7.6.23.4.html" title="C.7.6.23.4 Blending LUT Transfer Function" />
      <style type="text/css"><![CDATA[
	p { font-size: 15px; }
      ]]></style>
   </head>
   <body>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.3 2024b - Information Object Definitions</span>
            </th>
         </tr>
      </table>
      <div xmlns="" class="navheader">
         <table width="100%" summary="Navigation header">
            <tr>
               <th colspan="3" align="center" rowspan="1">C.7.6.23.3 Bits Mapped to Color Lookup Table <a accesskey="current" href="http://dicom.nema.org/medical/dicom/current/output/chtml/part03/sect_C.7.6.23.3.html" shape="rect">(Current)</a>
               </th>
            </tr>
            <tr>
               <td width="20%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_C.7.6.23.2.html" shape="rect">Prev</a> </td>
               <th width="60%" align="center" rowspan="1" colspan="1">C.7.6.23 Enhanced Palette Color Lookup Table Module</th>
               <td width="20%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_C.7.6.23.4.html" shape="rect">Next</a>
               </td>
            </tr>
         </table>
         <hr />
      </div>
      <div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="breadcrumbs">
         <span class="breadcrumb-link">
            <a href="PS3.3.html" shape="rect">PS3.3</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="chapter_C.html" shape="rect">Information Module Definitions (Normative)</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="sect_C.7.html" shape="rect">Common Composite IOD Modules</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="sect_C.7.6.html" shape="rect">Common Image IE Modules</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="sect_C.7.6.23.html" shape="rect">Enhanced Palette Color Lookup Table Module</a>
         </span> &gt; <span class="breadcrumb-node">Bits Mapped to Color Lookup Table</span>
      </div>
      <div class="section">
         <div class="titlepage">
            <div>
               <div>
                  <h5 class="title">
                     <a id="sect_C.7.6.23.3" shape="rect"></a>C.7.6.23.3 Bits Mapped to Color Lookup Table</h5>
               </div>
            </div>
         </div>
         <p>
            <a id="para_1e082b0f-51f2-4f96-b753-6628960ebd14" shape="rect"></a>The number of entries of each Palette Color Lookup Table is specified in the Palette Color Lookup Table Descriptors of the lookup table components. As described in <a class="xref" href="sect_C.7.6.3.html#sect_C.7.6.3.1.5" title="C.7.6.3.1.5 Palette Color Lookup Table Descriptor" shape="rect">Section C.7.6.3.1.5</a>, a maximum of 65,536 (2<sup>16</sup>) data entries is permitted, which would require input values of 16 bits to access all Palette Color Lookup Table entries. For tables with less than the maximum number of Palette Color Lookup Table entries, correspondingly smaller input values are required.</p>
         <p>
            <a id="para_abc21aee-1131-4ea2-83f5-963d36dc199c" shape="rect"></a>In the Enhanced Blending and Display Pipeline, the Palette Color Lookup Table input values are obtained from one or two data frames, depending on the values of the Data Path Assignment (0028,1402) Attributes; for Data Path Assignment (0028,1402) = PRIMARY_SINGLE or SECONDARY_SINGLE, the input values are obtained from stored pixel values of a single data frame (after processing through the Modality LUT and/or VOI LUT), while for Data Path Assignment (0028,1402)= SECONDARY_HIGH and SECONDARY_LOW, the input values are constructed from stored pixel values of two data frames (after processing through Modality LUTs and/or VOI LUTs) as described below.</p>
         <p>
            <a id="para_befb89db-dc06-4a31-bc4b-708d15b97485" shape="rect"></a>The number of bits in each data frame stored pixel value is specified by the value of Bits Stored (0028,0101). It is possible that the number of bits in the PRIMARY_SINGLE or SECONDARY_SINGLE data frame or the sum of the numbers of bits in the SECONDARY_HIGH and SECONDARY_LOW data frames is greater than the number of bits needed to address all Palette Color Lookup Table entries. The values of Bits Mapped to Color Lookup Table (0028,1403) specify the number of bits from the corresponding data frame stored pixel values that contribute to the Palette Color Lookup Table input values, as follows:</p>
         <p>
            <a id="para_a0d803ca-f8d3-4b4f-8be3-1eaef461c866" shape="rect"></a>If Data Path Assignment is PRIMARY_SINGLE or SECONDARY_SINGLE, the input to the Palette Color Lookup Table is the number of most significant bits specified by Bits Mapped to Color Lookup Table (0028,1403) from the data frame stored pixel values. For Data Path Assignment SECONDARY_HIGH or SECONDARY_LOW, the number of most significant bits specified by Bits Mapped to Color Lookup Table (0028,1403) from each data frame's stored pixel values are concatenated to create the Palette Color Lookup Table input values, with the SECONDARY_HIGH frame's bits comprising the most significant part of the input value and the SECONDARY_LOW frame's bits comprising the least significant part of the input value.</p>
         <p>
            <a id="para_c1063468-3e50-443a-8cd8-1c6dea8e2060" shape="rect"></a>If the resulting Palette Color Lookup Table input value is greater than the number of Palette Color Lookup Table entries as specified by the Palette Color Lookup Table Descriptor first value, then the output from the Palette Color Lookup Table shall be the last value in the Palette Color Lookup Table. However, it is recommended that the values of Bits Mapped To Color Lookup Table (0028,1403) and number of Palette Color Lookup Table entries be selected such that all input values are mapped to distinct entries in the Palette Color Lookup Table.</p>
      </div>
      <div class="navfooter">
         <hr />
         <table width="100%" summary="Navigation footer">
            <tr>
               <td width="40%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_C.7.6.23.2.html" shape="rect">Prev</a> </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="u" href="sect_C.7.6.23.html" shape="rect">Up</a>
               </td>
               <td width="40%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_C.7.6.23.4.html" shape="rect">Next</a>
               </td>
            </tr>
            <tr>
               <td width="40%" align="left" valign="top" rowspan="1" colspan="1">C.7.6.23.2 Data Path Assignment </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="h" href="PS3.3.html" shape="rect">Home</a>
               </td>
               <td width="40%" align="right" valign="top" rowspan="1" colspan="1"> C.7.6.23.4 Blending LUT Transfer Function</td>
            </tr>
         </table>
      </div>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.3 2024b - Information Object Definitions</span>
            </th>
         </tr>
      </table>
   </body>
</html>
