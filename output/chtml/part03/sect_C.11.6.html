<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>C.11.6 Softcopy Presentation LUT Module</title>
      <link rel="stylesheet" type="text/css" href="dicom.css" />
      <meta name="generator" content="DocBook XSL Stylesheets V1.78.1" />
      <link rel="home" href="PS3.3.html" title="PS3.3" />
      <link rel="up" href="sect_C.11.html" title="C.11 Look Up Tables and Presentation States" />
      <link rel="prev" href="sect_C.11.5.html" title="C.11.5 Image Histogram Module" />
      <link rel="next" href="sect_C.11.7.html" title="C.11.7 Overlay Activation Module" />
      <style type="text/css"><![CDATA[
	p { font-size: 15px; }
      ]]></style>
   </head>
   <body>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.3 2024a - Information Object Definitions</span>
            </th>
         </tr>
      </table>
      <div xmlns="" class="navheader">
         <table width="100%" summary="Navigation header">
            <tr>
               <th colspan="3" align="center" rowspan="1">C.11.6 Softcopy Presentation LUT Module <a accesskey="current" href="http://dicom.nema.org/medical/dicom/current/output/chtml/part03/sect_C.11.6.html" shape="rect">(Current)</a>
               </th>
            </tr>
            <tr>
               <td width="20%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_C.11.5.html" shape="rect">Prev</a> </td>
               <th width="60%" align="center" rowspan="1" colspan="1">C.11 Look Up Tables and Presentation States</th>
               <td width="20%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_C.11.7.html" shape="rect">Next</a>
               </td>
            </tr>
         </table>
         <hr />
      </div>
      <div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="breadcrumbs">
         <span class="breadcrumb-link">
            <a href="PS3.3.html" shape="rect">PS3.3</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="chapter_C.html" shape="rect">Information Module Definitions (Normative)</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="sect_C.11.html" shape="rect">Look Up Tables and Presentation States</a>
         </span> &gt; <span class="breadcrumb-node">Softcopy Presentation LUT Module</span>
      </div>
      <div class="section">
         <div class="titlepage">
            <div>
               <div>
                  <h3 class="title">
                     <a id="sect_C.11.6" shape="rect"></a>C.11.6 Softcopy Presentation LUT Module</h3>
               </div>
            </div>
         </div>
         <p>
            <a id="para_887b4dc9-5636-468c-927c-4ea2773e3eac" shape="rect"></a>
                    <a class="xref" href="sect_C.11.6.html#table_C.11.6-1" title="Table C.11.6-1. Softcopy Presentation LUT Module Attributes" shape="rect">Table C.11.6-1</a> specifies the Attributes of the <a class="xref" href="sect_C.11.6.html" title="C.11.6 Softcopy Presentation LUT Module" shape="rect">Softcopy Presentation LUT Module</a>, which describe the Softcopy Presentation LUT.</p>
         <div class="table">
            <a id="table_C.11.6-1" shape="rect"></a>
            <p class="title">
               <strong>Table C.11.6-1. Softcopy Presentation LUT Module Attributes</strong>
            </p>
            <div class="table-contents">
               <table frame="box" rules="all">
                  <thead>
                     <tr valign="top">
                        <th align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_3e54d4a1-6b96-4adf-9e23-122acca1c56e" shape="rect"></a>Attribute Name</p>
                            </th>
                        <th align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_8211c29e-21bd-490c-bff9-8dd2cf83a303" shape="rect"></a>Tag</p>
                            </th>
                        <th align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_b6e4d3f5-8f02-4201-93f8-cd233ac668ad" shape="rect"></a>Type</p>
                            </th>
                        <th align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_35d7d050-7fbc-46f4-9397-d4f5135dbe14" shape="rect"></a>Attribute Description</p>
                            </th>
                     </tr>
                  </thead>
                  <tbody>
                     <tr valign="top">
                        <td align="left" rowspan="1" colspan="1">
                                <p>
                              <a id="para_451667fc-53d5-4b3f-84d1-b248db61f129" shape="rect"></a>Presentation LUT Sequence</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_356e0ce9-8220-4d7e-998d-fe29c57a4ca1" shape="rect"></a>(2050,0010)</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_68be6f70-f69f-4b4b-af16-0a4823bbf9f2" shape="rect"></a>1C</p>
                            </td>
                        <td align="left" rowspan="1" colspan="1">
                                <p>
                              <a id="para_3df2be81-6066-4d59-bcb4-aa515d2d9b72" shape="rect"></a>Defines a Sequence of Presentation LUTs.</p>
                                <p>
                              <a id="para_ddae824d-7170-4971-bc90-4d3c976e8110" shape="rect"></a>Only a single Item shall be included in this Sequence.</p>
                                <p>
                              <a id="para_dc2d19db-d1b2-4af4-a13b-795db6fc687f" shape="rect"></a>Required if Presentation LUT Shape (2050,0020) is absent.</p>
                            </td>
                     </tr>
                     <tr valign="top">
                        <td align="left" rowspan="1" colspan="1">
                                <p>
                              <a id="para_99dc2fd2-8f18-4bb7-97a6-18bc3afa49ad" shape="rect"></a>&gt;LUT Descriptor</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_07a469fd-4adb-42e2-b1c9-7454133b065a" shape="rect"></a>(0028,3002)</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_5530f4ff-eeab-4f08-8f83-edd0a8fdacc9" shape="rect"></a>1</p>
                            </td>
                        <td align="left" rowspan="1" colspan="1">
                                <p>
                              <a id="para_c707373e-7d86-4fea-986b-29da45af66ad" shape="rect"></a>Specifies the format of the LUT Data in this Sequence.</p>
                                <p>
                              <a id="para_5a5b094a-e61a-4c4f-8e56-205f7abbd246" shape="rect"></a>See <a class="xref" href="sect_C.11.6.html#sect_C.11.6.1.1" title="C.11.6.1.1 LUT Descriptor" shape="rect">Section C.11.6.1.1</a> for further explanation.</p>
                            </td>
                     </tr>
                     <tr valign="top">
                        <td align="left" rowspan="1" colspan="1">
                                <p>
                              <a id="para_841720b6-9ff9-4a5a-9411-cf972ba6f575" shape="rect"></a>&gt;LUT Explanation</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_72f37f90-2e68-41af-b195-fe3fa101648f" shape="rect"></a>(0028,3003)</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_bf78c1e4-9b56-4373-8884-2059b4494cfb" shape="rect"></a>3</p>
                            </td>
                        <td align="left" rowspan="1" colspan="1">
                                <p>
                              <a id="para_b57bb4ef-971f-446b-9cf0-70dc15cba314" shape="rect"></a>Free form text explanation of the meaning of the LUT.</p>
                            </td>
                     </tr>
                     <tr valign="top">
                        <td align="left" rowspan="1" colspan="1">
                                <p>
                              <a id="para_255d3461-1d04-480f-98cd-8a04b4a3edad" shape="rect"></a>&gt;LUT Data</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_4c446612-804d-426a-91c5-2d21d357e20a" shape="rect"></a>(0028,3006)</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_aed8a5d0-ce4b-41e0-93e7-9b3cb5a328a8" shape="rect"></a>1</p>
                            </td>
                        <td align="left" rowspan="1" colspan="1">
                                <p>
                              <a id="para_0b1ebf99-8cc9-4163-923a-687b04eaf609" shape="rect"></a>LUT Data in this Sequence.</p>
                            </td>
                     </tr>
                     <tr valign="top">
                        <td align="left" rowspan="1" colspan="1">
                                <p>
                              <a id="para_c3b33bf2-ee19-4b10-ae5d-2edfeae07260" shape="rect"></a>Presentation LUT Shape</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_93f46f10-f928-437e-aa9f-e2ebbe9cc8d4" shape="rect"></a>(2050,0020)</p>
                            </td>
                        <td align="center" rowspan="1" colspan="1">
                                <p>
                              <a id="para_85929414-7933-43e3-be69-de71347aa214" shape="rect"></a>1C</p>
                            </td>
                        <td align="left" rowspan="1" colspan="1">
                                <p>
                              <a id="para_37dc3a0a-6e56-43ef-8524-d508f0fbeef3" shape="rect"></a>Specifies predefined Presentation LUT transformation. Required if Presentation LUT Sequence (2050,0010) is absent.</p>
                                <div class="variablelist">
                              <p class="title">
                                 <strong>Enumerated Values:</strong>
                              </p>
                              <dl class="variablelist compact">
                                 <dt>
                                    <span class="term">IDENTITY</span>
                                 </dt>
                                 <dd>
                                    <p>
                                       <a id="para_7c89dbe1-ebc2-4577-a670-952b2e5b8d0f" shape="rect"></a>no further translation necessary, input values are P-Values</p>
                                 </dd>
                                 <dt>
                                    <span class="term">INVERSE</span>
                                 </dt>
                                 <dd>
                                    <p>
                                       <a id="para_4b8ea763-d3ca-46bd-813a-f8249d6281e4" shape="rect"></a>output values after inversion are P-Values</p>
                                 </dd>
                              </dl>
                           </div>
                                <p>
                              <a id="para_4dd24005-1bce-410f-ad34-a1c2d1bf6d9f" shape="rect"></a>See <a class="xref" href="sect_C.11.6.html#sect_C.11.6.1.2" title="C.11.6.1.2 Presentation LUT Shape" shape="rect">Section C.11.6.1.2</a>.</p>
                            </td>
                     </tr>
                  </tbody>
               </table>
            </div>
         </div>
         <br class="table-break" clear="none" />
         <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
            <h3 class="title">Note</h3>
            <p>
               <a id="para_6bc474eb-d3db-40a7-93e1-8bccc2496169" shape="rect"></a>This Module differs from the <a class="xref" href="sect_C.11.4.html" title="C.11.4 Presentation LUT Module" shape="rect">Presentation LUT Module</a> used in the hardcopy (print) related SOP Classes in that Optical Density is not supported for Presentation LUT Shape (since Optical Density has no meaning for softcopy display devices).</p>
         </div>
         <div class="section">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title">
                        <a id="sect_C.11.6.1" shape="rect"></a>C.11.6.1 Softcopy Presentation LUT Module Attribute Descriptions</h4>
                  </div>
               </div>
            </div>
            <p>
               <a id="para_9cae3ca0-a19c-483c-adcf-25932daf93b9" shape="rect"></a>When the Presentation LUT is specified as a Presentation LUT Sequence, then the input range of values is specified by the LUT Descriptor as the first value mapped and the number of entries (values mapped). However, there is an implicit linear scaling of the output range of the preceding transformation (such as the VOI LUT transformation) so that it is always mapped to the specified input range of the Presentation LUT.</p>
            <p>
               <a id="para_663296fe-038f-4a1e-a55f-2457f36b33f9" shape="rect"></a>When the Presentation LUT is specified as Presentation LUT Shape, then the input range is implicitly specified to be the output range of the preceding transformation (VOI LUT, or if the VOI LUT is identity or absent, the Modality LUT, or if the Modality LUT and VOI LUT are identity or absent, the stored pixel values). In this case, the full range of the output of the preceding transformation will be mapped to the full input range of the display device that receives the output of the Presentation LUT.</p>
            <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
               <h3 class="title">Note</h3>
               <p>
                  <a id="para_70fb22b7-bd63-40b7-b9cc-1b130c1fdbe7" shape="rect"></a>The output of the preceding transformation may be signed. This does not mean that signed P-Values actually need to be generated, only that the output of the preceding transformation is to be interpreted by the display device as perceptually linear over the range from the minimum to the maximum values output by the preceding step, and that the minimum value be mapped to the lowest JND Index (and hence luminance) that the display can generate, and the maximum value be mapped to the highest JND Index (and hence luminance) that the display can generate.</p>
            </div>
            <p>
               <a id="para_4c1d45a5-a8f9-4523-b005-04f4db136c94" shape="rect"></a>In other words, in both cases, the <a class="xref" href="sect_C.11.4.html" title="C.11.4 Presentation LUT Module" shape="rect">Presentation LUT Module</a> is always implicitly specified to apply over the full range of output of the preceding transformation, and it never selects a subset or superset of the that range (unlike the VOI LUT).</p>
            <p>
               <a id="para_903c7382-95a5-4aa0-bf13-494139abd57a" shape="rect"></a>The output bit precision of the VOI LUT Sequence is not required to match the input range of the Presentation LUT Sequence.</p>
            <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
               <h3 class="title">Note</h3>
               <div class="orderedlist">
                  <ol class="orderedlist" type="1">
                     <li class="listitem">
                        <p>
                           <a id="para_4b210681-9bb9-41ba-a3f6-1bd54e10fe8a" shape="rect"></a>For example, if the VOI LUT is specified as a Window Center of 0 and a Window Width of 100, then the range from -50 to +49 is selected to be mapped to the full range of the display or print device (the full range of P-Values) if the Presentation LUT Shape is specified as IDENTITY or INVERSE. This example demonstrates the conventional understanding of the meaning of Window Center and Width to select "values of interest" that are to be displayed across the full range of the output device, without explicitly having to map each choice to P-Values.</p>
                     </li>
                     <li class="listitem">
                        <p>
                           <a id="para_b3d44074-fa74-4db4-8aa1-0e163ebedc73" shape="rect"></a>For example, if the VOI LUT is specified as a Window Center of 0 and a Window Width of 100, and the Presentation LUT Sequence is present with a LUT Descriptor first value of 256 and second value of 0, then the range from -50 to +49 is implicitly linearly scaled from 0 to 255 before selecting values from the LUT Data in the Presentation LUT Sequence. This example demonstrates that it is not necessary to send a different Presentation LUT for different Window Center and Width values.</p>
                     </li>
                     <li class="listitem">
                        <p>
                           <a id="para_1e58c8c2-fd40-4307-b914-17c39b752430" shape="rect"></a>For example, if the VOI LUT is specified as VOI LUT Sequence with a LUT Descriptor with a 3rd Value of 16, then the range from 0 to 2<sup>16</sup>-1 is selected to be mapped to the full range of the display or print device (the full range of P-Values) if the Presentation LUT Shape is specified as IDENTITY or INVERSE. This example demonstrates that a VOI LUT may be specified with the desired precision, without having to explicitly send a Presentation LUT to rescale that precision to whatever range of P-Values is preferred by the display application.</p>
                     </li>
                     <li class="listitem">
                        <p>
                           <a id="para_2169b8eb-70a3-4329-a77b-b23d476f14c1" shape="rect"></a>For example, if the VOI LUT is specified as VOI LUT Sequence with a LUT Descriptor with a 3rd Value of 16, and the Presentation LUT Sequence is present with a LUT Descriptor first value of 4096 and second value of 0, then the range from 0 to 2<sup>16</sup>-1 is implicitly linearly scaled to the range 0 to 4095 before selecting values from the LUT Data in the Presentation LUT Sequence. This example demonstrates the case where, to save space, the Presentation LUT is encoded in a compact form that a display application may choose to interpolate more precisely, yet the VOI LUT output may be encoded with 16 bit precision.</p>
                     </li>
                  </ol>
               </div>
            </div>
            <div class="section">
               <div class="titlepage">
                  <div>
                     <div>
                        <h5 class="title">
                           <a id="sect_C.11.6.1.1" shape="rect"></a>C.11.6.1.1 LUT Descriptor</h5>
                     </div>
                  </div>
               </div>
               <p>
                  <a id="para_469b2eab-bd7a-4ad5-9ac1-b31712bbfa1e" shape="rect"></a>The three values of LUT Descriptor (0028,3002) describe the format of the LUT Data in the corresponding LUT Data (0028,3006) Attribute.</p>
               <p>
                  <a id="para_f667ae05-8247-4042-bb2d-a9ba234f21f3" shape="rect"></a>The first value is the number of entries in the lookup table. When the number of table entries is equal to 2<sup>16</sup> then this value shall be 0.</p>
               <p>
                  <a id="para_47a8549f-e8fe-4ead-a579-377e33b59f1d" shape="rect"></a>The second value is the first implicitly scaled input value mapped, and shall always be 0. The Value Representation of the second value is always US. This implicitly scaled input value is mapped to the first entry in the LUT. There are no implicitly scaled input values less than the first value mapped. An implicitly scaled input value one greater than the first value mapped is mapped to the second entry in the LUT Data. Subsequent implicitly scaled input values are mapped to the subsequent entries in the LUT Data up to an implicitly scaled input value equal to number of entries + first value mapped - 1 that is mapped to the last entry in the LUT Data. There are no implicitly scaled input values greater than number of entries + first value mapped.</p>
               <p>
                  <a id="para_1a93697d-5a5e-428f-a9ba-a5abab406a86" shape="rect"></a>The third value specifies the number of bits for each entry in the LUT Data. The third value of LUT Descriptor (0028,3002) shall be between 8 and 16 inclusive. The LUT Data shall be stored in a format equivalent to 8 bits allocated when the number of bits for each entry is 8, and 16 bits allocated when the number of bits for each entry is 16, where the high bit is equal to bits stored - 1, and where bits stored is the third value.</p>
               <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                  <h3 class="title">Note</h3>
                  <div class="orderedlist">
                     <ol class="orderedlist" type="1">
                        <li class="listitem">
                           <p>
                              <a id="para_97109263-158b-4667-b338-9f4b6dd267e4" shape="rect"></a>Since LUT Descriptor (0028,3002) is multi-valued, in an Explicit VR Transfer Syntax, only one value representation (US or SS) may be specified. Since all three values are always by definition interpreted as unsigned, the explicit VR actually used will always be US.</p>
                        </li>
                        <li class="listitem">
                           <p>
                              <a id="para_58d4bac2-9387-4d90-b0f7-9d042f7f6511" shape="rect"></a>Some implementations have encoded 8 bit entries with 16 bits allocated, padding the high bits; this can be detected by comparing the number of entries specified in the LUT Descriptor with the actual value length of the LUT Data entry. The value length in bytes should equal the number of entries if bits allocated is 8, and be twice as long if bits allocated is 16.</p>
                        </li>
                     </ol>
                  </div>
               </div>
               <p>
                  <a id="para_c07dbad2-840c-4f7c-8622-eca00587500e" shape="rect"></a>The LUT Data contains the LUT entry values, which are P-Values.</p>
               <p>
                  <a id="para_ce03ba07-0161-4651-ac1d-0e8375a813f6" shape="rect"></a>The output range is from 0 to 2<sup>n</sup>-1 where n is the third value of LUT Descriptor. This range is always unsigned.</p>
               <p>
                  <a id="para_cc3487f6-0114-4668-ac0c-641e625e75c4" shape="rect"></a>This range specifies the output range of the P-Values.</p>
            </div>
            <div class="section">
               <div class="titlepage">
                  <div>
                     <div>
                        <h5 class="title">
                           <a id="sect_C.11.6.1.2" shape="rect"></a>C.11.6.1.2 Presentation LUT Shape</h5>
                     </div>
                  </div>
               </div>
               <p>
                  <a id="para_665e7fca-ba16-40d6-a331-423be3d5d26a" shape="rect"></a>A value of INVERSE shall mean the same as a value of IDENTITY, except that the minimum output value shall convey the meaning of the maximum available luminance, and the maximum value shall convey the minimum available luminance. In other words:</p>
               <div class="itemizedlist">
                  <ul class="itemizedlist" style="list-style-type: disc; ">
                     <li class="listitem">
                        <p>
                           <a id="para_66794420-ef1d-490f-84f1-67fabd11af00" shape="rect"></a>P-Value = maximum value - output value</p>
                     </li>
                  </ul>
               </div>
            </div>
         </div>
      </div>
      <div class="navfooter">
         <hr />
         <table width="100%" summary="Navigation footer">
            <tr>
               <td width="40%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_C.11.5.html" shape="rect">Prev</a> </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="u" href="sect_C.11.html" shape="rect">Up</a>
               </td>
               <td width="40%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_C.11.7.html" shape="rect">Next</a>
               </td>
            </tr>
            <tr>
               <td width="40%" align="left" valign="top" rowspan="1" colspan="1">C.11.5 Image Histogram Module </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="h" href="PS3.3.html" shape="rect">Home</a>
               </td>
               <td width="40%" align="right" valign="top" rowspan="1" colspan="1"> C.11.7 Overlay Activation Module</td>
            </tr>
         </table>
      </div>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.3 2024a - Information Object Definitions</span>
            </th>
         </tr>
      </table>
   </body>
</html>
