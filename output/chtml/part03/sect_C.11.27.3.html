<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>C.11.27.3 Compositor Component Usage</title>
      <link rel="stylesheet" type="text/css" href="dicom.css" />
      <meta name="generator" content="DocBook XSL Stylesheets V1.78.1" />
      <link rel="home" href="PS3.3.html" title="PS3.3" />
      <link rel="up" href="sect_C.11.27.html" title="C.11.27 MPR Volumetric Presentation State Display Module" />
      <link rel="prev" href="sect_C.11.27.2.html" title="C.11.27.2 Classification Component Usage" />
      <link rel="next" href="sect_C.11.27.4.html" title="C.11.27.4 Weighting Transfer Function" />
      <style type="text/css"><![CDATA[
	p { font-size: 15px; }
      ]]></style>
   </head>
   <body>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.3 2024b - Information Object Definitions</span>
            </th>
         </tr>
      </table>
      <div xmlns="" class="navheader">
         <table width="100%" summary="Navigation header">
            <tr>
               <th colspan="3" align="center" rowspan="1">C.11.27.3 Compositor Component Usage <a accesskey="current" href="http://dicom.nema.org/medical/dicom/current/output/chtml/part03/sect_C.11.27.3.html" shape="rect">(Current)</a>
               </th>
            </tr>
            <tr>
               <td width="20%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_C.11.27.2.html" shape="rect">Prev</a> </td>
               <th width="60%" align="center" rowspan="1" colspan="1">C.11.27 MPR Volumetric Presentation State Display Module</th>
               <td width="20%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_C.11.27.4.html" shape="rect">Next</a>
               </td>
            </tr>
         </table>
         <hr />
      </div>
      <div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="breadcrumbs">
         <span class="breadcrumb-link">
            <a href="PS3.3.html" shape="rect">PS3.3</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="chapter_C.html" shape="rect">Information Module Definitions (Normative)</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="sect_C.11.html" shape="rect">Look Up Tables and Presentation States</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="sect_C.11.27.html" shape="rect">MPR Volumetric Presentation State Display Module</a>
         </span> &gt; <span class="breadcrumb-node">Compositor Component Usage</span>
      </div>
      <div class="section">
         <div class="titlepage">
            <div>
               <div>
                  <h4 class="title">
                     <a id="sect_C.11.27.3" shape="rect"></a>C.11.27.3 Compositor Component Usage</h4>
               </div>
            </div>
         </div>
         <p>
            <a id="para_12a4e7bf-8f18-4404-b4a8-65ab8ff3418c" shape="rect"></a>If Pixel Presentation (0008,9205) is TRUE_COLOR and there are more than one Item in the Presentation State Classification Component Sequence (0070,1801), the Presentation State Compositor Component Sequence (0070,1805) defines the transformations of the multiple RGB data streams produced by the Classification components into one RGB output stream, a process known as "compositing".</p>
         <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
            <h3 class="title">Note</h3>
            <p>
               <a id="para_f82d93c9-2b70-4ba9-9c78-9290066d7be1" shape="rect"></a>If there is only one Item in Presentation State Classification Sequence (0070,1801), Presentation State Compositor Sequence (0070,1801) is empty since there is only one RGB data stream so there is no need to composite.</p>
         </div>
         <p>
            <a id="para_6023a127-bce9-4bc6-8a68-df9092875536" shape="rect"></a>Each Item in Presentation State Compositor Component Sequence (0070,1805) describes one two-input "compositing component" in which two RGBA inputs are composited into one RGB output. The first compositor component in the Sequence combines the outputs of the first two classification components to produce one RGB output. Subsequent compositor components combine the output of the previous compositor component with the output of the next classification component to produce one RGB output. This process continues until the RGB outputs of all classification components are composited into a single RGB output.</p>
         <p>
            <a id="para_aec1967a-bd4a-4aaa-8518-f8af83c96ea1" shape="rect"></a>Each classification component produces a RGBA output, while each compositor component has two RGBA inputs to produce a RGB output. This means that all compositor components after the first in the Sequence have only one Alpha input available, that is the Alpha value from the next classification component output to be composited. In this case, (1-Alpha) is used in place of the Alpha input missing from the previous compositing component.</p>
         <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
            <h3 class="title">Note</h3>
            <p>
               <a id="para_0d12379e-9253-4b5d-a7da-9379092d0f38" shape="rect"></a>Through the use of (1-Alpha <sub>2</sub>) as Alpha <sub>1</sub>for the input from the previous Compositor, the Compositor performs standard Porter-Duff "A over B" compositing in all but the first compositor <a class="xref" href="chapter_2.html#biblio_PorterDuff_1984" shape="rect">[<abbr class="abbrev">Porter and Duff 1984</abbr>]</a>.</p>
         </div>
         <p>
            <a id="para_e9f0680a-e4c1-49ef-8746-4c886d3cadfb" shape="rect"></a>The internal structure and usage of the Compositor component is described in <a href="../part04/sect_FF.2.3.3.2.html" class="olink" shape="rect">Section FF.2.3.3.2 “Internal Structure of RGB and RGBA Compositor Components” in PS3.4</a>.</p>
      </div>
      <div class="navfooter">
         <hr />
         <table width="100%" summary="Navigation footer">
            <tr>
               <td width="40%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_C.11.27.2.html" shape="rect">Prev</a> </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="u" href="sect_C.11.27.html" shape="rect">Up</a>
               </td>
               <td width="40%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_C.11.27.4.html" shape="rect">Next</a>
               </td>
            </tr>
            <tr>
               <td width="40%" align="left" valign="top" rowspan="1" colspan="1">C.11.27.2 Classification Component Usage </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="h" href="PS3.3.html" shape="rect">Home</a>
               </td>
               <td width="40%" align="right" valign="top" rowspan="1" colspan="1"> C.11.27.4 Weighting Transfer Function</td>
            </tr>
         </table>
      </div>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.3 2024b - Information Object Definitions</span>
            </th>
         </tr>
      </table>
   </body>
</html>
