<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>C.8.19.6.9 X-Ray Projection Pixel Calibration Macro</title>
      <link rel="stylesheet" type="text/css" href="dicom.css" />
      <meta name="generator" content="DocBook XSL Stylesheets V1.78.1" />
      <link rel="home" href="PS3.3.html" title="PS3.3" />
      <link rel="up" href="sect_C.8.19.6.html" title="C.8.19.6 Enhanced XA/XRF Image Functional Group Macros" />
      <link rel="prev" href="sect_C.8.19.6.8.html" title="C.8.19.6.8 X-Ray Frame Acquisition Macro" />
      <link rel="next" href="sect_C.8.19.6.10.html" title="C.8.19.6.10 X-Ray Positioner Macro" />
      <style type="text/css"><![CDATA[
	p { font-size: 15px; }
      ]]></style>
   </head>
   <body>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.3 2024b - Information Object Definitions</span>
            </th>
         </tr>
      </table>
      <div xmlns="" class="navheader">
         <table width="100%" summary="Navigation header">
            <tr>
               <th colspan="3" align="center" rowspan="1">C.8.19.6.9 X-Ray Projection Pixel Calibration Macro <a accesskey="current" href="http://dicom.nema.org/medical/dicom/current/output/chtml/part03/sect_C.8.19.6.9.html" shape="rect">(Current)</a>
               </th>
            </tr>
            <tr>
               <td width="20%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_C.8.19.6.8.html" shape="rect">Prev</a> </td>
               <th width="60%" align="center" rowspan="1" colspan="1">C.8.19.6 Enhanced XA/XRF Image Functional Group Macros</th>
               <td width="20%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_C.8.19.6.10.html" shape="rect">Next</a>
               </td>
            </tr>
         </table>
         <hr />
      </div>
      <div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="breadcrumbs">
         <span class="breadcrumb-link">
            <a href="PS3.3.html" shape="rect">PS3.3</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="chapter_C.html" shape="rect">Information Module Definitions (Normative)</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="sect_C.8.html" shape="rect">Modality Specific Modules</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="sect_C.8.19.html" shape="rect">Enhanced XA/XRF Image</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="sect_C.8.19.6.html" shape="rect">Enhanced XA/XRF Image Functional Group Macros</a>
         </span> &gt; <span class="breadcrumb-node">X-Ray Projection Pixel Calibration Macro</span>
      </div>
      <div class="section">
         <div class="titlepage">
            <div>
               <div>
                  <h5 class="title">
                     <a id="sect_C.8.19.6.9" shape="rect"></a>C.8.19.6.9 X-Ray Projection Pixel Calibration Macro</h5>
               </div>
            </div>
         </div>
         <p>
            <a id="para_683ba200-3b09-4f6f-97b1-b2b6a07ed321" shape="rect"></a>
                            <a class="xref" href="sect_C.8.19.6.9.html#table_C.8.19.6-9" title="Table C.8.19.6-9. X-Ray Projection Pixel Calibration Macro Attributes" shape="rect">Table C.8.19.6-9</a> specifies the Attributes of the <a class="xref" href="sect_C.8.19.6.9.html" title="C.8.19.6.9 X-Ray Projection Pixel Calibration Macro" shape="rect">X-Ray Projection Pixel Calibration Macro</a>.</p>
         <div class="table">
            <a id="table_C.8.19.6-9" shape="rect"></a>
            <p class="title">
               <strong>Table C.8.19.6-9. X-Ray Projection Pixel Calibration Macro Attributes</strong>
            </p>
            <div class="table-contents">
               <table frame="box" rules="all">
                  <thead>
                     <tr valign="top">
                        <th align="center" rowspan="1" colspan="1">
                                        <p>
                              <a id="para_acbdefe3-241c-4bb2-a67c-07fee1adeb29" shape="rect"></a>Attribute Name</p>
                                    </th>
                        <th align="center" rowspan="1" colspan="1">
                                        <p>
                              <a id="para_b6c2b82e-da4e-4632-aee2-9ce29c6c3fcc" shape="rect"></a>Tag</p>
                                    </th>
                        <th align="center" rowspan="1" colspan="1">
                                        <p>
                              <a id="para_8cab0a4e-0ad9-4ec0-a1b9-36b3026d8fbd" shape="rect"></a>Type</p>
                                    </th>
                        <th align="center" rowspan="1" colspan="1">
                                        <p>
                              <a id="para_4dd152a8-4c04-452b-bb54-c22f0cba4204" shape="rect"></a>Attribute Description</p>
                                    </th>
                     </tr>
                  </thead>
                  <tbody>
                     <tr valign="top">
                        <td align="left" rowspan="1" colspan="1">
                                        <p>
                              <a id="para_7df03cb5-2293-419f-8fd1-dc802500f2ab" shape="rect"></a>Projection Pixel Calibration Sequence</p>
                                    </td>
                        <td align="center" rowspan="1" colspan="1">
                                        <p>
                              <a id="para_b55eb23e-98ca-4768-981f-bb8f706d9a57" shape="rect"></a>(0018,9401)</p>
                                    </td>
                        <td align="center" rowspan="1" colspan="1">
                                        <p>
                              <a id="para_5644e442-d2fc-4e12-a732-40d957455da7" shape="rect"></a>1</p>
                                    </td>
                        <td align="left" rowspan="1" colspan="1">
                                        <p>
                              <a id="para_624db768-6b2c-4b91-99be-c511930ff124" shape="rect"></a>A Sequence that describes the geometrical position of the patient relative to the equipment.</p>
                                        <p>
                              <a id="para_a5ac0cac-0877-46fc-a72f-e891bb220315" shape="rect"></a>Only a single Item shall be included in this Sequence.</p>
                                    </td>
                     </tr>
                     <tr valign="top">
                        <td align="left" rowspan="1" colspan="1">
                                        <p>
                              <a id="para_83668929-6d78-4075-8adb-7dd4f02eb19e" shape="rect"></a>&gt;Distance Object to Table Top</p>
                                    </td>
                        <td align="center" rowspan="1" colspan="1">
                                        <p>
                              <a id="para_7eb349ea-8cd9-45e6-91ac-7a8793298d0d" shape="rect"></a>(0018,9403)</p>
                                    </td>
                        <td align="center" rowspan="1" colspan="1">
                                        <p>
                              <a id="para_eb5ababf-6541-4de7-873f-c3cb045fab1a" shape="rect"></a>2</p>
                                    </td>
                        <td align="left" rowspan="1" colspan="1">
                                        <p>
                              <a id="para_e4c5efbe-dd67-47ed-93f2-12f2e85d52c3" shape="rect"></a>Distance between the anatomic region of interest of observation and table top in mm.</p>
                                        <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                              <h3 class="title">Note</h3>
                              <div class="orderedlist">
                                 <ol class="orderedlist" type="1">
                                    <li class="listitem">
                                       <p>
                                          <a id="para_e347991f-e69b-4a3b-8bd6-00fed7901f0a" shape="rect"></a>This value is always positive, the object is assumed to be above the table.</p>
                                    </li>
                                    <li class="listitem">
                                       <p>
                                          <a id="para_a503c034-8d56-44e1-a21e-44f2f8968d92" shape="rect"></a>The value of this Attribute is depending on the patient position on the tabletop (supine, left or right decubitus, etc.)</p>
                                    </li>
                                 </ol>
                              </div>
                           </div>
                                    </td>
                     </tr>
                     <tr valign="top">
                        <td align="left" rowspan="1" colspan="1">
                                        <p>
                              <a id="para_a21794dc-5d4d-4d35-9f9e-1bf996bc1741" shape="rect"></a>&gt;Object Pixel Spacing in Center of Beam</p>
                                    </td>
                        <td align="center" rowspan="1" colspan="1">
                                        <p>
                              <a id="para_b71419ba-08fd-4fb6-9587-a54114904262" shape="rect"></a>(0018,9404)</p>
                                    </td>
                        <td align="center" rowspan="1" colspan="1">
                                        <p>
                              <a id="para_a9eb80f9-ca14-4bae-9ceb-c7b62acc392a" shape="rect"></a>1C</p>
                                    </td>
                        <td align="left" rowspan="1" colspan="1">
                                        <p>
                              <a id="para_27539cc0-46f3-4ad9-a798-1e7ba57e0e85" shape="rect"></a>Physical distance within the anatomic region of interest in the center of the beam and perpendicular to the beam between the center of each pixel, specified by a numeric pair adjacent row spacing (delimiter) adjacent column spacing in mm. See <a class="xref" href="sect_C.8.19.6.9.html#sect_C.8.19.6.9.2" title="C.8.19.6.9.2 Object Pixel Spacing in Center of Beam" shape="rect">Section C.8.19.6.9.2</a>. See <a class="xref" href="sect_10.7.html#sect_10.7.1.3" title="10.7.1.3 Pixel Spacing Value Order and Valid Values" shape="rect">Section 10.7.1.3</a> for further explanation of the value order.</p>
                                        <p>
                              <a id="para_c31efb57-a6fc-4a33-a1b1-eaa15dc46b99" shape="rect"></a>Required if Distance Object to Table Top (0018,9403) is not empty.</p>
                                        <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                              <h3 class="title">Note</h3>
                              <p>
                                 <a id="para_3a7016b2-4fe4-425c-b102-2c5372c90e39" shape="rect"></a>This value is provided besides the values that are the input parameters of the calibration algorithm.</p>
                           </div>
                                    </td>
                     </tr>
                     <tr valign="top">
                        <td align="left" rowspan="1" colspan="1">
                                        <p>
                              <a id="para_db8b900b-8949-42e6-9da4-9b9d88b42a61" shape="rect"></a>&gt;Table Height</p>
                                    </td>
                        <td align="center" rowspan="1" colspan="1">
                                        <p>
                              <a id="para_12cc2d86-55f6-4c21-9730-3f8f96a9eb1c" shape="rect"></a>(0018,1130)</p>
                                    </td>
                        <td align="center" rowspan="1" colspan="1">
                                        <p>
                              <a id="para_c5715a44-9fab-4826-a67c-cc5581939c4f" shape="rect"></a>1C</p>
                                    </td>
                        <td align="left" rowspan="1" colspan="1">
                                        <p>
                              <a id="para_f454c693-c186-4f87-bbd9-17f4a1777882" shape="rect"></a>The distance of the top of the patient table to the center of rotation of the source (i.e., the isocenter) in mm. A positive value indicates that the tabletop is below the isocenter.</p>
                                        <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                              <h3 class="title">Note</h3>
                              <p>
                                 <a id="para_d181ba0a-ee71-47ee-81b0-747817340ddb" shape="rect"></a>All the distances are measured perpendicular to the Table Top plane.</p>
                           </div>
                                        <p>
                              <a id="para_89065272-f9c2-4193-ba57-3c27a47028ba" shape="rect"></a>Required if Image Type (0008,0008) Value 1 is ORIGINAL, may be present otherwise.</p>
                                    </td>
                     </tr>
                     <tr valign="top">
                        <td align="left" rowspan="1" colspan="1">
                                        <p>
                              <a id="para_2e6baeea-58e7-45ff-b8d0-bf0c683c0be7" shape="rect"></a>&gt;Beam Angle</p>
                                    </td>
                        <td align="center" rowspan="1" colspan="1">
                                        <p>
                              <a id="para_975f6e95-220c-416c-95a5-030ac127ea49" shape="rect"></a>(0018,9449)</p>
                                    </td>
                        <td align="center" rowspan="1" colspan="1">
                                        <p>
                              <a id="para_6935d0cc-f2f7-4233-8e72-13d5d5660d9e" shape="rect"></a>1C</p>
                                    </td>
                        <td align="left" rowspan="1" colspan="1">
                                        <p>
                              <a id="para_145a2893-937f-4607-beda-9fd4ddb93718" shape="rect"></a>The equipment related angle in degrees of the X-Ray beam relative to the perpendicular to the tabletop plane. An angle from 0 to +90 degrees indicates that the X-Ray source is below the table.</p>
                                        <p>
                              <a id="para_e075b31e-98ed-48c6-b420-675d9e381386" shape="rect"></a>The valid range is 0 to +180 degrees.</p>
                                        <p>
                              <a id="para_bd4eba34-e4f5-4923-acac-2a3a6bb87267" shape="rect"></a>Required if Image Type (0008,0008) Value 1 is ORIGINAL, may be present otherwise.</p>
                                    </td>
                     </tr>
                  </tbody>
               </table>
            </div>
         </div>
         <br class="table-break" clear="none" />
         <div class="section">
            <div class="titlepage">
               <div>
                  <div>
                     <h6 class="title">
                        <a id="sect_C.8.19.6.9.1" shape="rect"></a>C.8.19.6.9.1 Projection Calibration Method</h6>
                  </div>
               </div>
            </div>
            <p>
               <a id="para_8906d120-cd3e-4c6c-acca-48c4d8c98a18" shape="rect"></a>The X-Ray Projection Pixel Calibration Macro defines the Attributes needed to completely describe the specific inputs and results from projection image pixel calibration based on isocenter reference. The Attributes are provided to allow usage of calibration result as well as recalibration. <a class="xref" href="sect_C.8.19.6.9.html#figure_C.8.19.6-1" title="Figure C.8.19.6-1. Projection Calibration Without Angulation of the X-Ray Beam (Beam Angle = 0)" shape="rect">Figure C.8.19.6-1</a> and <a class="xref" href="sect_C.8.19.6.9.html#figure_C.8.19.6-2" title="Figure C.8.19.6-2. Projection Calibration With Angulation of the X-Ray Beam (Beam Angle Not Equal to 0)" shape="rect">Figure C.8.19.6-2</a> illustrate the relationship of the Attributes.</p>
            <p>
               <a id="para_0a90e823-292e-488d-a01b-832335ee72a4" shape="rect"></a>In <a class="xref" href="sect_C.8.19.6.9.html#figure_C.8.19.6-1" title="Figure C.8.19.6-1. Projection Calibration Without Angulation of the X-Ray Beam (Beam Angle = 0)" shape="rect">Figure C.8.19.6-1</a> and <a class="xref" href="sect_C.8.19.6.9.html#figure_C.8.19.6-2" title="Figure C.8.19.6-2. Projection Calibration With Angulation of the X-Ray Beam (Beam Angle Not Equal to 0)" shape="rect">Figure C.8.19.6-2</a>, the object of interest of size D (in mm) is projected on the stored image over a distance of #Px (in pixels). The pixel spacing on the stored image is called DPx. The "Source to Isocenter Distance" is called ISO. The "Source Image Receptor Distance" is called SID. The shortest distance from the tabletop plane to the Isocenter and to the object of interest are called respectively TH and TO. The angle between the X-Ray beam and the axis perpendicular to the tabletop plane is called Beam Angle. Finally, the distance from the X-Ray source to the object of interest in the direction of the X-Ray beam is called SOD and is calculated from the other distances.</p>
            <p>
               <a id="para_43a9b4f6-a0a2-43a1-a95b-cb9049638296" shape="rect"></a>DPx: Imager Pixel Spacing (0018,1164)</p>
            <p>
               <a id="para_2cc6a6da-bf07-46f9-a2d9-bec08db01362" shape="rect"></a>ISO: Source Isocenter Distance (0018,9402)</p>
            <p>
               <a id="para_5bbcc33a-1d3f-4d49-b41c-c46e9e934494" shape="rect"></a>SID: Distance Source to Detector (0018,1110)</p>
            <p>
               <a id="para_14a7b3f4-46d8-4ed5-9516-99dc6045ffc2" shape="rect"></a>TH: Table Height (0018,1130)</p>
            <p>
               <a id="para_358f1bb2-d73f-46a2-aefa-b299d4e0b263" shape="rect"></a>TO: Distance Object to Table Top (0018,9403)</p>
            <p>
               <a id="para_33448bb5-e153-469c-9841-73ace434cf9b" shape="rect"></a>Beam Angle: Beam Angle (0018,9449)</p>
            <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
               <h3 class="title">Note</h3>
               <p>
                  <a id="para_a72a15ed-1d61-464e-a985-12a000aacebc" shape="rect"></a>The equipment related Beam Angle (0018,9449) Attribute shall be consistent with the patient oriented Positioner Primary Angle (0018,1510) and Positioner Secondary Angle (0018,1511) together with the patient orientation on the table specified in Patient Orientation Code Sequence (0054,0410) Attributes.</p>
            </div>
            <p>
               <a id="para_28c24082-16e4-428e-918f-bb9310735b26" shape="rect"></a>
                                <a class="xref" href="sect_C.8.19.6.9.html#figure_C.8.19.6-1" title="Figure C.8.19.6-1. Projection Calibration Without Angulation of the X-Ray Beam (Beam Angle = 0)" shape="rect">Figure C.8.19.6-1</a> and <a class="xref" href="sect_C.8.19.6.9.html#figure_C.8.19.6-2" title="Figure C.8.19.6-2. Projection Calibration With Angulation of the X-Ray Beam (Beam Angle Not Equal to 0)" shape="rect">Figure C.8.19.6-2</a> illustrate the usage of the Attributes under the conditions laid out above.</p>
            <p>
               <a id="para_6ed6fc58-1646-447c-b15d-2ef757544e3a" shape="rect"></a>
                                </p>
            <div class="figure">
               <a id="figure_C.8.19.6-1" shape="rect"></a>
               <div class="figure-contents">
                  <div class="mediaobject">
                     <img src="figures/PS3.3_C.8.19.6-1.svg" alt="Projection Calibration Without Angulation of the X-Ray Beam (Beam Angle = 0)" />
                  </div>
               </div>
               <p class="title">
                  <strong>Figure C.8.19.6-1. Projection Calibration Without Angulation of the X-Ray Beam (Beam Angle = 0)</strong>
               </p>
            </div>
            <p>
               <br class="figure-break" clear="none" />
                            </p>
            <p>
               <a id="para_1ade4708-7834-4ff5-ac75-42077e5dc03e" shape="rect"></a>
                                </p>
            <div class="figure">
               <a id="figure_C.8.19.6-2" shape="rect"></a>
               <div class="figure-contents">
                  <div class="mediaobject">
                     <img src="figures/PS3.3_C.8.19.6-2.svg" alt="Projection Calibration With Angulation of the X-Ray Beam (Beam Angle Not Equal to 0)" />
                  </div>
               </div>
               <p class="title">
                  <strong>Figure C.8.19.6-2. Projection Calibration With Angulation of the X-Ray Beam (Beam Angle Not Equal to 0)</strong>
               </p>
            </div>
            <p>
               <br class="figure-break" clear="none" />
                            </p>
         </div>
         <div class="section">
            <div class="titlepage">
               <div>
                  <div>
                     <h6 class="title">
                        <a id="sect_C.8.19.6.9.2" shape="rect"></a>C.8.19.6.9.2 Object Pixel Spacing in Center of Beam</h6>
                  </div>
               </div>
            </div>
            <p>
               <a id="para_1d9849d9-cdea-4ed5-b494-44b0bbc55a55" shape="rect"></a>The value provided for Beam Angle (0018,9449) shall correspond to the other Attribute values within this Module and according to the mathematic terms listed in <a class="xref" href="sect_C.8.19.6.9.html#sect_C.8.19.6.9.1" title="C.8.19.6.9.1 Projection Calibration Method" shape="rect">Section C.8.19.6.9.1</a>.</p>
            <p>
               <a id="para_7b943d53-aee1-4f53-a93d-13eb82b1284a" shape="rect"></a>The terms listed will result in infinite result when used with 90-degree beam angles.</p>
            <p>
               <a id="para_1d61eac6-33fe-428c-b1a9-160d1307365a" shape="rect"></a>It is outside the scope of this Standard to define reasonable limits for single input values in the above-mentioned terms, or to define the mathematical accuracy of applications using those terms.</p>
            <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
               <h3 class="title">Note</h3>
               <p>
                  <a id="para_dc99bae9-d512-4919-9030-f4f6f799138b" shape="rect"></a>It may be reasonable to limit automatic calculations to a narrow range of +/- 60 degrees for Beam Angle and inform users about possible deviations in the calibration result when exceeding such range limits.</p>
            </div>
         </div>
      </div>
      <div class="navfooter">
         <hr />
         <table width="100%" summary="Navigation footer">
            <tr>
               <td width="40%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_C.8.19.6.8.html" shape="rect">Prev</a> </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="u" href="sect_C.8.19.6.html" shape="rect">Up</a>
               </td>
               <td width="40%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_C.8.19.6.10.html" shape="rect">Next</a>
               </td>
            </tr>
            <tr>
               <td width="40%" align="left" valign="top" rowspan="1" colspan="1">C.8.19.6.8 X-Ray Frame Acquisition Macro </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="h" href="PS3.3.html" shape="rect">Home</a>
               </td>
               <td width="40%" align="right" valign="top" rowspan="1" colspan="1"> C.8.19.6.10 X-Ray Positioner Macro</td>
            </tr>
         </table>
      </div>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.3 2024b - Information Object Definitions</span>
            </th>
         </tr>
      </table>
   </body>
</html>
