<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>P Stored File Access Through Non-DICOM Protocols (Normative)</title>
      <link rel="stylesheet" type="text/css" href="dicom.css" />
      <meta name="generator" content="DocBook XSL Stylesheets V1.78.1" />
      <link rel="home" href="PS3.3.html" title="PS3.3" />
      <link rel="up" href="PS3.3.html" title="PS3.3" />
      <link rel="prev" href="chapter_O.html" title="O Clinical Trial Identification Workflow Examples (Retired)" />
      <link rel="next" href="sect_P.2.html" title="P.2 Access Protocols" />
      <style type="text/css"><![CDATA[
	p { font-size: 15px; }
      ]]></style>
   </head>
   <body>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.3 - Information Object Definitions</span>
            </th>
         </tr>
      </table>
      <div xmlns="" class="navheader">
         <table width="100%" summary="Navigation header">
            <tr>
               <th colspan="3" align="center" rowspan="1">P Stored File Access Through Non-DICOM Protocols (Normative) <a accesskey="current" href="http://dicom.nema.org/medical/dicom/current/output/chtml/part03/chapter_P.html" shape="rect">(Current)</a>
               </th>
            </tr>
            <tr>
               <td width="20%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="chapter_O.html" shape="rect">Prev</a> </td>
               <th width="60%" align="center" rowspan="1" colspan="1"> </th>
               <td width="20%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_P.2.html" shape="rect">Next</a>
               </td>
            </tr>
         </table>
         <hr />
      </div>
      <div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="breadcrumbs">
         <span class="breadcrumb-link">
            <a href="PS3.3.html" shape="rect">PS3.3</a>
         </span> &gt; <span class="breadcrumb-node">Stored File Access Through Non-DICOM Protocols (Normative)</span>
      </div>
      <div class="chapter">
         <div class="titlepage">
            <div>
               <div>
                  <h1 class="title">
                     <a id="chapter_P" shape="rect"></a>P Stored File Access Through Non-DICOM Protocols (Normative)</h1>
               </div>
            </div>
         </div>
         <p>
            <a id="para_5ea6b656-b98f-4f47-8431-8d172f5df436" shape="rect"></a>The <a class="xref" href="sect_A.88.html" title="A.88 Inventory IOD" shape="rect">Section A.88 Inventory IOD</a>, and specifically the <a class="xref" href="sect_C.38.html#sect_C.38.1" title="C.38.1 Inventory Module" shape="rect">Section C.38.1 Inventory Module</a>, includes optional Attributes providing a URI for SOP Instances stored in the DICOM File Format and accessible through a non-DICOM file access protocol. Additionally, Inventory SOP Instances themselves may be stored in the DICOM File Format and be accessible through a non-DICOM file access protocol as specified in a URI in the Inventory Creation Response (see <a class="xref" href="sect_C.30.html" title="C.30 Unified Procedure Step Specific Modules" shape="rect">Section C.30</a>, and the <a class="xref" href="sect_C.38.3.html" title="C.38.3 Inventory Creation Module" shape="rect">Section C.38.3 Inventory Creation Module</a>). This Annex specifies constraints on those URIs and their target resources (files).</p>
         <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
            <h3 class="title">Note</h3>
            <p>
               <a id="para_a76e2fbc-5762-4a06-ba5e-6dc77385f094" shape="rect"></a>See also <a href="../part17/sect_YYYY.6.html" class="olink" shape="rect">Section YYYY.6 “Security Considerations” in PS3.17</a>.</p>
         </div>
         <div class="section">
            <div class="titlepage">
               <div>
                  <div>
                     <h2 class="title" style="clear: both">
                        <a id="sect_P.1" shape="rect"></a>P.1 Files and Sets of Files</h2>
                  </div>
               </div>
            </div>
            <div class="section">
               <div class="titlepage">
                  <div>
                     <div>
                        <h3 class="title">
                           <a id="sect_P.1.1" shape="rect"></a>P.1.1 DICOM File Format</h3>
                     </div>
                  </div>
               </div>
               <p>
                  <a id="para_33ae4010-0bab-412c-b05c-41162299b573" shape="rect"></a>Each stored SOP Instance that is a target of an Inventory URI shall be encoded in accordance with the DICOM File Format (see <a href="../part10/chapter_7.html" class="olink" shape="rect">Section 7 “DICOM File Format” in PS3.10</a>).</p>
               <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                  <h3 class="title">Note</h3>
                  <p>
                     <a id="para_f575673e-219c-4a0a-b150-05d994e71761" shape="rect"></a>Depending on the storage mechanism, this target resource may be denoted a "file" or an "object". The term "file" is used in this specification.</p>
               </div>
            </div>
            <div class="section">
               <div class="titlepage">
                  <div>
                     <div>
                        <h3 class="title">
                           <a id="sect_P.1.2" shape="rect"></a>P.1.2 Container File Formats</h3>
                     </div>
                  </div>
               </div>
               <p>
                  <a id="para_74885937-9982-461e-917f-70fbe77a7c66" shape="rect"></a>SOP Instances in the DICOM File Format may be aggregated into container files in accordance with the mechanisms specified in this Section.</p>
               <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                  <h3 class="title">Note</h3>
                  <p>
                     <a id="para_ba54cb66-bd01-4712-836a-18e564a11710" shape="rect"></a>Directly or indirectly executable files within container files are a security risk. A producer of a container file should avoid including such executable files. A reader should take actions to mitigate against such executable files when reading a container file. See <a href="../part17/sect_YYYY.6.2.html" class="olink" shape="rect">Section YYYY.6.2 “File Format” in PS3.17</a>.</p>
               </div>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h4 class="title">
                              <a id="sect_P.1.2.1" shape="rect"></a>P.1.2.1 ZIP</h4>
                        </div>
                     </div>
                  </div>
                  <p>
                     <a id="para_84d6328c-5136-4cb4-86a7-2995095c80bf" shape="rect"></a>Multiple SOP Instance files may be included in a ZIP container file in accordance with <a class="xref" href="chapter_2.html#biblio_ISO21320-1" title="Information technology – Document Container File – Part 1: Core" shape="rect">[<abbr class="abbrev">ISO 21320-1</abbr>]</a>.</p>
                  <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                     <h3 class="title">Note</h3>
                     <p>
                        <a id="para_1140e6db-a869-4ae0-9ab5-00b3ca9168de" shape="rect"></a>
                            <a class="xref" href="chapter_2.html#biblio_ISO21320-1" title="Information technology – Document Container File – Part 1: Core" shape="rect">[<abbr class="abbrev">ISO 21320-1</abbr>]</a> is a constraint on the <a class="xref" href="chapter_2.html#biblio_ZIP" title="ZIP File Format Specification" shape="rect">[<abbr class="abbrev">ZIP</abbr>]</a> specification, and in particular supports only uncompressed or <a class="xref" href="chapter_2.html#biblio_RFC_1951" title="DEFLATE Compressed Data Format Specification Version 1.3" shape="rect">[<abbr class="abbrev">RFC1951</abbr>]</a> DEFLATE compressed files, and does not permit encryption.</p>
                  </div>
               </div>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h4 class="title">
                              <a id="sect_P.1.2.2" shape="rect"></a>P.1.2.2 TAR</h4>
                        </div>
                     </div>
                  </div>
                  <p>
                     <a id="para_f89e775d-bb69-46bb-995a-778b7e55b99b" shape="rect"></a>Multiple SOP Instance files may be included in a TAR container file (i.e., a file in accordance with the ustar Interchange Format) in accordance with <a class="xref" href="chapter_2.html#biblio_POSIX" title="POSIX.1-2017 (IEEE Std 1003.1™-2017)" shape="rect">[<abbr class="abbrev">POSIX</abbr>]</a>.</p>
                  <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                     <h3 class="title">Note</h3>
                     <p>
                        <a id="para_d6b7cf0f-2965-4419-ba77-0444ef8b4dcc" shape="rect"></a>"ustar" is the formal name, derived from "Unix Standard Tape ARchive", although TAR is the common term and is used in this specification. The specification for ustar Interchange Format is in the <a class="xref" href="chapter_2.html#biblio_POSIX" title="POSIX.1-2017 (IEEE Std 1003.1™-2017)" shape="rect">[<abbr class="abbrev">POSIX</abbr>]</a> section "pax - portable archive interchange".</p>
                  </div>
               </div>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h4 class="title">
                              <a id="sect_P.1.2.3" shape="rect"></a>P.1.2.3 GZIP</h4>
                        </div>
                     </div>
                  </div>
                  <p>
                     <a id="para_0cdbd17e-7e5f-4ba9-a6c4-73716e06f56a" shape="rect"></a>A single SOP Instance file may be included in a GZIP container file in accordance with <a class="xref" href="chapter_2.html#biblio_RFC_1952" title="GZIP file format specification version 4.3" shape="rect">[<abbr class="abbrev">RFC1952</abbr>]</a>.</p>
                  <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                     <h3 class="title">Note</h3>
                     <p>
                        <a id="para_aa21340d-d4ff-4a20-ac13-5579d7aeaac7" shape="rect"></a>The GZIP format supports compression of the contained file using <a class="xref" href="chapter_2.html#biblio_RFC_1951" title="DEFLATE Compressed Data Format Specification Version 1.3" shape="rect">[<abbr class="abbrev">RFC1951</abbr>]</a> DEFLATE compression.</p>
                  </div>
               </div>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h4 class="title">
                              <a id="sect_P.1.2.4" shape="rect"></a>P.1.2.4 TARGZIP</h4>
                        </div>
                     </div>
                  </div>
                  <p>
                     <a id="para_c7f96d81-8fa4-4c24-9f9c-60d2fa02a4bb" shape="rect"></a>Multiple SOP Instance files may be included in a TAR container file in accordance with <a class="xref" href="chapter_2.html#biblio_POSIX" title="POSIX.1-2017 (IEEE Std 1003.1™-2017)" shape="rect">[<abbr class="abbrev">POSIX</abbr>]</a>, which is then contained within a GZIP container file in accordance with <a class="xref" href="chapter_2.html#biblio_RFC_1952" title="GZIP file format specification version 4.3" shape="rect">[<abbr class="abbrev">RFC1952</abbr>]</a>.</p>
                  <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                     <h3 class="title">Note</h3>
                     <p>
                        <a id="para_003c4519-f803-4e04-8976-325a9f0ea75c" shape="rect"></a>The TARGZIP format supports compression of the multiple SOP Instances in the TAR.</p>
                  </div>
               </div>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h4 class="title">
                              <a id="sect_P.1.2.5" shape="rect"></a>P.1.2.5 BLOB</h4>
                        </div>
                     </div>
                  </div>
                  <p>
                     <a id="para_ba8f4756-038c-45df-91bd-e3a39371bf56" shape="rect"></a>Multiple SOP Instance files may be included in a container file without standardized file delimitation, typically denoted a binary large object (BLOB) or an octet-stream. For use in DICOM, files contained in the BLOB are required to be delimited by externally managed byte offsets and file lengths.</p>
               </div>
            </div>
            <div class="section">
               <div class="titlepage">
                  <div>
                     <div>
                        <h3 class="title">
                           <a id="sect_P.1.3" shape="rect"></a>P.1.3 Folders for Sets of Files</h3>
                     </div>
                  </div>
               </div>
               <p>
                  <a id="para_d404b403-c4ad-443a-85ec-9dd203e4b44a" shape="rect"></a>The file storage mechanism may support data structures that manage references to sets of files in a folder.</p>
               <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                  <h3 class="title">Note</h3>
                  <p>
                     <a id="para_6d39bc51-d595-49dd-8d3a-35bbda427881" shape="rect"></a>Depending on the storage mechanism,these structures may alternately be denoted "directories". The term "folder" is used in this specification due to potential ambiguities with the term "directory".</p>
               </div>
               <p>
                  <a id="para_f89bde3a-021e-422d-bed2-235342e37a06" shape="rect"></a>The storage of multiple SOP Instance files may be managed such that all SOP Instances in a Study or in a Series are contained within a single folder. Within that folder, some or all of the files may be included in a ZIP, TAR, GZIP, TARGZIP, or BLOB container file.</p>
            </div>
         </div>
      </div>
      <div class="navfooter">
         <hr />
         <table width="100%" summary="Navigation footer">
            <tr>
               <td width="40%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="chapter_O.html" shape="rect">Prev</a> </td>
               <td width="20%" align="center" rowspan="1" colspan="1"> </td>
               <td width="40%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_P.2.html" shape="rect">Next</a>
               </td>
            </tr>
            <tr>
               <td width="40%" align="left" valign="top" rowspan="1" colspan="1">O Clinical Trial Identification Workflow Examples (Retired) </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="h" href="PS3.3.html" shape="rect">Home</a>
               </td>
               <td width="40%" align="right" valign="top" rowspan="1" colspan="1"> P.2 Access Protocols</td>
            </tr>
         </table>
      </div>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.3 - Information Object Definitions</span>
            </th>
         </tr>
      </table>
   </body>
</html>
