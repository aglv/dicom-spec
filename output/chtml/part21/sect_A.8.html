<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>A.8 Overview of Data Types</title>
      <link rel="stylesheet" type="text/css" href="dicom.css" />
      <meta name="generator" content="DocBook XSL Stylesheets V1.78.1" />
      <link rel="home" href="PS3.21.html" title="PS3.21" />
      <link rel="up" href="chapter_A.html" title="A Transformation Between AIM and DICOM SR" />
      <link rel="prev" href="sect_A.7.2.html" title="A.7.2 Target DICOM SR &quot;Measurement Report&quot; (TID 1500)" />
      <style type="text/css"><![CDATA[
	p { font-size: 15px; }
      ]]></style>
   </head>
   <body>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.21 2024c - Transformations between DICOM and other Representations</span>
            </th>
         </tr>
      </table>
      <div xmlns="" class="navheader">
         <table width="100%" summary="Navigation header">
            <tr>
               <th colspan="3" align="center" rowspan="1">A.8 Overview of Data Types <a accesskey="current" href="http://dicom.nema.org/medical/dicom/current/output/chtml/part21/sect_A.8.html" shape="rect">(Current)</a>
               </th>
            </tr>
            <tr>
               <td width="20%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_A.7.2.html" shape="rect">Prev</a> </td>
               <th width="60%" align="center" rowspan="1" colspan="1">A Transformation Between AIM and DICOM SR</th>
               <td width="20%" align="right" rowspan="1" colspan="1"> </td>
            </tr>
         </table>
         <hr />
      </div>
      <div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="breadcrumbs">
         <span class="breadcrumb-link">
            <a href="PS3.21.html" shape="rect">PS3.21</a>
         </span> &gt; <span class="breadcrumb-link">
            <a href="chapter_A.html" shape="rect">Transformation Between AIM and DICOM SR</a>
         </span> &gt; <span class="breadcrumb-node">Overview of Data Types</span>
      </div>
      <div class="section">
         <div class="titlepage">
            <div>
               <div>
                  <h2 class="title" style="clear: both">
                     <a id="sect_A.8" shape="rect"></a>A.8 Overview of Data Types</h2>
               </div>
            </div>
         </div>
         <p>
            <a id="para_48f6d8a7-8476-4e58-8e59-0c50d37d7c23" shape="rect"></a>DICOM data types are specified in PS3.5 of the Standard (<a href="../part05/PS3.5.html" class="olink" shape="rect">PS3.5</a>).</p>
         <p>
            <a id="para_507e25fb-bc91-4855-ad62-34bbdb838df5" shape="rect"></a>The AIM V4 data types are a subset of <a class="xref" href="chapter_2.html#biblio_ISO_21090" title="Health informatics -- Harmonized data types for information interchange" shape="rect">[<abbr class="abbrev">ISO 21090</abbr>]</a>, which are in turn based on <a class="xref" href="chapter_2.html#biblio_HL7V3DTR1" title="HL7 Version 3 Standard: XML Implementation Technology Specification - Wire Format Compatible Release 1 Data Types, Release 1" shape="rect">[<abbr class="abbrev">V3 DT R1</abbr>]</a>. The AIM V4 data types used are documented in <a class="xref" href="chapter_2.html#biblio_AIMV3V4Changes" title="Changes from AIM 3.0, Revision 11 to AIM Foundation - Summary of Changes Between AIM 3.0 and 4.0 Models" shape="rect">[<abbr class="abbrev">AIM v3 v4 changes</abbr>]</a> and <a class="xref" href="chapter_2.html#biblio_AIM_Model_Extending" title="Extending the AIM Model" shape="rect">[<abbr class="abbrev">Extending AIM</abbr>]</a>.</p>
         <p>
            <a id="para_d8623ebb-74da-4498-9ae2-beb3dbcd1548" shape="rect"></a>While a complete comparison of DICOM and <a class="xref" href="chapter_2.html#biblio_ISO_21090" title="Health informatics -- Harmonized data types for information interchange" shape="rect">[<abbr class="abbrev">ISO 21090</abbr>]</a> data types, cardinality and optionality is beyond the scope of this mapping guide, some hints are given on topics that are relevant for transforming AIM instances and DICOM SR Measurement Reports.</p>
         <p>
            <a id="para_53a145b4-586f-4ad4-b659-d069878e7d76" shape="rect"></a>The AIM V4 model uses the data types as specified in <a class="xref" href="sect_A.8.html#table_A.8-2" title="Table A.8-2. Mapping between DICOM Basic Code Attributes and AIM ISO 21090 Code Data Types (CD)" shape="rect">Table A.8-2</a> from <a class="xref" href="chapter_2.html#biblio_ISO_21090" title="Health informatics -- Harmonized data types for information interchange" shape="rect">[<abbr class="abbrev">ISO 21090</abbr>]</a>, of which only a subset are encountered in use cases described by this mapping. In XML encoded AIM instances, the data type is not explicitly encoded, though it is defined in the UML model.</p>
         <div class="table">
            <a id="table_A.8-1" shape="rect"></a>
            <p class="title">
               <strong>Table A.8-1. ISO 21090 Data Types used in AIM V4</strong>
            </p>
            <div class="table-contents">
               <table frame="box" rules="all">
                  <thead>
                     <tr valign="top">
                        <th align="center" rowspan="1" colspan="1">
                           <p>
                              <a id="para_35fb66c6-97ea-4e2b-a98a-fa933828b6ea" shape="rect"></a>ISO 21090 Data Types</p>
                        </th>
                        <th align="center" rowspan="1" colspan="1">
                           <p>
                              <a id="para_9d8bbeed-2830-466e-ad21-613995bd6426" shape="rect"></a>Description</p>
                        </th>
                     </tr>
                  </thead>
                  <tbody>
                     <tr valign="top">
                        <td align="center" rowspan="1" colspan="1">
                           <p>
                              <a id="para_c9b8fe00-2916-4a15-90ed-955ca8e6a23e" shape="rect"></a>BL</p>
                        </td>
                        <td align="left" rowspan="1" colspan="1">
                           <p>
                              <a id="para_d51d2be2-e64b-47ec-a74f-315964dad25d" shape="rect"></a>Boolean (two-valued logic). A BL value can be either true or false, or may have a nullFlavor.</p>
                        </td>
                     </tr>
                     <tr valign="top">
                        <td align="center" rowspan="1" colspan="1">
                           <p>
                              <a id="para_1a5c6420-1c40-4fe0-a9d0-5766d0a53bb5" shape="rect"></a>CD</p>
                        </td>
                        <td align="left" rowspan="1" colspan="1">
                           <p>
                              <a id="para_de5df6d8-bcad-4ed2-bd98-d34427ca1eb5" shape="rect"></a>Concept Descriptor. A reference to a concept defined in an external code system, terminology or ontology, or an expression in some syntax defined by the referenced code system.</p>
                        </td>
                     </tr>
                     <tr valign="top">
                        <td align="center" rowspan="1" colspan="1">
                           <p>
                              <a id="para_bb623c56-3126-46d6-b2a4-4b9ed39ed12d" shape="rect"></a>II</p>
                        </td>
                        <td align="left" rowspan="1" colspan="1">
                           <p>
                              <a id="para_8c4f8447-8b9a-4760-b468-343b6a493fad" shape="rect"></a>Instance Identifier. An identifier that uniquely identifies a thing or object. Instance identifiers are usually defined based on ISO object identifiers.</p>
                        </td>
                     </tr>
                     <tr valign="top">
                        <td align="center" rowspan="1" colspan="1">
                           <p>
                              <a id="para_6476708c-2413-421b-b858-17058059ca15" shape="rect"></a>INT</p>
                        </td>
                        <td align="left" rowspan="1" colspan="1">
                           <p>
                              <a id="para_9f082121-bc48-4cd3-a547-04bfb0ea7ab7" shape="rect"></a>Integer. No arbitrary limit is imposed on the range of integer numbers.</p>
                        </td>
                     </tr>
                     <tr valign="top">
                        <td align="center" rowspan="1" colspan="1">
                           <p>
                              <a id="para_8552da0e-4c92-41de-b140-aa838433891c" shape="rect"></a>REAL</p>
                        </td>
                        <td align="left" rowspan="1" colspan="1">
                           <p>
                              <a id="para_5cfbd59b-3627-467a-b50e-23b8197c31a4" shape="rect"></a>Fractional numbers. The typical representation is decimal.</p>
                        </td>
                     </tr>
                     <tr valign="top">
                        <td align="center" rowspan="1" colspan="1">
                           <p>
                              <a id="para_6b425b8b-cf7e-4681-9fdd-22ab1bc3e036" shape="rect"></a>ST</p>
                        </td>
                        <td align="left" rowspan="1" colspan="1">
                           <p>
                              <a id="para_3933925e-1e21-4295-a44d-21e61bdd321d" shape="rect"></a>Character string. Shall have at least one character or else have a nullFlavor.</p>
                        </td>
                     </tr>
                     <tr valign="top">
                        <td align="center" rowspan="1" colspan="1">
                           <p>
                              <a id="para_b220b2ee-24e0-48ed-b1eb-207fb996e90f" shape="rect"></a>TS</p>
                        </td>
                        <td align="left" rowspan="1" colspan="1">
                           <p>
                              <a id="para_22a68169-a7ca-4a3a-ad44-40635a10b53d" shape="rect"></a>Point in time. A quantity specifying a point on the axis of natural time. Most often represented as a calendar expression.</p>
                        </td>
                     </tr>
                  </tbody>
               </table>
            </div>
         </div>
         <br class="table-break" clear="none" />
         <p>
            <a id="para_9c06b578-bd3f-4324-bc9e-0b9bf975452a" shape="rect"></a>Additional data type mapping considerations include:</p>
         <div class="orderedlist">
            <ol class="orderedlist" type="a">
               <li class="listitem">
                  <p>
                     <a id="para_4da7a3c6-e2de-4863-b667-572e0185d583" shape="rect"></a>Optionality and nullFlavor</p>
                  <p>
                     <a id="para_36b258c8-a3ae-4a9c-aac5-50f3581a85a7" shape="rect"></a>If the original AIM instance does not include values that are required or mandatory in DICOM SR TID 1500, fixed values are specified since empty values are not permitted in DICOM SR TEXT and CODE entries and omitting the Content Item would violate the template constraints. All nullFlavor values are treated as empty, except for numeric values. </p>
               </li>
               <li class="listitem">
                  <p>
                     <a id="para_c5f98aef-acd6-450e-bf9b-69bf7c03b556" shape="rect"></a>Character Sets</p>
                  <p>
                     <a id="para_4238feb2-2ff5-4e6f-ab8e-fecd9d8df7e0" shape="rect"></a>DICOM provides information on the interpretation of text data types by specifying a default character set (ISO-IR 6) and "Specific Character Set" (0008,0005) values that are used if the Basic Graphic Set is expanded or replaced. For AIM, the XML declaration attribute "encoding" (overall document) and the attribute "charset" (for ST data type values) may be used to provide information on character sets. See the description of Specific Character Set in <a class="xref" href="sect_A.6.html#sect_A.6.1.1.11" title="A.6.1.1.11 Mapping of DICOM SOP Common Module" shape="rect">Section A.6.1.1.11 “Mapping of DICOM SOP Common Module”</a>.</p>
               </li>
               <li class="listitem">
                  <p>
                     <a id="para_eb4013fa-e798-46bd-9623-53c6ade63383" shape="rect"></a>Character strings</p>
                  <p>
                     <a id="para_c2ed2f0f-6fe9-4949-b1f0-70c0a8996b94" shape="rect"></a>In general, ST text value attributes in AIM XML elements are mapped to DICOM Text Value (0040,A160) of value type TEXT (with a VR of Unlimited Text (UT)) in the SR Content Tree. No maximum length is specified for AIM elements and attributes.</p>
                  <p>
                     <a id="para_f93a0529-230a-4f73-8b1e-bd4eb2530c10" shape="rect"></a>Some text value attributes in AIM XML elements are mapped to Attributes in the DICOM header, and DICOM length limits may apply to character strings such as Long String (LO), e.g., Patient ID.</p>
               </li>
               <li class="listitem">
                  <p>
                     <a id="para_8983729c-4199-4452-ab39-4730cce83ab0" shape="rect"></a>Identifiers</p>
                  <p>
                     <a id="para_e7c56dde-ddfb-4a23-aa28-686e27ac18be" shape="rect"></a>Unique identifiers in AIM V4 are encoded as the root attribute of an XML element (aim:uniqueIdentifier/​@root), which has an II data type, and are mapped to the DICOM UI VR, which is limited to 64 bytes.</p>
               </li>
               <li class="listitem">
                  <p>
                     <a id="para_db4bab48-c3df-4033-bce9-d8ba0387e524" shape="rect"></a>Codes</p>
                  <p>
                     <a id="para_dced8fda-6d5b-4ad5-a351-d01d7205d74a" shape="rect"></a>Codes in AIM V4 are encoded as attributes of the aim:typeCode XML element and are mapped as specified in <a class="xref" href="sect_A.8.html#table_A.8-2" title="Table A.8-2. Mapping between DICOM Basic Code Attributes and AIM ISO 21090 Code Data Types (CD)" shape="rect">Table A.8-2</a> below for the <a class="xref" href="chapter_2.html#biblio_ISO_21090" title="Health informatics -- Harmonized data types for information interchange" shape="rect">[<abbr class="abbrev">ISO 21090</abbr>]</a> code data type (CD). The code and codeSystemName attributes are encountered as attributes of the aim:typeCode XML element, but the displayName is the value attribute of a child element, aim:typeCode/​iso:displayName/​@value. Note that codeSystem (Coding Scheme UID) is usually not sent, even though it is required by <a class="xref" href="chapter_2.html#biblio_ISO_21090" title="Health informatics -- Harmonized data types for information interchange" shape="rect">[<abbr class="abbrev">ISO 21090</abbr>]</a>. DICOM also supports other Attributes for encoding code values that exceed 16 characters in length.</p>
                  <div class="table">
                     <a id="table_A.8-2" shape="rect"></a>
                     <p class="title">
                        <strong>Table A.8-2. Mapping between DICOM Basic Code Attributes and AIM ISO 21090 Code Data Types (CD)</strong>
                     </p>
                     <div class="table-contents">
                        <table frame="box" rules="all">
                           <thead>
                              <tr valign="top">
                                 <th align="center" colspan="2" rowspan="1">
                                    <p>
                                       <a id="para_9db5430f-df94-46c4-a64f-86caddfc1a0d" shape="rect"></a>DICOM Attribute and VR</p>
                                 </th>
                                 <th align="center" colspan="2" rowspan="1">
                                    <p>
                                       <a id="para_cb0de65d-7aa6-4547-9f3d-49c88eb863ee" shape="rect"></a>AIM Element and Attribute and ISO 21090 Data Type</p>
                                 </th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_696ffc4a-6844-4e71-bd01-0d6a118c3d24" shape="rect"></a>Code Value (0008,0100)</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_7cebad70-2304-4f35-ac78-1c00f51a9945" shape="rect"></a>SH</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_13e957f8-9cdb-4607-9594-95230d15d0fd" shape="rect"></a>aim:typeCode/​@code</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_00287a54-56c1-442b-b988-77a1d5f63708" shape="rect"></a>CD.characterstring</p>
                                 </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_efdab805-facf-470e-a627-7c8c1b69f5a1" shape="rect"></a>Coding Scheme UID (0008,0x010C)</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_57f5848a-8be4-4b08-904c-5c7b174c936d" shape="rect"></a>UI</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_13992445-25a4-4790-8d9c-7a3916c16c02" shape="rect"></a>aim:typeCode/​@codeSystem</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_b25e7b6b-4580-4638-89f9-3a44f080afd2" shape="rect"></a>CD.characterstring</p>
                                 </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_cc0ae466-5ea7-4f82-bb4b-408f87dcd404" shape="rect"></a>Coding Scheme Designator (0008,0102)</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_316b8c46-4736-4a6e-9f70-2b69b1f10e94" shape="rect"></a>SH</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_05029024-5dd2-42ae-87eb-167200eeac05" shape="rect"></a>aim:typeCode/​@codeSystemName</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_c72fb1cd-2105-421d-b57e-1cb50dfe3380" shape="rect"></a>CD.characterstring</p>
                                 </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_fc248382-c9ae-4883-ab88-0b4e4c6cd2dc" shape="rect"></a>Coding Scheme Version (0008,0103)</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_1774b314-a45e-4931-a4e0-47ffb8d5245e" shape="rect"></a>SH</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_8e3aeb0c-8a9d-42bf-bdf2-7258ef7598b0" shape="rect"></a>aim:typeCode/​@codeSystemVersion</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_41a38884-ea26-4f9c-8d02-88fdcb48130e" shape="rect"></a>CD.characterstring</p>
                                 </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_7caac131-f8ab-4508-bbcc-0989676a459c" shape="rect"></a>Code Meaning (0008,0104)</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_5b2c4c42-c673-4611-86f0-1cf6189936bd" shape="rect"></a>LO</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_a5710642-5aca-4c35-916a-9d3609fc55af" shape="rect"></a>aim:typeCode/​iso:displayName/​@value</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_6196c909-f68b-44c4-bf29-83819a3f04c3" shape="rect"></a>CD.ST</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                  </div>
                  <br class="table-break" clear="none" />
               </li>
               <li class="listitem">
                  <p>
                     <a id="para_ae193aac-5851-4505-baa2-3672bb2a5f23" shape="rect"></a>Date and Time</p>
                  <div class="itemizedlist">
                     <ul class="itemizedlist" style="list-style-type: disc; ">
                        <li class="listitem">
                           <p>
                              <a id="para_d05901bb-5da9-499d-a53b-867b8a644b4d" shape="rect"></a>The AIM V4 XML element aim:dateTime/​@value attribute corresponds to the ISO 21090 TS data type, and is mapped to the DICOM DateTime (DT) VR, or the combination of separate Date (DA) and Time (TM) Attributes.</p>
                        </li>
                        <li class="listitem">
                           <p>
                              <a id="para_43158009-00e7-4ec9-9471-a7c6145d8e9f" shape="rect"></a>DICOM DT matches TS except for the number of decimal places of fractional seconds (6 for DT versus 4 for TS).</p>
                        </li>
                        <li class="listitem">
                           <p>
                              <a id="para_cfaa81af-8d5a-4ca2-9c94-2ad72fd13931" shape="rect"></a>DICOM DA matches the TS part YYYYMMDD (Y=Year, M=Month, D=Day), except that TS may be missing DD or MMDD.</p>
                        </li>
                        <li class="listitem">
                           <p>
                              <a id="para_04858f57-afde-4841-ae16-d21c605ea277" shape="rect"></a>DICOM TM matches the TS part HHMMSS.UUUUUU (H=Hour, M=Minute, S=Second, U=Fractional Second) except for the number of decimal places of fractional seconds (6 for DT versus 4 for TS).</p>
                        </li>
                        <li class="listitem">
                           <p>
                              <a id="para_2013d00e-532b-4121-be44-29dbb5a69899" shape="rect"></a>If available, the DICOM Timezone Offset From UTC (0008,0201) used for DA or TM data types may be populated using time zone offset values from the ISO 21090 TS value.</p>
                        </li>
                        <li class="listitem">
                           <p>
                              <a id="para_cb6de56c-7d08-4350-b4c6-4f61c015fca0" shape="rect"></a>ISO TS allows for separators; these need to be removed for conversion to DT, DA and TM.</p>
                        </li>
                     </ul>
                  </div>
               </li>
               <li class="listitem">
                  <p>
                     <a id="para_1364fa5a-e7a5-4389-97fe-ff6bc340b06b" shape="rect"></a>Person Names</p>
                  <div class="itemizedlist">
                     <ul class="itemizedlist" style="list-style-type: disc; ">
                        <li class="listitem">
                           <p>
                              <a id="para_00d25ea2-80cd-4864-b36a-7ee2512a36d1" shape="rect"></a>DICOM Person Name (PN) shall be mapped from <a class="xref" href="chapter_2.html#biblio_ISO_21090" title="Health informatics -- Harmonized data types for information interchange" shape="rect">[<abbr class="abbrev">ISO 21090</abbr>]</a> data type Person Name (PN) as described in <a class="xref" href="sect_A.8.html#table_A.8-3" title="Table A.8-3. Mapping between DICOM Person Name (PN) ans ISO 21090 Data Type Person Name (PN)" shape="rect">Table A.8-3</a>.</p>
                           <div class="table">
                              <a id="table_A.8-3" shape="rect"></a>
                              <p class="title">
                                 <strong>Table A.8-3. Mapping between DICOM Person Name (PN) ans ISO 21090 Data Type Person Name (PN)</strong>
                              </p>
                              <div class="table-contents">
                                 <table frame="box" rules="all">
                                    <thead>
                                       <tr valign="top">
                                          <th align="center" rowspan="1" colspan="1">
                                             <p>
                                                <a id="para_537fd510-73a4-4a83-b92a-38f5b0d8880f" shape="rect"></a>DICOM Person Name (PN)</p>
                                          </th>
                                          <th align="center" rowspan="1" colspan="1">
                                             <p>
                                                <a id="para_0183cf65-fb78-4fd9-aed7-427f32822ce9" shape="rect"></a>ISO 21090 Data Type: Person Name (PN)</p>
                                          </th>
                                       </tr>
                                    </thead>
                                    <tbody>
                                       <tr valign="top">
                                          <td align="left" rowspan="1" colspan="1">
                                             <p>
                                                <a id="para_56fdfd46-3fb3-4cbc-9108-70bf9b95c199" shape="rect"></a>&lt;family_name_complex&gt;</p>
                                          </td>
                                          <td align="left" rowspan="1" colspan="1">
                                             <p>
                                                <a id="para_0de6e3f2-0710-48d6-8c60-546b4b8bba1e" shape="rect"></a>Family Part type</p>
                                          </td>
                                       </tr>
                                       <tr valign="top">
                                          <td align="left" rowspan="1" colspan="1">
                                             <p>
                                                <a id="para_d79eadbe-51c1-4059-91fa-0aaaa8d049c4" shape="rect"></a>&lt;given_name_complex&gt;</p>
                                          </td>
                                          <td align="left" rowspan="1" colspan="1">
                                             <p>
                                                <a id="para_4f4a0417-6654-4d41-a9d8-d8f091c1ec58" shape="rect"></a>Given Part type</p>
                                          </td>
                                       </tr>
                                       <tr valign="top">
                                          <td align="left" rowspan="1" colspan="1">
                                             <p>
                                                <a id="para_0752239a-0f09-45a5-a6cb-cfd3faaa87db" shape="rect"></a>&lt;middle_name&gt;</p>
                                          </td>
                                          <td align="left" rowspan="1" colspan="1">
                                             <p>
                                                <a id="para_46796ac3-47e1-48d9-8d81-a591d1b6d8a5" shape="rect"></a>Given Part type - order of parts matters</p>
                                          </td>
                                       </tr>
                                       <tr valign="top">
                                          <td align="left" rowspan="1" colspan="1">
                                             <p>
                                                <a id="para_ce4d4bf3-85c0-4f9a-9af5-dffbdd562d85" shape="rect"></a>&lt;name_suffix&gt;</p>
                                          </td>
                                          <td align="left" rowspan="1" colspan="1">
                                             <p>
                                                <a id="para_5c657628-e776-4742-a2a4-abcd0fe5a290" shape="rect"></a>Suffix Part type</p>
                                          </td>
                                       </tr>
                                       <tr valign="top">
                                          <td align="left" rowspan="1" colspan="1">
                                             <p>
                                                <a id="para_e95639b4-cf4a-4ef0-a521-dbf0e7961a56" shape="rect"></a>&lt;name_prefix&gt;</p>
                                          </td>
                                          <td align="left" rowspan="1" colspan="1">
                                             <p>
                                                <a id="para_d8b6e3dd-c23b-4ad9-bb2b-0eb238f3175e" shape="rect"></a>Prefix Part type</p>
                                          </td>
                                       </tr>
                                    </tbody>
                                 </table>
                              </div>
                           </div>
                           <br class="table-break" clear="none" />
                        </li>
                        <li class="listitem">
                           <p>
                              <a id="para_0b6b6460-639b-4f2b-a472-a48ab7d92c4e" shape="rect"></a>
                              <a class="xref" href="chapter_2.html#biblio_ISO_21090" title="Health informatics -- Harmonized data types for information interchange" shape="rect">[<abbr class="abbrev">ISO 21090</abbr>]</a> PN may contain multiple given names. DICOM PN Middle Name shall be mapped to <a class="xref" href="chapter_2.html#biblio_ISO_21090" title="Health informatics -- Harmonized data types for information interchange" shape="rect">[<abbr class="abbrev">ISO 21090</abbr>]</a> PN Given Name Part type.</p>
                           <div class="example">
                              <a id="example_A.8-1" shape="rect"></a>
                              <p class="title">
                                 <strong>Example A.8-1. Person Name Example</strong>
                              </p>
                              <div class="example-contents">
                                 <p>
                                    <a id="para_b18d64ec-f1b7-4b32-984b-d8abc3c0d27b" shape="rect"></a>John Robert Morrison, Ph.D. "Morrison^John Robert^^^Ph.D." [One family name; two given names; no middle name; no prefix; one suffix] can be represented as a <a class="xref" href="chapter_2.html#biblio_ISO_21090" title="Health informatics -- Harmonized data types for information interchange" shape="rect">[<abbr class="abbrev">ISO 21090</abbr>]</a> Person Name (PN) in the following way:</p>
                                 <pre class="programlisting" xml:space="preserve">&lt;name&gt;
   		&lt;given&gt;John&lt;/given&gt;
   		&lt;given&gt;Robert&lt;/given&gt;
		&lt;family&gt;Morrison&lt;/family&gt;
 		&lt;suffix&gt;Ph.D.&lt;/suffix&gt;
	&lt;/name&gt;
</pre>
                              </div>
                           </div>
                           <br class="example-break" clear="none" />
                        </li>
                        <li class="listitem">
                           <p>
                              <a id="para_413d0071-cc8c-47f7-b38d-4d45bf862bc6" shape="rect"></a>The following <a class="xref" href="chapter_2.html#biblio_ISO_21090" title="Health informatics -- Harmonized data types for information interchange" shape="rect">[<abbr class="abbrev">ISO 21090</abbr>]</a> PN use codes may be used to represent multi-part DICOM person names: ABC (Alphabetic), IDE (Ideographic), SYL (Phonetic).</p>
                           <div class="example">
                              <a id="example_A.8-2" shape="rect"></a>
                              <p class="title">
                                 <strong>Example A.8-2. HL7 V3 Multi-Part Person Name Example</strong>
                              </p>
                              <div class="example-contents">
                                 <pre class="programlisting" xml:space="preserve">&lt;name use="ABC"&gt;
   		&lt;family&gt;KIMURA&lt;/family&gt;
   		&lt;given&gt;MICHIO&lt;/given&gt;
	&lt;/name&gt;
	&lt;name use='IDE'&gt;
   		&lt;family&gt;木村&lt;/family&gt;
   		&lt;given&gt;道男&lt;/given&gt;
	&lt;/name&gt;
	&lt;name use="SYL"&gt;
   		&lt;family&gt;きむら&lt;/family&gt;
   		&lt;given&gt;みちお&lt;/given&gt;
	&lt;/name&gt;
</pre>
                              </div>
                           </div>
                           <br class="example-break" clear="none" />
                        </li>
                     </ul>
                  </div>
               </li>
               <li class="listitem">
                  <p>
                     <a id="para_57e1f0f3-6c47-4807-80a3-e12fb28b781f" shape="rect"></a>Numeric Measurements</p>
                  <p>
                     <a id="para_3ed6843c-c06a-4254-9a70-462b7aebee55" shape="rect"></a>DICOM Numeric Measurement value types shall be mapped from the <a class="xref" href="chapter_2.html#biblio_ISO_21090" title="Health informatics -- Harmonized data types for information interchange" shape="rect">[<abbr class="abbrev">ISO 21090</abbr>]</a> data types as specified in <a class="xref" href="sect_A.8.html#table_A.8-4" title="Table A.8-4. Mapping between DICOM Numeric Measurement Value Types and ISO 21090 Data Types" shape="rect">Table A.8-4</a>.</p>
                  <div class="table">
                     <a id="table_A.8-4" shape="rect"></a>
                     <p class="title">
                        <strong>Table A.8-4. Mapping between DICOM Numeric Measurement Value Types and ISO 21090 Data Types</strong>
                     </p>
                     <div class="table-contents">
                        <table frame="box" rules="all">
                           <thead>
                              <tr valign="top">
                                 <th align="center" colspan="2" rowspan="1">
                                    <p>
                                       <a id="para_13d90cce-ad82-45a4-a010-02d799638a2b" shape="rect"></a>DICOM <a href="../part03/PS3.3.html" class="olink" shape="rect">PS3.3</a>, <a href="../part05/PS3.5.html" class="olink" shape="rect">PS3.5</a> and <a href="../part16/PS3.16.html" class="olink" shape="rect">PS3.16</a>: Numeric Measurement (NUM) Value Type</p>
                                 </th>
                                 <th align="center" colspan="2" rowspan="1">
                                    <p>
                                       <a id="para_2c634e3f-d27a-4779-a349-f45c25bcfb49" shape="rect"></a>AIM Path and ISO 21090 Data Type</p>
                                 </th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_f7c12c2e-a54a-4849-8f50-2a185e3bbd46" shape="rect"></a>Measured Value Sequence (0040,A300) &gt; Concept Name Code Sequence (0040,A043)</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_16d57463-ed7d-4e75-879c-28a2262b56ad" shape="rect"></a>Code Sequence Macro</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_62e93a8f-5eea-4a79-aae3-b52f83bf284f" shape="rect"></a>CalculationEntity/​typeCode[1]</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_3f06afa0-ab09-45c7-8ff1-547259d5cfd0" shape="rect"></a>CD</p>
                                 </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_99bd176e-e361-40a3-89f3-f69fe99096fd" shape="rect"></a>Measured Value Sequence (0040,A300) &gt; Numeric Value (0040,A30A)</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_cf5f10df-f297-430f-941e-990f85ae4d71" shape="rect"></a>DS</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_7f65d216-ebbf-442d-b180-6f81cf8df488" shape="rect"></a>CalculationEntity/​calculationResultCollection/​CalculationResult/​​@value</p>
                                    <p>
                                       <a id="para_78c4423d-f517-43cc-8a0f-e910aed6b50e" shape="rect"></a>CalculationEntity/​calculationResultCollection/​CalculationResult/​​calculationDataCollection/​CalculationData/​@value</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_b959c226-553d-4b08-b565-4f0ed4cabac3" shape="rect"></a>ST</p>
                                 </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_df163ffd-5592-47e5-bb54-3dceb7f49f58" shape="rect"></a>Measured Value Sequence (0040,A300) &gt; Measurement Units Code Sequence (0040,08EA)</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_e9ebe78f-f38d-42d1-b7c5-5f16abae1cbf" shape="rect"></a>Code Sequence Macro</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_e5639dae-1dd3-4b4d-87b9-c2014014fd22" shape="rect"></a>CalculationEntity/​calculationResultCollection/​CalculationResult/​unitOfMeasure</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_594c760c-8777-429e-972d-03058cd494b8" shape="rect"></a>ST</p>
                                 </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_769a78b3-606d-4aeb-9471-62af957fa815" shape="rect"></a>Numeric Value Qualifier Code Sequence (0040,A301)</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_4a5bb8b4-5cef-447e-93ab-4175f7d313b3" shape="rect"></a>Code Sequence Macro</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_ee3dacf4-dc84-441e-90ec-72d10c3305d3" shape="rect"></a>CalculationEntity/​calculationResultCollection/​CalculationResult/​calculationDataCollection/​CalculationData/​@value</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_5bca4224-0564-4116-be80-fd8401d647c7" shape="rect"></a>ST</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                  </div>
                  <br class="table-break" clear="none" />
                  <p>
                     <a id="para_ce8e42f3-5629-4b08-9f17-109416cb3c9e" shape="rect"></a>The <a class="xref" href="chapter_2.html#biblio_ISO_21090" title="Health informatics -- Harmonized data types for information interchange" shape="rect">[<abbr class="abbrev">ISO 21090</abbr>]</a> PQ data type is not used in AIM.</p>
                  <p>
                     <a id="para_d6d34ef3-b9dd-42f1-af4d-7ed0a3c544d4" shape="rect"></a>The Concept Name of the measurement is usually pre-coordinated in a single CalculationEntity/​typeCode entry. If there is more than one CalculationEntity/​typeCode, the first is assumed to be the primary concept and the others may be modifiers that, if recognized as such, may be mapped to method and derivation, or if otherwise recognized and name-value pair of concepts can be constructed can be encoded as generic modifiers, but otherwise have to be ignored.</p>
                  <p>
                     <a id="para_1d61f48e-3e93-4f7a-b516-6d8b848e8e90" shape="rect"></a>The Numeric Value may be found as the single value of a CompactCalculationResult (i.e., value child of CalculationResult) or the first value of an ExtendedCalculationResult (i.e., nested within calculationResultCollection). This can give rise to a difference in representation in a round trip conversion.</p>
                  <p>
                     <a id="para_8c79d718-a9ff-4aea-b52a-ad9a92e98345" shape="rect"></a>Units of measurement shall be converted from a text string (ST) to a Coded Sequence entry using the UCUM Code Values and "UCUM" as the Coding Scheme Designator (in AIM, CalculationResult/​unitOfMeasure is defined as "A string representation of UCUM unit for the value of the calculation").</p>
                  <p>
                     <a id="para_683000ee-7bbe-4949-b7f4-754ac53c1f41" shape="rect"></a>The AIM CalculationData/​@value shall be assumed to be in the US English locale (i.e., periods are used as the decimal point, not commas, etc.).</p>
                  <p>
                     <a id="para_3eea8356-ef7b-401b-bc00-9116f896290e" shape="rect"></a>The length of the AIM CalculationData/​@value ST is not limited, but the DICOM DS value representation is limited to 16 characters. Values of CalculationData/​@value that are too long shall be truncated or rounded to fit in an implementation-dependent manner.</p>
                  <p>
                     <a id="para_6f6ac400-ee61-434f-b70f-0a0d03d30644" shape="rect"></a>The CalculationResult/​dataType (e.g., Double, Integer) is not encoded in the DICOM mapping, since all DICOM SR numeric values are encoded as a Decimal String (DS), so in a round trip from AIM to DICOM and back to AIM will not be recovered (i.e., will always be encoded as Double). For the use cases for this mapping, it is likely that all measurements will be Double anyway.</p>
                  <p>
                     <a id="para_0be77456-db43-4acb-9217-fded9d3126ae" shape="rect"></a>DICOM allows the Measured Value Sequence (0040,A300) to be sent zero length (empty) if there is no value. In such cases the Numeric Value Qualifier Code Sequence (0040,A301) may be used in DICOM to send a code indicating why, either because of an invalid floating point result (e.g., <a href="../part16/chapter_D.html#DCM_114000" class="olink" shape="rect">(114000, DCM, "Not a number")</a> corresponding to <a class="xref" href="chapter_2.html#biblio_IEEE754" title="32-bit and 64-bit Floating Point Number Representations" shape="rect">[<abbr class="abbrev">IEEE 754</abbr>]</a> NaN), or for more general reasons (e.g., <a href="../part16/chapter_D.html#DCM_114006" class="olink" shape="rect">(114006, DCM, "Measurement failure")</a>). See <a href="../part16/sect_CID_42.html" class="olink" shape="rect">CID 42 “Numeric Value Qualifier”</a>. <a class="xref" href="sect_A.8.html#table_A.8-4" title="Table A.8-4. Mapping between DICOM Numeric Measurement Value Types and ISO 21090 Data Types" shape="rect">Table A.8-4</a> indicates that a non-numeric CalculationData/@value may be mapped to Numeric Value Qualifier Code Sequence (0040,A301). Various possible mappings of AIM string values to a subset of DICOM codes corresponding to <a class="xref" href="chapter_2.html#biblio_IEEE754" title="32-bit and 64-bit Floating Point Number Representations" shape="rect">[<abbr class="abbrev">IEEE 754</abbr>]</a> are defined in <a class="xref" href="sect_A.8.html#table_A.8-5" title="Table A.8-5. Mapping between DICOM Numeric Value Qualifier Code Sequence and AIM ST" shape="rect">Table A.8-5</a>. These are based
            on the:</p>
                  <div class="itemizedlist">
                     <ul class="itemizedlist" style="list-style-type: disc; ">
                        <li class="listitem">
                           <p>
                              <a id="para_b3cc4d54-d949-4e70-a8ee-f209839ee264" shape="rect"></a>Java Double.toString(double) definition (see <a class="link" href="https://docs.oracle.com/javase/8/docs/api/java/lang/Double.html#toString-double-" target="_top" shape="rect">https://docs.oracle.com/javase/8/docs/api/java/lang/Double.html#toString-double-</a>)</p>
                        </li>
                        <li class="listitem">
                           <p>
                              <a id="para_09e95f78-fc4b-4dd4-bae2-634c92770c2e" shape="rect"></a>
                              <a class="xref" href="chapter_2.html#biblio_XSD_DataTypes" title="XML Schema Part 2: Datatypes" shape="rect">[<abbr class="abbrev">XSD Datatypes</abbr>]</a>
                           </p>
                        </li>
                        <li class="listitem">
                           <p>
                              <a id="para_f3609879-1e3a-4087-b046-b0b09ab1e808" shape="rect"></a>
                              <a class="xref" href="chapter_2.html#biblio_ISO_21090" title="Health informatics -- Harmonized data types for information interchange" shape="rect">[<abbr class="abbrev">ISO 21090</abbr>]</a>
                           </p>
                        </li>
                     </ul>
                  </div>
                  <p>
                     <a id="para_39cd7bab-6a9c-49d7-8bc9-5248801308a4" shape="rect"></a>No similar standard C or C++ mapping is known to exist (e.g., for libc dtostr() or sprintf()). Other languages offer some flexibility (e.g., Python supports case insensitive variants of "NaN" and "Infinity", the latter with or without a sign; see <a class="link" href="http://docs.python.org/3/library/functions.html#float" target="_top" shape="rect">http://docs.python.org/3/library/functions.html#float</a>). For JavaScript, see <a class="link" href="https://tc39.github.io/ecma262/#sec-tostring-applied-to-the-number-type" target="_top" shape="rect">https://tc39.github.io/ecma262/#sec-tostring-applied-to-the-number-type</a>, <a class="link" href="https://tc39.github.io/ecma262/#sec-parsefloat-string" target="_top" shape="rect">https://tc39.github.io/ecma262/#sec-parsefloat-string</a> and <a class="link" href="https://tc39.github.io/ecma262/#sec-number.parsefloat" target="_top" shape="rect">https://tc39.github.io/ecma262/#sec-number.parsefloat</a>. The table describes a subset of possible values, the mapping may not be exact (e.g., the definitions of NaN may differ), the mapping is ambiguous (since AIM does not define which string source to use), and the mapping of other values is undefined.</p>
                  <div class="table">
                     <a id="table_A.8-5" shape="rect"></a>
                     <p class="title">
                        <strong>Table A.8-5. Mapping between DICOM Numeric Value Qualifier Code Sequence and AIM ST</strong>
                     </p>
                     <div class="table-contents">
                        <table frame="box" rules="all">
                           <thead>
                              <tr valign="top">
                                 <th align="center" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_29293882-c619-4023-8be7-ab5f4ad7a6f7" shape="rect"></a>DICOM Code</p>
                                 </th>
                                 <th align="center" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_72948da2-bbf3-4981-af85-9089bc188158" shape="rect"></a>Java String</p>
                                 </th>
                                 <th align="center" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_2bf28d24-cfb0-4628-b96a-0e6cc9d8585c" shape="rect"></a>XML Schema</p>
                                 </th>
                                 <th align="center" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_0b063ca6-de37-49ab-b293-a15c3fd29803" shape="rect"></a>ISO 21090 Null Flavor</p>
                                 </th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_725a20a9-b809-4832-8418-5494c2f11f35" shape="rect"></a>
                                       <a href="../part16/chapter_D.html#DCM_114000" class="olink" shape="rect">(114000, DCM, "Not a number")</a>
                                    </p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_5eeb62f3-10a5-4c47-91e3-4860a809f23b" shape="rect"></a>NaN</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_f8ea391c-547b-4bdb-9d01-6234e3b3caec" shape="rect"></a>NaN</p>
                                 </td>
                                 <td rowspan="1" colspan="1"></td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_2d2be3c4-b844-4ce5-8d28-f863e7545e5f" shape="rect"></a>
                                       <a href="../part16/chapter_D.html#DCM_114001" class="olink" shape="rect">(114001, DCM, "Negative Infinity")</a>
                                    </p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_6c8bcec9-64aa-47a3-911a-fabe67198271" shape="rect"></a>-Infinity</p>
                                 </td>
                                 <td rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_df1e636b-891e-4c49-9f3c-152ff00f3a6b" shape="rect"></a>-INF</p>
                                 </td>
                                 <td rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_92619187-219f-4b39-aff5-c16d051b247d" shape="rect"></a>NINF</p>
                                 </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_d3458423-7b01-4739-88a6-f57f0d36c8d0" shape="rect"></a>
                                       <a href="../part16/chapter_D.html#DCM_114002" class="olink" shape="rect">(114002, DCM, "Positive Infinity")</a>
                                    </p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_6b4f83ec-5023-42d5-a897-5659513b2b49" shape="rect"></a>Infinity</p>
                                 </td>
                                 <td rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_7dcccf47-c579-49b9-b36a-e6a7ea3daf4c" shape="rect"></a>INF</p>
                                 </td>
                                 <td rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_4a30013c-259a-4246-8a3c-4b51b62efed6" shape="rect"></a>PINF</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                  </div>
                  <br class="table-break" clear="none" />
               </li>
               <li class="listitem">
                  <p>
                     <a id="para_c9dfb59a-72c4-41ca-b243-e1d40cab18e7" shape="rect"></a>Image and segmentation references</p>
                  <p>
                     <a id="para_a656ba8d-f4bb-4e76-8ce4-1ade9fb41278" shape="rect"></a>DICOM image references may be mapped as specified in <a class="xref" href="sect_A.8.html#table_A.8-6" title="Table A.8-6. DICOM Image references to AIM Path" shape="rect">Table A.8-6</a>.</p>
                  <div class="table">
                     <a id="table_A.8-6" shape="rect"></a>
                     <p class="title">
                        <strong>Table A.8-6. DICOM Image references to AIM Path</strong>
                     </p>
                     <div class="table-contents">
                        <table frame="box" rules="all">
                           <thead>
                              <tr valign="top">
                                 <th align="center" colspan="2" rowspan="1">
                                    <p>
                                       <a id="para_a6a40482-85cc-479f-a29d-f20dce17572a" shape="rect"></a>DICOM <a href="../part03/PS3.3.html" class="olink" shape="rect">PS3.3</a>, <a href="../part05/PS3.5.html" class="olink" shape="rect">PS3.5</a> and <a href="../part16/PS3.16.html" class="olink" shape="rect">PS3.16</a>: Image Reference (IMAGE) Value Type</p>
                                 </th>
                                 <th align="center" colspan="2" rowspan="1">
                                    <p>
                                       <a id="para_1696caeb-6742-4adb-8675-8c9b90a734e9" shape="rect"></a>AIM Path and ISO 21090 Data Type</p>
                                 </th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_67cd09cd-2d44-47b3-b466-60f999b8aa4a" shape="rect"></a>Referenced SOP Sequence &gt; Referenced SOP Class UID</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_f62ccd49-830c-4870-8af5-e80961f24d58" shape="rect"></a>UI</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_701fecdc-2a8b-47d4-8b52-02ada8ed1d9a" shape="rect"></a>/Image​Annotation​Collection/​image​Annotations/​Image​Annotation/​imageReferenceEntityCollection/​ImageReferenceEntity/​imageStudy/​imageSeries/​imageCollection/​Image[sopInstanceUid/​@root=​imageReferenceUid/​@root]/​sopClassUid/​@root</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_bb4d641a-7d59-47e9-9d92-37d5123dd98c" shape="rect"></a>II</p>
                                 </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_01601a3b-c634-44e1-981e-d4f93b62916f" shape="rect"></a>Referenced SOP Sequence &gt; Referenced SOP Instance UID</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_d6fdfa26-703d-4fef-9e45-dd7633169b2a" shape="rect"></a>UI</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_cbbacd9e-cc9f-42d2-8c99-d3b45d5ba736" shape="rect"></a>imageReferenceUid/​@root</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_8597471f-6777-4235-a8e5-779d5c78e854" shape="rect"></a>II</p>
                                 </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_3d1fe3ef-01cf-4d07-b337-28ec3ce35414" shape="rect"></a>Referenced SOP Sequence &gt; Referenced Frame Number</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_2c5f6a96-2b97-480d-94fb-26616834e305" shape="rect"></a>IS</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_abc17cac-b963-4394-91f3-d943b7e04afb" shape="rect"></a>referencedFrameNumber/​@value</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_db2edbf9-27f2-40ca-bd76-44c90e8a06c9" shape="rect"></a>INT</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                  </div>
                  <br class="table-break" clear="none" />
                  <p>
                     <a id="para_99c05498-1a1e-48c8-940a-0b436e8b04dc" shape="rect"></a>An image reference in the AIM tree locally consists of the SOP Instance UID only, without SOP Class, which is described elsewhere in the tree in the imageReferenceEntityCollection (which, similar to the DICOM Current Requested Procedure Evidence Sequence or Pertinent Other Evidence Sequence, also contains the Study and Series level information). Hence the use of the predicate "sopInstanceUid/​@root=$sopInstanceUID" in the path in the table.</p>
                  <p>
                     <a id="para_4605072d-31ab-4635-981b-6cf14d8eced6" shape="rect"></a>The AIM version 4.2 model includes an optional AccessionNumber in the imageStudy class used in the imageReferenceEntityCollection. This may be preserved in a DICOM SR instance in the ImageLibrary.</p>
                  <p>
                     <a id="para_f47b35af-1e76-48bf-b9a8-8d95b34168a5" shape="rect"></a>DICOM segmentation references may be mapped as specified in <a class="xref" href="sect_A.8.html#table_A.8-7" title="Table A.8-7. DICOM Segmentation references to AIM Path" shape="rect">Table A.8-7</a>.</p>
                  <div class="table">
                     <a id="table_A.8-7" shape="rect"></a>
                     <p class="title">
                        <strong>Table A.8-7. DICOM Segmentation references to AIM Path</strong>
                     </p>
                     <div class="table-contents">
                        <table frame="box" rules="all">
                           <thead>
                              <tr valign="top">
                                 <th align="center" colspan="2" rowspan="1">
                                    <p>
                                       <a id="para_4e9395bc-e5da-4207-9b25-aa6069656309" shape="rect"></a>DICOM <a href="../part03/PS3.3.html" class="olink" shape="rect">PS3.3</a>, <a href="../part05/PS3.5.html" class="olink" shape="rect">PS3.5</a> and <a href="../part16/PS3.16.html" class="olink" shape="rect">PS3.16</a>: Image Reference (IMAGE) Value Type</p>
                                 </th>
                                 <th align="center" colspan="2" rowspan="1">
                                    <p>
                                       <a id="para_ee663b02-c7de-40b6-8e89-f1a8b1e54a57" shape="rect"></a>AIM Path and ISO 21090 Data Type</p>
                                 </th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_8808a374-08a0-4e07-b384-841b6e50ad67" shape="rect"></a>Referenced SOP Sequence &gt; Referenced SOP Class UID</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_60d9d4fb-e068-49f5-b0aa-e87e37aa435b" shape="rect"></a>UI</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_e1fcb82d-83fe-49bf-b3c1-f2d683a532ab" shape="rect"></a>SegmentationEntity/​sopClassUid/​@root</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_89f4ded5-b8ca-4b39-94e2-2e0d381bd2f1" shape="rect"></a>II</p>
                                 </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_30e9ddcb-2922-49f4-a637-97634aba32f9" shape="rect"></a>Referenced SOP Sequence &gt; Referenced SOP Instance UID</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_50ec909c-9461-42c5-88af-feae78186996" shape="rect"></a>UI</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_c20b2378-8516-4a1c-8e63-e54a48bcb5b9" shape="rect"></a>​SegmentationEntity/​sopInstanceUid/​@root</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_dfce09d3-2c05-4a3b-ab7c-a162c6e8a327" shape="rect"></a>II</p>
                                 </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_b4d7f987-49ce-4dc7-8993-31379fa5cab1" shape="rect"></a>Referenced SOP Sequence &gt; Referenced Segment Number</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_e135f5d9-3c99-4f1f-9074-01f0a0a7de0b" shape="rect"></a>US</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_703f6bdc-a059-451b-b025-1b5ea096feba" shape="rect"></a>SegmentationEntity/​segmentNumber/​@value</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <a id="para_2ec1264a-075d-421c-9063-fb6adc5d9fea" shape="rect"></a>INT</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                  </div>
                  <br class="table-break" clear="none" />
                  <p>
                     <a id="para_0e1bf246-ccfd-4a35-bc6d-8f3b67c29f42" shape="rect"></a>The SOP Class UID is included locally in the AIM tree with the reference, rather than being factored out into the imageReferenceEntityCollection, in which it is not present.</p>
                  <p>
                     <a id="para_56daa39b-d85b-4727-b44f-24a939ec7402" shape="rect"></a>Ideally, all segmentation references would be included in either Current Requested Procedure Evidence Sequence or Pertinent Other Evidence Sequence as appropriate.
              There is optional information in the AIM 4.2 model to identify the Study and Series, but if the Study and Series Instance UIDs are absent,
              they cannot be assumed to be those of any related images.</p>
                  <p>
                     <a id="para_1ea039d9-8f12-46d3-8de6-160a1e5767fc" shape="rect"></a>The reference to the original image that was segmented or a representative image on which the segmentation may be displayed,
                which may be present in SegmentationEntity/​referencedSopInstanceUid/​@root, may be encoded in a separate Content Item if supported by the template (e.g., TID 1410, TID 1411) in <a href="../part16/chapter_D.html#DCM_121233" class="olink" shape="rect">(121233, DCM, "Source image for segmentation")</a>.</p>
               </li>
            </ol>
         </div>
      </div>
      <div class="navfooter">
         <hr />
         <table width="100%" summary="Navigation footer">
            <tr>
               <td width="40%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_A.7.2.html" shape="rect">Prev</a> </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="u" href="chapter_A.html" shape="rect">Up</a>
               </td>
               <td width="40%" align="right" rowspan="1" colspan="1"> </td>
            </tr>
            <tr>
               <td width="40%" align="left" valign="top" rowspan="1" colspan="1">A.7.2 Target DICOM SR "Measurement Report" (TID 1500) </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="h" href="PS3.21.html" shape="rect">Home</a>
               </td>
               <td width="40%" align="right" valign="top" rowspan="1" colspan="1"> </td>
            </tr>
         </table>
      </div>
      <table xmlns="" xmlns:d="http://docbook.org/ns/docbook" width="100%">
         <tr>
            <th colspan="1" align="center" rowspan="1">
               <span class="documentreleaseinformation">DICOM PS3.21 2024c - Transformations between DICOM and other Representations</span>
            </th>
         </tr>
      </table>
   </body>
</html>
